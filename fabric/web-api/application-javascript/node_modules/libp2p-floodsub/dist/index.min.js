(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pFloodsub = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pFloodsub=(()=>{var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ff=T((o9,Lf)=>{var Df="Expected a function",qf=0/0,Qb="[object Symbol]",Xb=/^\s+|\s+$/g,e3=/^[-+]0x[0-9a-f]+$/i,t3=/^0b[01]+$/i,r3=/^0o[0-7]+$/i,i3=parseInt,n3=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,a3=typeof self=="object"&&self&&self.Object===Object&&self,s3=n3||a3||Function("return this")(),o3=Object.prototype,f3=o3.toString,u3=Math.max,c3=Math.min,es=function(){return s3.Date.now()};function h3(t,e,r){var i,n,a,s,o,f,u=0,c=!1,d=!1,b=!0;if(typeof t!="function")throw new TypeError(Df);e=Kf(e)||0,ba(r)&&(c=!!r.leading,d="maxWait"in r,a=d?u3(Kf(r.maxWait)||0,e):a,b="trailing"in r?!!r.trailing:b);function g(D){var G=i,z=n;return i=n=void 0,u=D,s=t.apply(z,G),s}function v(D){return u=D,o=setTimeout(C,e),c?g(D):s}function _(D){var G=D-f,z=D-u,Q=e-G;return d?c3(Q,a-z):Q}function I(D){var G=D-f,z=D-u;return f===void 0||G>=e||G<0||d&&z>=a}function C(){var D=es();if(I(D))return R(D);o=setTimeout(C,_(D))}function R(D){return o=void 0,b&&i?g(D):(i=n=void 0,s)}function P(){o!==void 0&&clearTimeout(o),u=0,i=f=n=o=void 0}function O(){return o===void 0?s:R(es())}function q(){var D=es(),G=I(D);if(i=arguments,n=this,f=D,G){if(o===void 0)return v(f);if(d)return o=setTimeout(C,e),g(f)}return o===void 0&&(o=setTimeout(C,e)),s}return q.cancel=P,q.flush=O,q}function d3(t,e,r){var i=!0,n=!0;if(typeof t!="function")throw new TypeError(Df);return ba(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),h3(t,e,{leading:i,maxWait:e,trailing:n})}function ba(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function l3(t){return!!t&&typeof t=="object"}function p3(t){return typeof t=="symbol"||l3(t)&&f3.call(t)==Qb}function Kf(t){if(typeof t=="number")return t;if(p3(t))return qf;if(ba(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ba(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Xb,"");var r=t3.test(t);return r||r3.test(t)?i3(t.slice(2),r?2:8):e3.test(t)?qf:+t}Lf.exports=d3});var zf=T((Of,Uf)=>{"use strict";var b3=Ff();Of=Uf.exports=ts;function ts(t){if(!(this instanceof ts))return new ts(t);t=t||{};let e=t.validity||30,r=new Map,i=b3(()=>{r.forEach((n,a)=>{let s=n.validity||e;y3(n.timestamp)>s&&r.delete(a)})},200);this.put=(n,a,s)=>{this.has(n)||r.set(n,{value:a,timestamp:new Date,validity:s}),i()},this.get=n=>{if(r.has(n))return r.get(n).value;throw new Error("key does not exist")},this.has=n=>r.has(n)}function y3(t){let r=new Date().getTime()-t.getTime();return Math.floor(r/1e3)}});var Hf=T((f9,Vf)=>{"use strict";function v3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var n=t.charAt(i),a=n.charCodeAt(0);if(e[a]!==255)throw new TypeError(n+" is ambiguous");e[a]=i}var s=t.length,o=t.charAt(0),f=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var v=0,_=0,I=0,C=g.length;I!==C&&g[I]===0;)I++,v++;for(var R=(C-I)*u+1>>>0,P=new Uint8Array(R);I!==C;){for(var O=g[I],q=0,D=R-1;(O!==0||q<_)&&D!==-1;D--,q++)O+=256*P[D]>>>0,P[D]=O%s>>>0,O=O/s>>>0;if(O!==0)throw new Error("Non-zero carry");_=q,I++}for(var G=R-_;G!==R&&P[G]===0;)G++;for(var z=o.repeat(v);G<R;++G)z+=t.charAt(P[G]);return z}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var v=0;if(g[v]!==" "){for(var _=0,I=0;g[v]===o;)_++,v++;for(var C=(g.length-v)*f+1>>>0,R=new Uint8Array(C);g[v];){var P=e[g.charCodeAt(v)];if(P===255)return;for(var O=0,q=C-1;(P!==0||O<I)&&q!==-1;q--,O++)P+=s*R[q]>>>0,R[q]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");I=O,v++}if(g[v]!==" "){for(var D=C-I;D!==C&&R[D]===0;)D++;for(var G=new Uint8Array(_+(C-D)),z=_;D!==C;)G[z++]=R[D++];return G}}}function b(g){var v=d(g);if(v)return v;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:d,decode:b}}Vf.exports=v3});var ya=T((u9,Gf)=>{"use strict";var x3=new TextDecoder,g3=t=>x3.decode(t),m3=new TextEncoder,w3=t=>m3.encode(t);function S3(t,e){let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}Gf.exports={decodeText:g3,encodeText:w3,concat:S3}});var Wf=T((c9,jf)=>{"use strict";var{encodeText:E3}=ya(),Yf=class{constructor(e,r,i,n){this.name=e,this.code=r,this.codeBuf=E3(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};jf.exports=Yf});var $f=T((h9,Jf)=>{"use strict";var _3=(t,e,r)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=t.length;for(;t[n-1]==="=";)--n;let a=new Uint8Array(n*r/8|0),s=0,o=0,f=0;for(let u=0;u<n;++u){let c=i[t[u]];if(c===void 0)throw new SyntaxError("Invalid character "+t[u]);o=o<<r|c,s+=r,s>=8&&(s-=8,a[f++]=255&o>>s)}if(s>=r||255&o<<8-s)throw new SyntaxError("Unexpected end of data");return a},A3=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,a="",s=0,o=0;for(let f=0;f<t.length;++f)for(o=o<<8|t[f],s+=8;s>r;)s-=r,a+=e[n&o>>s];if(s&&(a+=e[n&o<<r-s]),i)for(;a.length*r&7;)a+="=";return a},B3=t=>e=>({encode(r){return A3(r,e,t)},decode(r){return _3(r,e,t)}});Jf.exports={rfc4648:B3}});var eu=T((d9,Zf)=>{"use strict";var Fn=Hf(),k3=Wf(),{rfc4648:Et}=$f(),{decodeText:I3,encodeText:C3}=ya(),T3=()=>({encode:I3,decode:C3}),Qf=[["identity","\0",T3,""],["base2","0",Et(1),"01"],["base8","7",Et(3),"01234567"],["base10","9",Fn,"0123456789"],["base16","f",Et(4),"0123456789abcdef"],["base16upper","F",Et(4),"0123456789ABCDEF"],["base32hex","v",Et(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Et(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Et(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Et(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Et(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Et(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Et(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Et(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Et(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Fn,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Fn,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Fn,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Fn,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Et(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Et(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Et(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Et(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Xf=Qf.reduce((t,e)=>(t[e[0]]=new k3(e[0],e[1],e[2],e[3]),t),{}),M3=Qf.reduce((t,e)=>(t[e[1]]=Xf[e[0]],t),{});Zf.exports={names:Xf,codes:M3}});var wi=T((Fr,tu)=>{"use strict";var Zi=eu(),{encodeText:R3,decodeText:va,concat:ru}=ya();function N3(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:i}=mi(t);return P3(r,e),ru([i,e],i.length+e.length)}function L3(t,e){let r=mi(t),i=R3(r.encode(e));return ru([r.codeBuf,i],r.codeBuf.length+i.length)}function D3(t){t instanceof Uint8Array&&(t=va(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),mi(t[0]).decode(t.substring(1))}function q3(t){if(t instanceof Uint8Array&&(t=va(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return mi(t[0]).name}catch(e){return!1}}function P3(t,e){mi(t).decode(va(e))}function mi(t){if(Object.prototype.hasOwnProperty.call(Zi.names,t))return Zi.names[t];if(Object.prototype.hasOwnProperty.call(Zi.codes,t))return Zi.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function K3(t){return t instanceof Uint8Array&&(t=va(t)),mi(t[0])}Fr=tu.exports=N3;Fr.encode=L3;Fr.decode=D3;Fr.isEncoded=q3;Fr.encoding=mi;Fr.encodingFromData=K3;var F3=Object.freeze(Zi.names),O3=Object.freeze(Zi.codes);Fr.names=F3;Fr.codes=O3});var Ft=T((l9,iu)=>{"use strict";var{encoding:U3}=wi(),z3=new TextDecoder("utf8");function V3(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function H3(t,e="utf8"){return e==="utf8"||e==="utf-8"?z3.decode(t):e==="ascii"?V3(t):U3(e).encode(t)}iu.exports=H3});var au=T((p9,nu)=>{var Qi=1e3,Xi=Qi*60,en=Xi*60,Si=en*24,G3=Si*7,j3=Si*365.25;nu.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Y3(t);if(r==="number"&&isFinite(t))return e.long?J3(t):W3(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Y3(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*j3;case"weeks":case"week":case"w":return r*G3;case"days":case"day":case"d":return r*Si;case"hours":case"hour":case"hrs":case"hr":case"h":return r*en;case"minutes":case"minute":case"mins":case"min":case"m":return r*Xi;case"seconds":case"second":case"secs":case"sec":case"s":return r*Qi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function W3(t){var e=Math.abs(t);return e>=Si?Math.round(t/Si)+"d":e>=en?Math.round(t/en)+"h":e>=Xi?Math.round(t/Xi)+"m":e>=Qi?Math.round(t/Qi)+"s":t+"ms"}function J3(t){var e=Math.abs(t);return e>=Si?xa(t,e,Si,"day"):e>=en?xa(t,e,en,"hour"):e>=Xi?xa(t,e,Xi,"minute"):e>=Qi?xa(t,e,Qi,"second"):t+" ms"}function xa(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var ou=T((b9,su)=>{function $3(t){r.debug=r,r.default=r,r.coerce=f,r.disable=a,r.enable=n,r.enabled=s,r.humanize=au(),r.destroy=u,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let d=0;for(let b=0;b<c.length;b++)d=(d<<5)-d+c.charCodeAt(b),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(c){let d,b=null;function g(...v){if(!g.enabled)return;let _=g,I=Number(new Date),C=I-(d||I);_.diff=C,_.prev=d,_.curr=I,d=I,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let R=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(O,q)=>{if(O==="%%")return"%";R++;let D=r.formatters[q];if(typeof D=="function"){let G=v[R];O=D.call(_,G),v.splice(R,1),R--}return O}),r.formatArgs.call(_,v),(_.log||r.log).apply(_,v)}return g.namespace=c,g.useColors=r.useColors(),g.color=r.selectColor(c),g.extend=i,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>b===null?r.enabled(c):b,set:v=>{b=v}}),typeof r.init=="function"&&r.init(g),g}function i(c,d){let b=r(this.namespace+(typeof d=="undefined"?":":d)+c);return b.log=this.log,b}function n(c){r.save(c),r.names=[],r.skips=[];let d,b=(typeof c=="string"?c:"").split(/[\s,]+/),g=b.length;for(d=0;d<g;d++)!b[d]||(c=b[d].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){let c=[...r.names.map(o),...r.skips.map(o).map(d=>"-"+d)].join(",");return r.enable(""),c}function s(c){if(c[c.length-1]==="*")return!0;let d,b;for(d=0,b=r.skips.length;d<b;d++)if(r.skips[d].test(c))return!1;for(d=0,b=r.names.length;d<b;d++)if(r.names[d].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function f(c){return c instanceof Error?c.stack||c.message:c}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}su.exports=$3});var ma=T((Ot,ga)=>{Ot.formatArgs=Z3;Ot.save=Q3;Ot.load=X3;Ot.useColors=e4;Ot.storage=t4();Ot.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ot.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e4(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Z3(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ga.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}Ot.log=console.debug||console.log||(()=>{});function Q3(t){try{t?Ot.storage.setItem("debug",t):Ot.storage.removeItem("debug")}catch(e){}}function X3(){let t;try{t=Ot.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function t4(){try{return localStorage}catch(t){}}ga.exports=ou()(Ot);var{formatters:r4}=ga.exports;r4.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var is=T((y9,rs)=>{"use strict";var tn=typeof Reflect=="object"?Reflect:null,fu=tn&&typeof tn.apply=="function"?tn.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},wa;tn&&typeof tn.ownKeys=="function"?wa=tn.ownKeys:Object.getOwnPropertySymbols?wa=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:wa=function(e){return Object.getOwnPropertyNames(e)};function i4(t){console&&console.warn&&console.warn(t)}var uu=Number.isNaN||function(e){return e!==e};function me(){me.init.call(this)}rs.exports=me;rs.exports.once=n4;me.EventEmitter=me;me.prototype._events=void 0;me.prototype._eventsCount=0;me.prototype._maxListeners=void 0;var cu=10;function Sa(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(me,"defaultMaxListeners",{enumerable:!0,get:function(){return cu},set:function(t){if(typeof t!="number"||t<0||uu(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");cu=t}});me.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};me.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||uu(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function hu(t){return t._maxListeners===void 0?me.defaultMaxListeners:t._maxListeners}me.prototype.getMaxListeners=function(){return hu(this)};me.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",a=this._events;if(a!==void 0)n=n&&a.error===void 0;else if(!n)return!1;if(n){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var f=a[e];if(f===void 0)return!1;if(typeof f=="function")fu(f,this,r);else for(var u=f.length,c=du(f,u),i=0;i<u;++i)fu(c[i],this,r);return!0};function lu(t,e,r,i){var n,a,s;if(Sa(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),n=hu(t),n>0&&s.length>n&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,i4(o)}return t}me.prototype.addListener=function(e,r){return lu(this,e,r,!1)};me.prototype.on=me.prototype.addListener;me.prototype.prependListener=function(e,r){return lu(this,e,r,!0)};function a4(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pu(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=a4.bind(i);return n.listener=r,i.wrapFn=n,n}me.prototype.once=function(e,r){return Sa(r),this.on(e,pu(this,e,r)),this};me.prototype.prependOnceListener=function(e,r){return Sa(r),this.prependListener(e,pu(this,e,r)),this};me.prototype.removeListener=function(e,r){var i,n,a,s,o;if(Sa(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(a=-1,s=i.length-1;s>=0;s--)if(i[s]===r||i[s].listener===r){o=i[s].listener,a=s;break}if(a<0)return this;a===0?i.shift():s4(i,a),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};me.prototype.off=me.prototype.removeListener;me.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var a=Object.keys(i),s;for(n=0;n<a.length;++n)s=a[n],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function bu(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?o4(n):du(n,n.length)}me.prototype.listeners=function(e){return bu(this,e,!0)};me.prototype.rawListeners=function(e){return bu(this,e,!1)};me.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):yu.call(t,e)};me.prototype.listenerCount=yu;function yu(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}me.prototype.eventNames=function(){return this._eventsCount>0?wa(this._events):[]};function du(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function s4(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function o4(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function n4(t,e){return new Promise(function(r,i){function n(s){t.removeListener(e,a),i(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}vu(t,e,a,{once:!0}),e!=="error"&&f4(t,n,{once:!0})})}function f4(t,e,r){typeof t.on=="function"&&vu(t,"error",e,r)}function vu(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(a){i.once&&t.removeEventListener(e,n),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var lr=T((v9,xu)=>{"use strict";function gu(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function u4(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return gu(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),gu(new n,r)}}xu.exports=u4});var as=T((x9,rn)=>{var mu=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},ns=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),Ea=t=>t&&typeof t.sink=="function"&&ns(t.source),c4=t=>e=>(t.sink(e),t.source),wu=(...t)=>{if(Ea(t[0])){let e=t[0];t[0]=()=>e.source}else if(ns(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&Ea(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)Ea(t[e])&&(t[e]=c4(t[e]));return mu(...t)};rn.exports=wu;rn.exports.pipe=wu;rn.exports.rawPipe=mu;rn.exports.isIterable=ns;rn.exports.isDuplex=Ea});var Bu=T((g9,Su)=>{"use strict";var Eu=()=>{},_u=Symbol.for("@libp2p/js-interfaces/topology"),Au=class{constructor({min:e=0,max:r=Infinity,handlers:i={}}){this.min=e,this.max=r,this._onConnect=i.onConnect||Eu,this._onDisconnect=i.onDisconnect||Eu,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[_u](){return!0}static isTopology(e){return Boolean(e&&e[_u])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};Su.exports=Au});var Tu=T((m9,ku)=>{"use strict";var h4=Bu(),Iu=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),Cu=class extends h4{constructor({min:e,max:r,multicodecs:i,handlers:n}){super({min:e,max:r,handlers:n});if(!i)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if(typeof n.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof n.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(i)?i:[i],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[Iu](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[Iu])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:i}of e)if(this.multicodecs.filter(n=>i.includes(n)).length){this.peers.add(r.toB58String());let n=this._registrar.getConnection(r);n&&this._onConnect(r,n)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let i=this.peers.has(e.toB58String()),n=r.filter(a=>this.multicodecs.includes(a));i&&n.length===0&&this._onDisconnect(e);for(let a of r)if(this.multicodecs.includes(a)){let s=this._registrar.peerStore.get(e);this._updatePeers([s]);return}}_onPeerConnect(e){let r=e.remotePeer,i=this._registrar.peerStore.protoBook.get(r);!i||this.multicodecs.find(n=>i.includes(n))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};ku.exports=Cu});var Ru=T(Mu=>{"use strict";Mu.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}});var Nu=T((S9,Pu)=>{"use strict";Pu.exports=d4;function d4(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,a=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(o,f){r[i]=function(c){if(a)if(a=!1,c)f(c);else{for(var d=new Array(arguments.length-1),b=0;b<d.length;)d[b++]=arguments[b];o.apply(null,d)}};try{t.apply(e||null,r)}catch(u){a&&(a=!1,f(u))}})}});var Ku=T(Lu=>{"use strict";var _a=Lu;_a.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var nn=new Array(64),Du=new Array(123);for(var pr=0;pr<64;)Du[nn[pr]=pr<26?pr+65:pr<52?pr+71:pr<62?pr-4:pr-59|43]=pr++;_a.encode=function(e,r,i){for(var n=null,a=[],s=0,o=0,f;r<i;){var u=e[r++];switch(o){case 0:a[s++]=nn[u>>2],f=(u&3)<<4,o=1;break;case 1:a[s++]=nn[f|u>>4],f=(u&15)<<2,o=2;break;case 2:a[s++]=nn[f|u>>6],a[s++]=nn[u&63],o=0;break}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),s=0)}return o&&(a[s++]=nn[f],a[s++]=61,o===1&&(a[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,a.slice(0,s))),n.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var qu="invalid encoding";_a.decode=function(e,r,i){for(var n=i,a=0,s,o=0;o<e.length;){var f=e.charCodeAt(o++);if(f===61&&a>1)break;if((f=Du[f])===void 0)throw Error(qu);switch(a){case 0:s=f,a=1;break;case 1:r[i++]=s<<2|(f&48)>>4,s=f,a=2;break;case 2:r[i++]=(s&15)<<4|(f&60)>>2,s=f,a=3;break;case 3:r[i++]=(s&3)<<6|f,a=0;break}}if(a===1)throw Error(qu);return i-n};_a.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Ou=T((_9,Fu)=>{"use strict";Fu.exports=Aa;function Aa(){this._listeners={}}Aa.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};Aa.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};Aa.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var Yu=T((A9,Uu)=>{"use strict";Uu.exports=zu(zu);function zu(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3]}function a(f,u,c){e[0]=f,u[c]=r[3],u[c+1]=r[2],u[c+2]=r[1],u[c+3]=r[0]}t.writeFloatLE=i?n:a,t.writeFloatBE=i?a:n;function s(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],e[0]}function o(f,u){return r[3]=f[u],r[2]=f[u+1],r[1]=f[u+2],r[0]=f[u+3],e[0]}t.readFloatLE=i?s:o,t.readFloatBE=i?o:s}():function(){function e(i,n,a,s){var o=n<0?1:0;if(o&&(n=-n),n===0)i(1/n>0?0:2147483648,a,s);else if(isNaN(n))i(2143289344,a,s);else if(n>34028234663852886e22)i((o<<31|2139095040)>>>0,a,s);else if(n<11754943508222875e-54)i((o<<31|Math.round(n/1401298464324817e-60))>>>0,a,s);else{var f=Math.floor(Math.log(n)/Math.LN2),u=Math.round(n*Math.pow(2,-f)*8388608)&8388607;i((o<<31|f+127<<23|u)>>>0,a,s)}}t.writeFloatLE=e.bind(null,Vu),t.writeFloatBE=e.bind(null,Hu);function r(i,n,a){var s=i(n,a),o=(s>>31)*2+1,f=s>>>23&255,u=s&8388607;return f===255?u?NaN:o*Infinity:f===0?o*1401298464324817e-60*u:o*Math.pow(2,f-150)*(u+8388608)}t.readFloatLE=r.bind(null,Gu),t.readFloatBE=r.bind(null,ju)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(f,u,c){e[0]=f,u[c]=r[0],u[c+1]=r[1],u[c+2]=r[2],u[c+3]=r[3],u[c+4]=r[4],u[c+5]=r[5],u[c+6]=r[6],u[c+7]=r[7]}function a(f,u,c){e[0]=f,u[c]=r[7],u[c+1]=r[6],u[c+2]=r[5],u[c+3]=r[4],u[c+4]=r[3],u[c+5]=r[2],u[c+6]=r[1],u[c+7]=r[0]}t.writeDoubleLE=i?n:a,t.writeDoubleBE=i?a:n;function s(f,u){return r[0]=f[u],r[1]=f[u+1],r[2]=f[u+2],r[3]=f[u+3],r[4]=f[u+4],r[5]=f[u+5],r[6]=f[u+6],r[7]=f[u+7],e[0]}function o(f,u){return r[7]=f[u],r[6]=f[u+1],r[5]=f[u+2],r[4]=f[u+3],r[3]=f[u+4],r[2]=f[u+5],r[1]=f[u+6],r[0]=f[u+7],e[0]}t.readDoubleLE=i?s:o,t.readDoubleBE=i?o:s}():function(){function e(i,n,a,s,o,f){var u=s<0?1:0;if(u&&(s=-s),s===0)i(0,o,f+n),i(1/s>0?0:2147483648,o,f+a);else if(isNaN(s))i(0,o,f+n),i(2146959360,o,f+a);else if(s>17976931348623157e292)i(0,o,f+n),i((u<<31|2146435072)>>>0,o,f+a);else{var c;if(s<22250738585072014e-324)c=s/5e-324,i(c>>>0,o,f+n),i((u<<31|c/4294967296)>>>0,o,f+a);else{var d=Math.floor(Math.log(s)/Math.LN2);d===1024&&(d=1023),c=s*Math.pow(2,-d),i(c*4503599627370496>>>0,o,f+n),i((u<<31|d+1023<<20|c*1048576&1048575)>>>0,o,f+a)}}}t.writeDoubleLE=e.bind(null,Vu,0,4),t.writeDoubleBE=e.bind(null,Hu,4,0);function r(i,n,a,s,o){var f=i(s,o+n),u=i(s,o+a),c=(u>>31)*2+1,d=u>>>20&2047,b=4294967296*(u&1048575)+f;return d===2047?b?NaN:c*Infinity:d===0?c*5e-324*b:c*Math.pow(2,d-1075)*(b+4503599627370496)}t.readDoubleLE=r.bind(null,Gu,0,4),t.readDoubleBE=r.bind(null,ju,4,0)}(),t}function Vu(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Hu(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Gu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function ju(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var Wu=T((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var $u=T(Ju=>{"use strict";var ss=Ju;ss.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)==55296&&(e.charCodeAt(n+1)&64512)==56320?(++n,r+=4):r+=3;return r};ss.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var a=null,s=[],o=0,f;r<i;)f=e[r++],f<128?s[o++]=f:f>191&&f<224?s[o++]=(f&31)<<6|e[r++]&63:f>239&&f<365?(f=((f&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[o++]=55296+(f>>10),s[o++]=56320+(f&1023)):s[o++]=(f&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};ss.write=function(e,r,i){for(var n=i,a,s,o=0;o<e.length;++o)a=e.charCodeAt(o),a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):(a&64512)==55296&&((s=e.charCodeAt(o+1))&64512)==56320?(a=65536+((a&1023)<<10)+(s&1023),++o,r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128);return i-n}});var Qu=T((k9,Zu)=>{"use strict";Zu.exports=l4;function l4(t,e,r){var i=r||8192,n=i>>>1,a=null,s=i;return function(f){if(f<1||f>n)return t(f);s+f>i&&(a=t(i),s=0);var u=e.call(a,s,s+=f);return s&7&&(s=(s|7)+1),u}}});var ec=T((I9,Xu)=>{"use strict";Xu.exports=pt;var On=ei();function pt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Ei=pt.zero=new pt(0,0);Ei.toNumber=function(){return 0};Ei.zzEncode=Ei.zzDecode=function(){return this};Ei.length=function(){return 1};var p4=pt.zeroHash="\0\0\0\0\0\0\0\0";pt.fromNumber=function(e){if(e===0)return Ei;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new pt(i,n)};pt.from=function(e){if(typeof e=="number")return pt.fromNumber(e);if(On.isString(e))if(On.Long)e=On.Long.fromString(e);else return pt.fromNumber(parseInt(e,10));return e.low||e.high?new pt(e.low>>>0,e.high>>>0):Ei};pt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};pt.prototype.toLong=function(e){return On.Long?new On.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var ti=String.prototype.charCodeAt;pt.fromHash=function(e){return e===p4?Ei:new pt((ti.call(e,0)|ti.call(e,1)<<8|ti.call(e,2)<<16|ti.call(e,3)<<24)>>>0,(ti.call(e,4)|ti.call(e,5)<<8|ti.call(e,6)<<16|ti.call(e,7)<<24)>>>0)};pt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};pt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};pt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};pt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var ei=T(os=>{"use strict";var J=os;J.asPromise=Nu();J.base64=Ku();J.EventEmitter=Ou();J.float=Yu();J.inquire=Wu();J.utf8=$u();J.pool=Qu();J.LongBits=ec();J.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);J.global=J.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||os;J.emptyArray=Object.freeze?Object.freeze([]):[];J.emptyObject=Object.freeze?Object.freeze({}):{};J.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};J.isString=function(e){return typeof e=="string"||e instanceof String};J.isObject=function(e){return e&&typeof e=="object"};J.isset=J.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};J.Buffer=function(){try{var t=J.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();J._Buffer_from=null;J._Buffer_allocUnsafe=null;J.newBuffer=function(e){return typeof e=="number"?J.Buffer?J._Buffer_allocUnsafe(e):new J.Array(e):J.Buffer?J._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};J.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;J.Long=J.global.dcodeIO&&J.global.dcodeIO.Long||J.global.Long||J.inquire("long");J.key2Re=/^true|false|0|1$/;J.key32Re=/^-?(?:0|[1-9][0-9]*)$/;J.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;J.longToHash=function(e){return e?J.LongBits.from(e).toHash():J.LongBits.zeroHash};J.longFromHash=function(e,r){var i=J.LongBits.fromHash(e);return J.Long?J.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function tc(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}J.merge=tc;J.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function rc(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&tc(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}J.newError=rc;J.ProtocolError=rc("ProtocolError");J.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),a=n.length-1;a>-1;--a)if(r[n[a]]===1&&this[n[a]]!==void 0&&this[n[a]]!==null)return n[a]}};J.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};J.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};J._configure=function(){var t=J.Buffer;if(!t){J._Buffer_from=J._Buffer_allocUnsafe=null;return}J._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},J._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var ps=T((T9,ic)=>{"use strict";ic.exports=pe;var Vt=ei(),fs,Ba=Vt.LongBits,nc=Vt.base64,ac=Vt.utf8;function Un(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function us(){}function b4(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function pe(){this.len=0,this.head=new Un(us,0,0),this.tail=this.head,this.states=null}var sc=function(){return Vt.Buffer?function(){return(pe.create=function(){return new fs})()}:function(){return new pe}};pe.create=sc();pe.alloc=function(e){return new Vt.Array(e)};Vt.Array!==Array&&(pe.alloc=Vt.pool(pe.alloc,Vt.Array.prototype.subarray));pe.prototype._push=function(e,r,i){return this.tail=this.tail.next=new Un(e,r,i),this.len+=r,this};function cs(t,e,r){e[r]=t&255}function y4(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function hs(t,e){this.len=t,this.next=void 0,this.val=e}hs.prototype=Object.create(Un.prototype);hs.prototype.fn=y4;pe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new hs((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};pe.prototype.int32=function(e){return e<0?this._push(ds,10,Ba.fromNumber(e)):this.uint32(e)};pe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function ds(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}pe.prototype.uint64=function(e){var r=Ba.from(e);return this._push(ds,r.length(),r)};pe.prototype.int64=pe.prototype.uint64;pe.prototype.sint64=function(e){var r=Ba.from(e).zzEncode();return this._push(ds,r.length(),r)};pe.prototype.bool=function(e){return this._push(cs,1,e?1:0)};function ls(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}pe.prototype.fixed32=function(e){return this._push(ls,4,e>>>0)};pe.prototype.sfixed32=pe.prototype.fixed32;pe.prototype.fixed64=function(e){var r=Ba.from(e);return this._push(ls,4,r.lo)._push(ls,4,r.hi)};pe.prototype.sfixed64=pe.prototype.fixed64;pe.prototype.float=function(e){return this._push(Vt.float.writeFloatLE,4,e)};pe.prototype.double=function(e){return this._push(Vt.float.writeDoubleLE,8,e)};var v4=Vt.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};pe.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(cs,1,0);if(Vt.isString(e)){var i=pe.alloc(r=nc.length(e));nc.decode(e,i,0),e=i}return this.uint32(r)._push(v4,r,e)};pe.prototype.string=function(e){var r=ac.length(e);return r?this.uint32(r)._push(ac.write,r,e):this._push(cs,1,0)};pe.prototype.fork=function(){return this.states=new b4(this),this.head=this.tail=new Un(us,0,0),this.len=0,this};pe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Un(us,0,0),this.len=0),this};pe.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};pe.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};pe._configure=function(t){fs=t,pe.create=sc(),fs._configure()}});var uc=T((M9,oc)=>{"use strict";oc.exports=br;var fc=ps();(br.prototype=Object.create(fc.prototype)).constructor=br;var ri=ei();function br(){fc.call(this)}br._configure=function(){br.alloc=ri._Buffer_allocUnsafe,br.writeBytesBuffer=ri.Buffer&&ri.Buffer.prototype instanceof Uint8Array&&ri.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};br.prototype.bytes=function(e){ri.isString(e)&&(e=ri._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(br.writeBytesBuffer,r,e),this};function x4(t,e,r){t.length<40?ri.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}br.prototype.string=function(e){var r=ri.Buffer.byteLength(e);return this.uint32(r),r&&this._push(x4,r,e),this};br._configure()});var vs=T((R9,cc)=>{"use strict";cc.exports=Re;var yr=ei(),bs,hc=yr.LongBits,g4=yr.utf8;function tr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Re(t){this.buf=t,this.pos=0,this.len=t.length}var dc=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Re(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Re(e);throw Error("illegal buffer")},lc=function(){return yr.Buffer?function(r){return(Re.create=function(n){return yr.Buffer.isBuffer(n)?new bs(n):dc(n)})(r)}:dc};Re.create=lc();Re.prototype._slice=yr.Array.prototype.subarray||yr.Array.prototype.slice;Re.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,tr(this,10);return e}}();Re.prototype.int32=function(){return this.uint32()|0};Re.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function ys(){var t=new hc(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw tr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw tr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Re.prototype.bool=function(){return this.uint32()!==0};function ka(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Re.prototype.fixed32=function(){if(this.pos+4>this.len)throw tr(this,4);return ka(this.buf,this.pos+=4)};Re.prototype.sfixed32=function(){if(this.pos+4>this.len)throw tr(this,4);return ka(this.buf,this.pos+=4)|0};function pc(){if(this.pos+8>this.len)throw tr(this,8);return new hc(ka(this.buf,this.pos+=4),ka(this.buf,this.pos+=4))}Re.prototype.float=function(){if(this.pos+4>this.len)throw tr(this,4);var e=yr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Re.prototype.double=function(){if(this.pos+8>this.len)throw tr(this,4);var e=yr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Re.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw tr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};Re.prototype.string=function(){var e=this.bytes();return g4.read(e,0,e.length)};Re.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw tr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw tr(this);while(this.buf[this.pos++]&128);return this};Re.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Re._configure=function(t){bs=t,Re.create=lc(),bs._configure();var e=yr.Long?"toLong":"toNumber";yr.merge(Re.prototype,{int64:function(){return ys.call(this)[e](!1)},uint64:function(){return ys.call(this)[e](!0)},sint64:function(){return ys.call(this).zzDecode()[e](!1)},fixed64:function(){return pc.call(this)[e](!0)},sfixed64:function(){return pc.call(this)[e](!1)}})}});var xc=T((P9,bc)=>{"use strict";bc.exports=_i;var yc=vs();(_i.prototype=Object.create(yc.prototype)).constructor=_i;var vc=ei();function _i(t){yc.call(this,t)}_i._configure=function(){vc.Buffer&&(_i.prototype._slice=vc.Buffer.prototype.slice)};_i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};_i._configure()});var mc=T((N9,gc)=>{"use strict";gc.exports=zn;var xs=ei();(zn.prototype=Object.create(xs.EventEmitter.prototype)).constructor=zn;function zn(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");xs.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}zn.prototype.rpcCall=function t(e,r,i,n,a){if(!n)throw TypeError("request must be specified");var s=this;if(!a)return xs.asPromise(t,s,e,r,i,n);if(!s.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return s.rpcImpl(e,r[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(f,u){if(f)return s.emit("error",f,e),a(f);if(u===null){s.end(!0);return}if(!(u instanceof i))try{u=i[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(c){return s.emit("error",c,e),a(c)}return s.emit("data",u,e),a(null,u)})}catch(o){s.emit("error",o,e),setTimeout(function(){a(o)},0);return}};zn.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Sc=T(wc=>{"use strict";var m4=wc;m4.Service=mc()});var _c=T((D9,Ec)=>{"use strict";Ec.exports={}});var kc=T(Ac=>{"use strict";var Rt=Ac;Rt.build="minimal";Rt.Writer=ps();Rt.BufferWriter=uc();Rt.Reader=vs();Rt.BufferReader=xc();Rt.util=ei();Rt.rpc=Sc();Rt.roots=_c();Rt.configure=Bc;function Bc(){Rt.util._configure(),Rt.Writer._configure(Rt.BufferWriter),Rt.Reader._configure(Rt.BufferReader)}Bc()});var Ia=T((K9,Ic)=>{"use strict";Ic.exports=kc()});var ms=T((F9,Cc)=>{"use strict";var ii=Ia(),an=ii.Reader,gs=ii.Writer,be=ii.util,dt=ii.roots.default||(ii.roots.default={});dt.RPC=function(){function t(e){if(this.subscriptions=[],this.msgs=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.subscriptions=be.emptyArray,t.prototype.msgs=be.emptyArray,t.encode=function(r,i){if(i||(i=gs.create()),r.subscriptions!=null&&r.subscriptions.length)for(var n=0;n<r.subscriptions.length;++n)dt.RPC.SubOpts.encode(r.subscriptions[n],i.uint32(10).fork()).ldelim();if(r.msgs!=null&&r.msgs.length)for(var n=0;n<r.msgs.length;++n)dt.RPC.Message.encode(r.msgs[n],i.uint32(18).fork()).ldelim();return i},t.decode=function(r,i){r instanceof an||(r=an.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new dt.RPC;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.subscriptions&&a.subscriptions.length||(a.subscriptions=[]),a.subscriptions.push(dt.RPC.SubOpts.decode(r,r.uint32()));break;case 2:a.msgs&&a.msgs.length||(a.msgs=[]),a.msgs.push(dt.RPC.Message.decode(r,r.uint32()));break;default:r.skipType(s&7);break}}return a},t.fromObject=function(r){if(r instanceof dt.RPC)return r;var i=new dt.RPC;if(r.subscriptions){if(!Array.isArray(r.subscriptions))throw TypeError(".RPC.subscriptions: array expected");i.subscriptions=[];for(var n=0;n<r.subscriptions.length;++n){if(typeof r.subscriptions[n]!="object")throw TypeError(".RPC.subscriptions: object expected");i.subscriptions[n]=dt.RPC.SubOpts.fromObject(r.subscriptions[n])}}if(r.msgs){if(!Array.isArray(r.msgs))throw TypeError(".RPC.msgs: array expected");i.msgs=[];for(var n=0;n<r.msgs.length;++n){if(typeof r.msgs[n]!="object")throw TypeError(".RPC.msgs: object expected");i.msgs[n]=dt.RPC.Message.fromObject(r.msgs[n])}}return i},t.toObject=function(r,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.subscriptions=[],n.msgs=[]),r.subscriptions&&r.subscriptions.length){n.subscriptions=[];for(var a=0;a<r.subscriptions.length;++a)n.subscriptions[a]=dt.RPC.SubOpts.toObject(r.subscriptions[a],i)}if(r.msgs&&r.msgs.length){n.msgs=[];for(var a=0;a<r.msgs.length;++a)n.msgs[a]=dt.RPC.Message.toObject(r.msgs[a],i)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,ii.util.toJSONOptions)},t.SubOpts=function(){function e(r){if(r)for(var i=Object.keys(r),n=0;n<i.length;++n)r[i[n]]!=null&&(this[i[n]]=r[i[n]])}return e.prototype.subscribe=!1,e.prototype.topicID="",e.encode=function(i,n){return n||(n=gs.create()),i.subscribe!=null&&Object.hasOwnProperty.call(i,"subscribe")&&n.uint32(8).bool(i.subscribe),i.topicID!=null&&Object.hasOwnProperty.call(i,"topicID")&&n.uint32(18).string(i.topicID),n},e.decode=function(i,n){i instanceof an||(i=an.create(i));for(var a=n===void 0?i.len:i.pos+n,s=new dt.RPC.SubOpts;i.pos<a;){var o=i.uint32();switch(o>>>3){case 1:s.subscribe=i.bool();break;case 2:s.topicID=i.string();break;default:i.skipType(o&7);break}}return s},e.fromObject=function(i){if(i instanceof dt.RPC.SubOpts)return i;var n=new dt.RPC.SubOpts;return i.subscribe!=null&&(n.subscribe=Boolean(i.subscribe)),i.topicID!=null&&(n.topicID=String(i.topicID)),n},e.toObject=function(i,n){n||(n={});var a={};return n.defaults&&(a.subscribe=!1,a.topicID=""),i.subscribe!=null&&i.hasOwnProperty("subscribe")&&(a.subscribe=i.subscribe),i.topicID!=null&&i.hasOwnProperty("topicID")&&(a.topicID=i.topicID),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,ii.util.toJSONOptions)},e}(),t.Message=function(){function e(r){if(this.topicIDs=[],r)for(var i=Object.keys(r),n=0;n<i.length;++n)r[i[n]]!=null&&(this[i[n]]=r[i[n]])}return e.prototype.from=be.newBuffer([]),e.prototype.data=be.newBuffer([]),e.prototype.seqno=be.newBuffer([]),e.prototype.topicIDs=be.emptyArray,e.prototype.signature=be.newBuffer([]),e.prototype.key=be.newBuffer([]),e.encode=function(i,n){if(n||(n=gs.create()),i.from!=null&&Object.hasOwnProperty.call(i,"from")&&n.uint32(10).bytes(i.from),i.data!=null&&Object.hasOwnProperty.call(i,"data")&&n.uint32(18).bytes(i.data),i.seqno!=null&&Object.hasOwnProperty.call(i,"seqno")&&n.uint32(26).bytes(i.seqno),i.topicIDs!=null&&i.topicIDs.length)for(var a=0;a<i.topicIDs.length;++a)n.uint32(34).string(i.topicIDs[a]);return i.signature!=null&&Object.hasOwnProperty.call(i,"signature")&&n.uint32(42).bytes(i.signature),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&n.uint32(50).bytes(i.key),n},e.decode=function(i,n){i instanceof an||(i=an.create(i));for(var a=n===void 0?i.len:i.pos+n,s=new dt.RPC.Message;i.pos<a;){var o=i.uint32();switch(o>>>3){case 1:s.from=i.bytes();break;case 2:s.data=i.bytes();break;case 3:s.seqno=i.bytes();break;case 4:s.topicIDs&&s.topicIDs.length||(s.topicIDs=[]),s.topicIDs.push(i.string());break;case 5:s.signature=i.bytes();break;case 6:s.key=i.bytes();break;default:i.skipType(o&7);break}}return s},e.fromObject=function(i){if(i instanceof dt.RPC.Message)return i;var n=new dt.RPC.Message;if(i.from!=null&&(typeof i.from=="string"?be.base64.decode(i.from,n.from=be.newBuffer(be.base64.length(i.from)),0):i.from.length&&(n.from=i.from)),i.data!=null&&(typeof i.data=="string"?be.base64.decode(i.data,n.data=be.newBuffer(be.base64.length(i.data)),0):i.data.length&&(n.data=i.data)),i.seqno!=null&&(typeof i.seqno=="string"?be.base64.decode(i.seqno,n.seqno=be.newBuffer(be.base64.length(i.seqno)),0):i.seqno.length&&(n.seqno=i.seqno)),i.topicIDs){if(!Array.isArray(i.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");n.topicIDs=[];for(var a=0;a<i.topicIDs.length;++a)n.topicIDs[a]=String(i.topicIDs[a])}return i.signature!=null&&(typeof i.signature=="string"?be.base64.decode(i.signature,n.signature=be.newBuffer(be.base64.length(i.signature)),0):i.signature.length&&(n.signature=i.signature)),i.key!=null&&(typeof i.key=="string"?be.base64.decode(i.key,n.key=be.newBuffer(be.base64.length(i.key)),0):i.key.length&&(n.key=i.key)),n},e.toObject=function(i,n){n||(n={});var a={};if((n.arrays||n.defaults)&&(a.topicIDs=[]),n.defaults&&(n.bytes===String?a.from="":(a.from=[],n.bytes!==Array&&(a.from=be.newBuffer(a.from))),n.bytes===String?a.data="":(a.data=[],n.bytes!==Array&&(a.data=be.newBuffer(a.data))),n.bytes===String?a.seqno="":(a.seqno=[],n.bytes!==Array&&(a.seqno=be.newBuffer(a.seqno))),n.bytes===String?a.signature="":(a.signature=[],n.bytes!==Array&&(a.signature=be.newBuffer(a.signature))),n.bytes===String?a.key="":(a.key=[],n.bytes!==Array&&(a.key=be.newBuffer(a.key)))),i.from!=null&&i.hasOwnProperty("from")&&(a.from=n.bytes===String?be.base64.encode(i.from,0,i.from.length):n.bytes===Array?Array.prototype.slice.call(i.from):i.from),i.data!=null&&i.hasOwnProperty("data")&&(a.data=n.bytes===String?be.base64.encode(i.data,0,i.data.length):n.bytes===Array?Array.prototype.slice.call(i.data):i.data),i.seqno!=null&&i.hasOwnProperty("seqno")&&(a.seqno=n.bytes===String?be.base64.encode(i.seqno,0,i.seqno.length):n.bytes===Array?Array.prototype.slice.call(i.seqno):i.seqno),i.topicIDs&&i.topicIDs.length){a.topicIDs=[];for(var s=0;s<i.topicIDs.length;++s)a.topicIDs[s]=i.topicIDs[s]}return i.signature!=null&&i.hasOwnProperty("signature")&&(a.signature=n.bytes===String?be.base64.encode(i.signature,0,i.signature.length):n.bytes===Array?Array.prototype.slice.call(i.signature):i.signature),i.key!=null&&i.hasOwnProperty("key")&&(a.key=n.bytes===String?be.base64.encode(i.key,0,i.key.length):n.bytes===Array?Array.prototype.slice.call(i.key):i.key),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,ii.util.toJSONOptions)},e}(),t}();Cc.exports=dt});var Mc=T(Ca=>{"use strict";Ca.byteLength=w4;Ca.toByteArray=S4;Ca.fromByteArray=E4;var vr=[],Ht=[],_4=typeof Uint8Array!="undefined"?Uint8Array:Array,ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var sn=0,A4=ws.length;sn<A4;++sn)vr[sn]=ws[sn],Ht[ws.charCodeAt(sn)]=sn;Ht["-".charCodeAt(0)]=62;Ht["_".charCodeAt(0)]=63;function Tc(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function w4(t){var e=Tc(t),r=e[0],i=e[1];return(r+i)*3/4-i}function B4(t,e,r){return(e+r)*3/4-r}function S4(t){var e,r=Tc(t),i=r[0],n=r[1],a=new _4(B4(t,i,n)),s=0,o=n>0?i-4:i,f;for(f=0;f<o;f+=4)e=Ht[t.charCodeAt(f)]<<18|Ht[t.charCodeAt(f+1)]<<12|Ht[t.charCodeAt(f+2)]<<6|Ht[t.charCodeAt(f+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return n===2&&(e=Ht[t.charCodeAt(f)]<<2|Ht[t.charCodeAt(f+1)]>>4,a[s++]=e&255),n===1&&(e=Ht[t.charCodeAt(f)]<<10|Ht[t.charCodeAt(f+1)]<<4|Ht[t.charCodeAt(f+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function k4(t){return vr[t>>18&63]+vr[t>>12&63]+vr[t>>6&63]+vr[t&63]}function I4(t,e,r){for(var i,n=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),n.push(k4(i));return n.join("")}function E4(t){for(var e,r=t.length,i=r%3,n=[],a=16383,s=0,o=r-i;s<o;s+=a)n.push(I4(t,s,s+a>o?o:s+a));return i===1?(e=t[r-1],n.push(vr[e>>2]+vr[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(vr[e>>10]+vr[e>>4&63]+vr[e<<2&63]+"=")),n.join("")}});var Rc=T(Ss=>{Ss.read=function(t,e,r,i,n){var a,s,o=n*8-i-1,f=(1<<o)-1,u=f>>1,c=-7,d=r?n-1:0,b=r?-1:1,g=t[e+d];for(d+=b,a=g&(1<<-c)-1,g>>=-c,c+=o;c>0;a=a*256+t[e+d],d+=b,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=i;c>0;s=s*256+t[e+d],d+=b,c-=8);if(a===0)a=1-u;else{if(a===f)return s?NaN:(g?-1:1)*Infinity;s=s+Math.pow(2,i),a=a-u}return(g?-1:1)*s*Math.pow(2,a-i)};Ss.write=function(t,e,r,i,n,a){var s,o,f,u=a*8-n-1,c=(1<<u)-1,d=c>>1,b=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:a-1,v=i?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+d>=1?e+=b/f:e+=b*Math.pow(2,1-d),e*f>=2&&(s++,f/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(e*f-1)*Math.pow(2,n),s=s+d):(o=e*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;t[r+g]=o&255,g+=v,o/=256,n-=8);for(s=s<<n|o,u+=n;u>0;t[r+g]=s&255,g+=v,s/=256,u-=8);t[r+g-v]|=_*128}});var Bi=T(on=>{"use strict";var Es=Mc(),fn=Rc(),Pc=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;on.Buffer=N;on.SlowBuffer=C4;on.INSPECT_MAX_BYTES=50;var Ta=2147483647;on.kMaxLength=Ta;N.TYPED_ARRAY_SUPPORT=T4();!N.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T4(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(!!N.isBuffer(this))return this.buffer}});Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(!!N.isBuffer(this))return this.byteOffset}});function Or(t){if(t>Ta)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,N.prototype),e}function N(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _s(t)}return Nc(t,e,r)}N.poolSize=8192;function Nc(t,e,r){if(typeof t=="string")return M4(t,e);if(ArrayBuffer.isView(t))return R4(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(xr(t,ArrayBuffer)||t&&xr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(xr(t,SharedArrayBuffer)||t&&xr(t.buffer,SharedArrayBuffer)))return As(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return N.from(i,e,r);let n=P4(t);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return N.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}N.from=function(t,e,r){return Nc(t,e,r)};Object.setPrototypeOf(N.prototype,Uint8Array.prototype);Object.setPrototypeOf(N,Uint8Array);function Lc(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function N4(t,e,r){return Lc(t),t<=0?Or(t):e!==void 0?typeof r=="string"?Or(t).fill(e,r):Or(t).fill(e):Or(t)}N.alloc=function(t,e,r){return N4(t,e,r)};function _s(t){return Lc(t),Or(t<0?0:Bs(t)|0)}N.allocUnsafe=function(t){return _s(t)};N.allocUnsafeSlow=function(t){return _s(t)};function M4(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!N.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Dc(t,e)|0,i=Or(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function ks(t){let e=t.length<0?0:Bs(t.length)|0,r=Or(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function R4(t){if(xr(t,Uint8Array)){let e=new Uint8Array(t);return As(e.buffer,e.byteOffset,e.byteLength)}return ks(t)}function As(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,N.prototype),i}function P4(t){if(N.isBuffer(t)){let e=Bs(t.length)|0,r=Or(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Is(t.length)?Or(0):ks(t);if(t.type==="Buffer"&&Array.isArray(t.data))return ks(t.data)}function Bs(t){if(t>=Ta)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ta.toString(16)+" bytes");return t|0}function C4(t){return+t!=t&&(t=0),N.alloc(+t)}N.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==N.prototype};N.compare=function(e,r){if(xr(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),xr(r,Uint8Array)&&(r=N.from(r,r.offset,r.byteLength)),!N.isBuffer(e)||!N.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,n=r.length;for(let a=0,s=Math.min(i,n);a<s;++a)if(e[a]!==r[a]){i=e[a],n=r[a];break}return i<n?-1:n<i?1:0};N.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};N.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return N.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;let n=N.allocUnsafe(r),a=0;for(i=0;i<e.length;++i){let s=e[i];if(xr(s,Uint8Array))a+s.length>n.length?(N.isBuffer(s)||(s=N.from(s)),s.copy(n,a)):Uint8Array.prototype.set.call(n,s,a);else if(N.isBuffer(s))s.copy(n,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return n};function Dc(t,e){if(N.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||xr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Cs(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return qc(t).length;default:if(n)return i?-1:Cs(t).length;e=(""+e).toLowerCase(),n=!0}}N.byteLength=Dc;function O4(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return K4(this,e,r);case"utf8":case"utf-8":return Kc(this,e,r);case"ascii":return D4(this,e,r);case"latin1":case"binary":return q4(this,e,r);case"base64":return L4(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F4(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}N.prototype._isBuffer=!0;function Ai(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}N.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Ai(this,r,r+1);return this};N.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Ai(this,r,r+3),Ai(this,r+1,r+2);return this};N.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Ai(this,r,r+7),Ai(this,r+1,r+6),Ai(this,r+2,r+5),Ai(this,r+3,r+4);return this};N.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Kc(this,0,e):O4.apply(this,arguments)};N.prototype.toLocaleString=N.prototype.toString;N.prototype.equals=function(e){if(!N.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:N.compare(this,e)===0};N.prototype.inspect=function(){let e="",r=on.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Pc&&(N.prototype[Pc]=N.prototype.inspect);N.prototype.compare=function(e,r,i,n,a){if(xr(e,Uint8Array)&&(e=N.from(e,e.offset,e.byteLength)),!N.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),a===void 0&&(a=this.length),r<0||i>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&r>=i)return 0;if(n>=a)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,a>>>=0,this===e)return 0;let s=a-n,o=i-r,f=Math.min(s,o),u=this.slice(n,a),c=e.slice(r,i);for(let d=0;d<f;++d)if(u[d]!==c[d]){s=u[d],o=c[d];break}return s<o?-1:o<s?1:0};function Oc(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Is(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=N.from(e,i)),N.isBuffer(e))return e.length===0?-1:Fc(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Fc(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function Fc(t,e,r,i,n){let a=1,s=t.length,o=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,o/=2,r/=2}function f(c,d){return a===1?c[d]:c.readUInt16BE(d*a)}let u;if(n){let c=-1;for(u=r;u<s;u++)if(f(t,u)===f(e,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===o)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(r+o>s&&(r=s-o),u=r;u>=0;u--){let c=!0;for(let d=0;d<o;d++)if(f(t,u+d)!==f(e,d)){c=!1;break}if(c)return u}return-1}N.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};N.prototype.indexOf=function(e,r,i){return Oc(this,e,r,i,!0)};N.prototype.lastIndexOf=function(e,r,i){return Oc(this,e,r,i,!1)};function U4(t,e,r,i){r=Number(r)||0;let n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let a=e.length;i>a/2&&(i=a/2);let s;for(s=0;s<i;++s){let o=parseInt(e.substr(s*2,2),16);if(Is(o))return s;t[r+s]=o}return s}function z4(t,e,r,i){return Ma(Cs(e,t.length-r),t,r,i)}function H4(t,e,r,i){return Ma(V4(e),t,r,i)}function G4(t,e,r,i){return Ma(qc(e),t,r,i)}function Y4(t,e,r,i){return Ma(j4(e,t.length-r),t,r,i)}N.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-r;if((i===void 0||i>a)&&(i=a),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return U4(this,e,r,i);case"utf8":case"utf-8":return z4(this,e,r,i);case"ascii":case"latin1":case"binary":return H4(this,e,r,i);case"base64":return G4(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y4(this,e,r,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}};N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L4(t,e,r){return e===0&&r===t.length?Es.fromByteArray(t):Es.fromByteArray(t.slice(e,r))}function Kc(t,e,r){r=Math.min(t.length,r);let i=[],n=e;for(;n<r;){let a=t[n],s=null,o=a>239?4:a>223?3:a>191?2:1;if(n+o<=r){let f,u,c,d;switch(o){case 1:a<128&&(s=a);break;case 2:f=t[n+1],(f&192)==128&&(d=(a&31)<<6|f&63,d>127&&(s=d));break;case 3:f=t[n+1],u=t[n+2],(f&192)==128&&(u&192)==128&&(d=(a&15)<<12|(f&63)<<6|u&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:f=t[n+1],u=t[n+2],c=t[n+3],(f&192)==128&&(u&192)==128&&(c&192)==128&&(d=(a&15)<<18|(f&63)<<12|(u&63)<<6|c&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),n+=o}return W4(i)}var Uc=4096;function W4(t){let e=t.length;if(e<=Uc)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=Uc));return r}function D4(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function q4(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function K4(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let a=e;a<r;++a)n+=J4[t[a]];return n}function F4(t,e,r){let i=t.slice(e,r),n="";for(let a=0;a<i.length-1;a+=2)n+=String.fromCharCode(i[a]+i[a+1]*256);return n}N.prototype.slice=function(e,r){let i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);let n=this.subarray(e,r);return Object.setPrototypeOf(n,N.prototype),n};function bt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||bt(e,r,this.length);let n=this[e],a=1,s=0;for(;++s<r&&(a*=256);)n+=this[e+s]*a;return n};N.prototype.readUintBE=N.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||bt(e,r,this.length);let n=this[e+--r],a=1;for(;r>0&&(a*=256);)n+=this[e+--r]*a;return n};N.prototype.readUint8=N.prototype.readUInt8=function(e,r){return e=e>>>0,r||bt(e,1,this.length),this[e]};N.prototype.readUint16LE=N.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||bt(e,2,this.length),this[e]|this[e+1]<<8};N.prototype.readUint16BE=N.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||bt(e,2,this.length),this[e]<<8|this[e+1]};N.prototype.readUint32LE=N.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||bt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};N.prototype.readUint32BE=N.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||bt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};N.prototype.readBigUInt64LE=ni(function(e){e=e>>>0,un(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Vn(e,this.length-8);let n=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(a)<<BigInt(32))});N.prototype.readBigUInt64BE=ni(function(e){e=e>>>0,un(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Vn(e,this.length-8);let n=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(a)});N.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||bt(e,r,this.length);let n=this[e],a=1,s=0;for(;++s<r&&(a*=256);)n+=this[e+s]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*r)),n};N.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||bt(e,r,this.length);let n=r,a=1,s=this[e+--n];for(;n>0&&(a*=256);)s+=this[e+--n]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};N.prototype.readInt8=function(e,r){return e=e>>>0,r||bt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};N.prototype.readInt16LE=function(e,r){e=e>>>0,r||bt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};N.prototype.readInt16BE=function(e,r){e=e>>>0,r||bt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};N.prototype.readInt32LE=function(e,r){return e=e>>>0,r||bt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};N.prototype.readInt32BE=function(e,r){return e=e>>>0,r||bt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};N.prototype.readBigInt64LE=ni(function(e){e=e>>>0,un(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Vn(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});N.prototype.readBigInt64BE=ni(function(e){e=e>>>0,un(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&Vn(e,this.length-8);let n=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});N.prototype.readFloatLE=function(e,r){return e=e>>>0,r||bt(e,4,this.length),fn.read(this,e,!0,23,4)};N.prototype.readFloatBE=function(e,r){return e=e>>>0,r||bt(e,4,this.length),fn.read(this,e,!1,23,4)};N.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||bt(e,8,this.length),fn.read(this,e,!0,52,8)};N.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||bt(e,8,this.length),fn.read(this,e,!1,52,8)};function Pt(t,e,r,i,n,a){if(!N.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<a)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;Pt(this,e,r,i,o,0)}let a=1,s=0;for(this[r]=e&255;++s<i&&(a*=256);)this[r+s]=e/a&255;return r+i};N.prototype.writeUintBE=N.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let o=Math.pow(2,8*i)-1;Pt(this,e,r,i,o,0)}let a=i-1,s=1;for(this[r+a]=e&255;--a>=0&&(s*=256);)this[r+a]=e/s&255;return r+i};N.prototype.writeUint8=N.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,1,255,0),this[r]=e&255,r+1};N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Vc(t,e,r,i,n){zc(e,i,n,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Hc(t,e,r,i,n){zc(e,i,n,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a=a>>8,t[r+6]=a,a=a>>8,t[r+5]=a,a=a>>8,t[r+4]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}N.prototype.writeBigUInt64LE=ni(function(e,r=0){return Vc(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeBigUInt64BE=ni(function(e,r=0){return Hc(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});N.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let f=Math.pow(2,8*i-1);Pt(this,e,r,i,f-1,-f)}let a=0,s=1,o=0;for(this[r]=e&255;++a<i&&(s*=256);)e<0&&o===0&&this[r+a-1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+i};N.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let f=Math.pow(2,8*i-1);Pt(this,e,r,i,f-1,-f)}let a=i-1,s=1,o=0;for(this[r+a]=e&255;--a>=0&&(s*=256);)e<0&&o===0&&this[r+a+1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+i};N.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};N.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};N.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};N.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};N.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Pt(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};N.prototype.writeBigInt64LE=ni(function(e,r=0){return Vc(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});N.prototype.writeBigInt64BE=ni(function(e,r=0){return Hc(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Gc(t,e,r,i,n,a){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function jc(t,e,r,i,n){return e=+e,r=r>>>0,n||Gc(t,e,r,4,34028234663852886e22,-34028234663852886e22),fn.write(t,e,r,i,23,4),r+4}N.prototype.writeFloatLE=function(e,r,i){return jc(this,e,r,!0,i)};N.prototype.writeFloatBE=function(e,r,i){return jc(this,e,r,!1,i)};function Yc(t,e,r,i,n){return e=+e,r=r>>>0,n||Gc(t,e,r,8,17976931348623157e292,-17976931348623157e292),fn.write(t,e,r,i,52,8),r+8}N.prototype.writeDoubleLE=function(e,r,i){return Yc(this,e,r,!0,i)};N.prototype.writeDoubleBE=function(e,r,i){return Yc(this,e,r,!1,i)};N.prototype.copy=function(e,r,i,n){if(!N.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);let a=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),a};N.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!N.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let a;if(typeof e=="number")for(a=r;a<i;++a)this[a]=e;else{let s=N.isBuffer(e)?e:N.from(e,n),o=s.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-r;++a)this[a+r]=s[a%o]}return this};var cn={};function Ts(t,e,r){cn[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ts("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ts("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Ts("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Wc(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=Wc(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function Wc(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $4(t,e,r){un(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Vn(e,t.length-(r+1))}function zc(t,e,r,i,n,a){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",o;throw a>3?e===0||e===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(a+1)*8}${s}`:o=`>= -(2${s} ** ${(a+1)*8-1}${s}) and < 2 ** ${(a+1)*8-1}${s}`:o=`>= ${e}${s} and <= ${r}${s}`,new cn.ERR_OUT_OF_RANGE("value",o,t)}$4(i,n,a)}function un(t,e){if(typeof t!="number")throw new cn.ERR_INVALID_ARG_TYPE(e,"number",t)}function Vn(t,e,r){throw Math.floor(t)!==t?(un(t,r),new cn.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new cn.ERR_BUFFER_OUT_OF_BOUNDS:new cn.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Z4=/[^+/0-9A-Za-z-_]/g;function Q4(t){if(t=t.split("=")[0],t=t.trim().replace(Z4,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function Cs(t,e){e=e||Infinity;let r,i=t.length,n=null,a=[];for(let s=0;s<i;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function V4(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function j4(t,e){let r,i,n,a=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),i=r>>8,n=r%256,a.push(n),a.push(i);return a}function qc(t){return Es.toByteArray(Q4(t))}function Ma(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function xr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Is(t){return t!==t}var J4=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function ni(t){return typeof BigInt=="undefined"?X4:t}function X4(){throw new Error("BigInt not supported")}});var Ms=T((H9,Jc)=>{"use strict";var{Buffer:rr}=Bi(),$c=Symbol.for("BufferList");function _e(t){if(!(this instanceof _e))return new _e(t);_e._init.call(this,t)}_e._init=function(e){Object.defineProperty(this,$c,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};_e.prototype._new=function(e){return new _e(e)};_e.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-r];r=n}};_e.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};_e.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};_e.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};_e.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||rr.alloc(0);let a=!!e,s=this._offset(i),o=n-i,f=o,u=a&&r||0,c=s[1];if(i===0&&n===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:rr.concat(this._bufs,this.length);for(let d=0;d<this._bufs.length;d++)this._bufs[d].copy(e,u),u+=this._bufs[d].length;return e}if(f<=this._bufs[s[0]].length-c)return a?this._bufs[s[0]].copy(e,r,c,c+f):this._bufs[s[0]].slice(c,c+f);a||(e=rr.allocUnsafe(o));for(let d=s[0];d<this._bufs.length;d++){let b=this._bufs[d].length-c;if(f>b)this._bufs[d].copy(e,u,c),u+=b;else{this._bufs[d].copy(e,u,c,c+f),u+=b;break}f-=b,c&&(c=0)}return e.length>u?e.slice(0,u):e};_e.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),a=this._bufs.slice(i[0],n[0]+1);return n[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,n[1]),i[1]!==0&&(a[0]=a[0].slice(i[1])),this._new(a)};_e.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};_e.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};_e.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};_e.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(rr.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(rr.from(e));return this};_e.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};_e.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=rr.from([t]):typeof t=="string"?t=rr.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=rr.from(t.buffer,t.byteOffset,t.byteLength):rr.isBuffer(t)||(t=rr.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],a=i[1];for(;n<this._bufs.length;n++){let s=this._bufs[n];for(;a<s.length;)if(s.length-a>=t.length){let f=s.indexOf(t,a);if(f!==-1)return this._reverseOffset([n,f]);a=s.length-t.length+1}else{let f=this._reverseOffset([n,a]);if(this._match(f,t))return f;a++}a=0}return-1};_e.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?_e.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:_e.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)}})(e)})();_e.prototype._isBufferList=function(e){return e instanceof _e||_e.isBufferList(e)};_e.isBufferList=function(e){return e!=null&&e[$c]};Jc.exports=_e});var Xc=T((G9,Zc)=>{Zc.exports=Rs;var Qc=128,ey=127,ty=~ey,ry=Math.pow(2,31);function Rs(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw Rs.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=ry;)e[r++]=t&255|Qc,t/=128;for(;t&ty;)e[r++]=t&255|Qc,t>>>=7;return e[r]=t|0,Rs.bytes=r-i+1,e}});var rh=T((j9,eh)=>{eh.exports=Ps;var iy=128,th=127;function Ps(t,e){var r=0,e=e||0,i=0,n=e,a,s=t.length;do{if(n>=s||i>49)throw Ps.bytes=0,new RangeError("Could not decode varint");a=t[n++],r+=i<28?(a&th)<<i:(a&th)*Math.pow(2,i),i+=7}while(a>=iy);return Ps.bytes=n-e,r}});var nh=T((Y9,ih)=>{var ny=Math.pow(2,7),ay=Math.pow(2,14),sy=Math.pow(2,21),oy=Math.pow(2,28),fy=Math.pow(2,35),uy=Math.pow(2,42),cy=Math.pow(2,49),hy=Math.pow(2,56),dy=Math.pow(2,63);ih.exports=function(t){return t<ny?1:t<ay?2:t<sy?3:t<oy?4:t<fy?5:t<uy?6:t<cy?7:t<hy?8:t<dy?9:10}});var Ns=T((W9,ah)=>{ah.exports={encode:Xc(),decode:rh(),encodingLength:nh()}});var Ls=T((J9,sh)=>{"use strict";var oh=Ns(),{Buffer:ly}=Bi(),fh=(t,e,r)=>{let i=oh.encode(t,e,r);return fh.bytes=oh.encode.bytes,e||ly.from(i)};sh.exports=fh});var ph=T(($9,Ra)=>{"use strict";var{Buffer:uh}=Bi(),ch=Ms(),hh=Ls(),Ds=8,dh=10*1024;function lh(t){t=t||{};let e=Math.max(t.poolSize||dh,t.minPoolSize||Ds),r=t.lengthEncoder||hh;return async function*(n){let a=uh.alloc(e),s=0;for await(let o of n){r(o.length,a,s);let f=a.slice(s,s+r.bytes);s+=r.bytes,a.length-s<Ds&&(a=uh.alloc(e),s=0),yield new ch().append(f).append(o)}}}lh.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||hh;return new ch([r(t.length),t.slice()])};Ra.exports=lh;Ra.exports.MIN_POOL_SIZE=Ds;Ra.exports.DEFAULT_POOL_SIZE=dh});var qs=T((Z9,bh)=>{"use strict";var yh=Ns(),{Buffer:py}=Bi(),by=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),vh=t=>{let e=yh.decode(py.isBuffer(t)?t:by(t));return vh.bytes=yh.decode.bytes,e};bh.exports=vh});var wh=T((Q9,Pa)=>{"use strict";var{Buffer:yy}=Bi(),Ks=Ms(),vy=qs(),xh=8,gh=1024*1024*4,mh=yy.alloc(0),ai={LENGTH:"readLength",DATA:"readData"},xy={[ai.LENGTH]:(t,e,r,i)=>{e=e.append(t);let n;try{n=i.lengthDecoder(e)}catch(a){if(e.length>i.maxLengthLength)throw Object.assign(a,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(a instanceof RangeError)return{mode:ai.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw a}if(n>i.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(i.lengthDecoder.bytes),e=new Ks,i.onLength&&i.onLength(n),n<=0?(i.onData&&i.onData(mh),{mode:ai.LENGTH,chunk:t,buffer:e,data:mh}):{mode:ai.DATA,chunk:t,buffer:e,state:{dataLength:n},data:void 0}},[ai.DATA]:(t,e,r,i)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:ai.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:n}=r,a=e.shallowSlice(0,n),s=e.length>n?e.shallowSlice(n):void 0;return e=new Ks,i.onData&&i.onData(a),{mode:ai.LENGTH,chunk:s,buffer:e,state:void 0,data:a}}};function Fs(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||vy,maxLengthLength:t.maxLengthLength||xh,maxDataLength:t.maxDataLength||gh,onLength:t.onLength,onData:t.onData};return async function*(i){let n=new Ks,a=ai.LENGTH,s;for await(let o of i){let f=o;for(;f;){let u=xy[a](f,n,s,e);a=u.mode,f=u.chunk,n=u.buffer,s=u.state,u.data&&(yield u.data)}}if(n.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}Fs.fromReader=(t,e)=>{let r=1,i={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(a){if(a.code==="ERR_UNDER_READ")return{done:!0,value:null};throw a}finally{r=1}}};return Fs({...e||{},onLength:a=>{r=a}})(i)};Pa.exports=Fs;Pa.exports.MAX_LENGTH_LENGTH=xh;Pa.exports.MAX_DATA_LENGTH=gh});var _h=T((X9,Sh)=>{"use strict";var{Buffer:gy}=Bi(),Eh=(t,e,r)=>(e=e||gy.allocUnsafe(4),e.writeInt32BE(t,r),e);Eh.bytes=4;Sh.exports=Eh});var kh=T((e7,Ah)=>{"use strict";var Bh=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};Bh.bytes=4;Ah.exports=Bh});var Ih=T(ki=>{"use strict";ki.encode=ph();ki.decode=wh();ki.varintEncode=Ls();ki.varintDecode=qs();ki.int32BEEncode=_h();ki.int32BEDecode=kh()});var Th=T((i7,Ch)=>{Ch.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var Ph=T((a7,Mh)=>{var Rh=Th();Mh.exports=class{constructor(e){this.hwm=e||16,this.head=new Rh(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new Rh(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var Lh=T((s7,Nh)=>{var Os=Ph();Nh.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new Os,i,n,a,s=()=>{if(!r.isEmpty()){if(t.writev){let _,I=[];for(;!r.isEmpty();){if(_=r.shift(),_.error)throw _.error;I.push(_.value)}return{done:_.done,value:I}}let v=r.shift();if(v.error)throw v.error;return v}return a?{done:!0}:new Promise((v,_)=>{n=I=>(n=null,I.error?_(I.error):t.writev&&!I.done?v({done:I.done,value:[I.value]}):v(I),i)})},o=v=>n?n(v):(r.push(v),i),f=v=>(r=new Os,n?n({error:v}):(r.push({error:v}),i)),u=v=>a?i:o({done:!1,value:v}),c=v=>a?i:(a=!0,v?f(v):o({done:!0})),d=()=>(r=new Os,c(),{done:!0}),b=v=>(c(v),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:s,return:d,throw:b,push:u,end:c},!e)return i;let g=i;return i={[Symbol.asyncIterator](){return this},next(){return g.next()},throw(v){return g.throw(v),e&&(e(v),e=null),{done:!0}},return(){return g.return(),e&&(e(),e=null),{done:!0}},push:u,end(v){return g.end(v),e&&(e(v),e=null),i}},i}});var qh=T((o7,Dh)=>{Dh.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var Fh=T((u7,Kh)=>{Kh.exports=class extends Error{constructor(e,r){super(e||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var Vh=T((c7,Ii)=>{var my=qh(),Us=Fh(),Oh=(t,e,r)=>zs(t,Array.isArray(e)?e:[{signal:e,options:r}]),zs=(t,e)=>{t=my(t),e=e.map(({signal:i,options:n})=>({signal:i,options:n||{}}));async function*r(){let i,n=()=>{i&&i()};for(let{signal:a}of e)a.addEventListener("abort",n);for(;;){let a;try{for(let{signal:o,options:f}of e)if(o.aborted){let{abortMessage:u,abortCode:c}=f;throw new Us(u,c)}let s=new Promise((o,f)=>{i=()=>{let{options:u}=e.find(({signal:b})=>b.aborted),{abortMessage:c,abortCode:d}=u;f(new Us(c,d))}});a=await Promise.race([s,t.next()]),i=null}catch(s){for(let{signal:u}of e)u.removeEventListener("abort",n);let o=e.find(({signal:u})=>u.aborted),f=s.type==="aborted"&&o;if(f&&o.options.onAbort&&await o.options.onAbort(t),typeof t.return=="function"&&await t.return(),f&&o.options.returnOnAbort)return;throw s}if(a.done)break;yield a.value}for(let{signal:a}of e)a.removeEventListener("abort",n)}return r()},zh=(t,e,r)=>Uh(t,Array.isArray(e)?e:[{signal:e,options:r}]),Uh=(t,e)=>r=>t(zs(r,e)),Sy=(t,e,r)=>wy(t,Array.isArray(e)?e:[{signal:e,options:r}]),wy=(t,e)=>({sink:Uh(t.sink,e),source:zs(t.source,e)});Ii.exports=Oh;Ii.exports.AbortError=Us;Ii.exports.source=Oh;Ii.exports.sink=zh;Ii.exports.transform=zh;Ii.exports.duplex=Sy});var Gh=T((h7,Na)=>{"use strict";var{AbortController:Hh,AbortSignal:Ey}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;Na.exports=Hh;Na.exports.AbortSignal=Ey;Na.exports.default=Hh});var Zh=T((d7,jh)=>{"use strict";var Yh=ma(),_y=Object.assign(Yh("libp2p-pubsub:peer-streams"),{error:Yh("libp2p-pubsub:peer-streams:err")}),Ay=is(),Wh=Ih(),By=Lh(),{pipe:Jh}=as(),{source:ky}=Vh(),Iy=Gh().default,$h=class extends Ay{constructor({id:e,protocol:r}){super();this.id=e,this.protocol=r,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new Iy,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){let r=this.id.toB58String();throw new Error("No writable connection to "+r)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=ky(Jh(this._rawInboundStream,Wh.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){let r=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=By({onEnd:i=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,i&&this.emit("close")}}),Jh(this.outboundStream,Wh.encode(),this._rawOutboundStream).catch(i=>{_y.error(i)}),r||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}};jh.exports=$h});var Xh=T(Qh=>{"use strict";var Cy={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"};Qh.SignaturePolicy=Cy});var td=T((p7,ed)=>{"use strict";var La=65536;function Ty(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>La)for(;r<t;)r+La>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+La)),r+=La);else crypto.getRandomValues(e);return e}ed.exports=Ty});var Da=T((b7,rd)=>{"use strict";var My=td(),Ry=lr();rd.exports=function(t){if(isNaN(t)||t<=0)throw Ry(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return My(t)}});var Gt=T((y7,id)=>{"use strict";var{encoding:Py}=wi(),Ny=new TextEncoder;function Ly(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function Dy(t,e="utf8"){return e==="utf8"||e==="utf-8"?Ny.encode(t):e==="ascii"?Ly(t):Py(e).decode(t)}id.exports=Dy});var od=T((v7,nd)=>{nd.exports=ad;var sd=128,qy=127,Ky=~qy,Fy=Math.pow(2,31);function ad(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Fy;)e[r++]=t&255|sd,t/=128;for(;t&Ky;)e[r++]=t&255|sd,t>>>=7;return e[r]=t|0,ad.bytes=r-i+1,e}});var cd=T((x7,fd)=>{fd.exports=Vs;var Oy=128,ud=127;function Vs(t,e){var r=0,e=e||0,i=0,n=e,a,s=t.length;do{if(n>=s)throw Vs.bytes=0,new RangeError("Could not decode varint");a=t[n++],r+=i<28?(a&ud)<<i:(a&ud)*Math.pow(2,i),i+=7}while(a>=Oy);return Vs.bytes=n-e,r}});var dd=T((g7,hd)=>{var Uy=Math.pow(2,7),zy=Math.pow(2,14),Vy=Math.pow(2,21),Hy=Math.pow(2,28),Gy=Math.pow(2,35),jy=Math.pow(2,42),Yy=Math.pow(2,49),Wy=Math.pow(2,56),Jy=Math.pow(2,63);hd.exports=function(t){return t<Uy?1:t<zy?2:t<Vy?3:t<Hy?4:t<Gy?5:t<jy?6:t<Yy?7:t<Wy?8:t<Jy?9:10}});var pd=T((m7,ld)=>{ld.exports={encode:od(),decode:cd(),encodingLength:dd()}});var yd=T((w7,bd)=>{"use strict";var $y=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});bd.exports={names:$y}});var Ur=T((S7,vd)=>{"use strict";function Zy(t,e){e||(e=t.reduce((n,a)=>n+a.length,0));let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}vd.exports=Zy});var Ci=T((E7,xd)=>{"use strict";var gd=wi(),hn=pd(),{names:Hn}=yd(),qa=Ft(),Qy=Gt(),Xy=Ur(),dn={};for(let t in Hn){let e=t;dn[Hn[e]]=e}Object.freeze(dn);function e6(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return qa(t,"base16")}function t6(t){return Qy(t,"base16")}function r6(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return qa(gd.encode("base58btc",t)).slice(1)}function i6(t){let e=t instanceof Uint8Array?qa(t):t;return gd.decode("z"+e)}function wd(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=hn.decode(t);if(!md(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice(hn.decode.bytes);let r=hn.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice(hn.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${qa(t,"base16")}`);return{code:e,name:dn[e],length:r,digest:t}}function n6(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=Sd(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");let n=hn.encode(i),a=hn.encode(r);return Xy([n,a,t],n.length+a.length+t.length)}function Sd(t){let e=t;if(typeof t=="string"){if(Hn[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=Hn[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(dn[e]===void 0&&!Hs(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Hs(t){return t>0&&t<16}function md(t){return!!(Hs(t)||dn[t])}function Ed(t){wd(t)}function a6(t){return Ed(t),t.subarray(0,2)}xd.exports={names:Hn,codes:dn,toHexString:e6,fromHexString:t6,toB58String:r6,fromB58String:i6,decode:wd,encode:n6,coerceCode:Sd,isAppCode:Hs,validate:Ed,prefix:a6,isValidCode:md}});var kd=T((_7,_d)=>{_d.exports=Ad;var Bd=128,s6=127,o6=~s6,f6=Math.pow(2,31);function Ad(t,e,r){e=e||[],r=r||0;for(var i=r;t>=f6;)e[r++]=t&255|Bd,t/=128;for(;t&o6;)e[r++]=t&255|Bd,t>>>=7;return e[r]=t|0,Ad.bytes=r-i+1,e}});var Td=T((A7,Id)=>{Id.exports=Gs;var u6=128,Cd=127;function Gs(t,e){var r=0,e=e||0,i=0,n=e,a,s=t.length;do{if(n>=s)throw Gs.bytes=0,new RangeError("Could not decode varint");a=t[n++],r+=i<28?(a&Cd)<<i:(a&Cd)*Math.pow(2,i),i+=7}while(a>=u6);return Gs.bytes=n-e,r}});var Rd=T((B7,Md)=>{var c6=Math.pow(2,7),h6=Math.pow(2,14),d6=Math.pow(2,21),l6=Math.pow(2,28),p6=Math.pow(2,35),b6=Math.pow(2,42),y6=Math.pow(2,49),v6=Math.pow(2,56),x6=Math.pow(2,63);Md.exports=function(t){return t<c6?1:t<h6?2:t<d6?3:t<l6?4:t<p6?5:t<b6?6:t<y6?7:t<v6?8:t<x6?9:10}});var js=T((k7,Pd)=>{Pd.exports={encode:kd(),decode:Td(),encodingLength:Rd()}});var Ys=T((I7,Nd)=>{"use strict";var Ld=js(),g6=Ft(),m6=Gt();Nd.exports={numberToUint8Array:w6,uint8ArrayToNumber:Dd,varintUint8ArrayEncode:S6,varintEncode:E6};function Dd(t){return parseInt(g6(t,"base16"),16)}function w6(t){let e=t.toString(16);return e.length%2==1&&(e="0"+e),m6(e,"base16")}function S6(t){return Uint8Array.from(Ld.encode(Dd(t)))}function E6(t){return Uint8Array.from(Ld.encode(t))}});var Kd=T((C7,qd)=>{"use strict";var _6=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});qd.exports={baseTable:_6}});var Od=T((T7,Fd)=>{"use strict";var{baseTable:Ws}=Kd(),A6=Ys().varintEncode,Js={},$s={},Ka={};for(let t in Ws){let e=t,r=Ws[e];Js[e]=A6(r);let i=e.toUpperCase().replace(/-/g,"_");$s[i]=r,Ka[r]||(Ka[r]=e)}Object.freeze(Js);Object.freeze($s);Object.freeze(Ka);var B6=Object.freeze(Ws);Fd.exports={nameToVarint:Js,constantToCode:$s,nameToCode:B6,codeToName:Ka}});var $d=T((M7,Ud)=>{"use strict";var Fa=js(),k6=Ur(),zd=Ys(),{nameToVarint:Oa,constantToCode:I6,nameToCode:Vd,codeToName:Zs}=Od();function C6(t,e){let r;if(t instanceof Uint8Array)r=zd.varintUint8ArrayEncode(t);else if(Oa[t])r=Oa[t];else throw new Error("multicodec not recognized");return k6([r,e],r.length+e.length)}function T6(t){return Fa.decode(t),t.slice(Fa.decode.bytes)}function Hd(t){let e=Fa.decode(t),r=Zs[e];if(r===void 0)throw new Error(`Code "${e}" not found`);return r}function Gd(t){return Zs[t]}function jd(t){let e=Vd[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function Yd(t){return Fa.decode(t)}function Wd(t){let e=Oa[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function Jd(t){return zd.varintEncode(t)}function M6(t){return Hd(t)}function R6(t){return Gd(t)}function P6(t){return jd(t)}function N6(t){return Yd(t)}function L6(t){return Wd(t)}function D6(t){return Array.from(Jd(t))}Ud.exports={addPrefix:C6,rmPrefix:T6,getNameFromData:Hd,getNameFromCode:Gd,getCodeFromName:jd,getCodeFromData:Yd,getVarintFromName:Wd,getVarintFromCode:Jd,getCodec:M6,getName:R6,getNumber:P6,getCode:N6,getCodeVarint:L6,getVarint:D6,...I6,nameToVarint:Oa,nameToCode:Vd,codeToName:Zs}});var Qd=T((R7,Zd)=>{"use strict";var q6=Ci(),K6={checkCIDComponents:function(t){if(t==null)return"null values are not valid CIDs";if(!(t.version===0||t.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof t.codec!="string")return"codec must be string";if(t.version===0){if(t.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(t.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(t.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{q6.validate(t.multihash)}catch(e){let r=e.message;return r||(r="Multihash validation failed"),r}}};Zd.exports=K6});var Ti=T((P7,Xd)=>{"use strict";function F6(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}Xd.exports=F6});var il=T((N7,el)=>{"use strict";var Ua=Ci(),Qs=wi(),Mi=$d(),O6=Qd(),tl=Ur(),U6=Ft(),z6=Ti(),za=Mi.nameToCode,V6=Object.keys(za).reduce((t,e)=>(t[za[e]]=e,t),{}),rl=Symbol.for("@ipld/js-cid/CID"),ir=class{constructor(e,r,i,n){if(this.version,this.codec,this.multihash,Object.defineProperty(this,rl,{value:!0}),ir.isCID(e)){let a=e;this.version=a.version,this.codec=a.codec,this.multihash=a.multihash,this.multibaseName=a.multibaseName||(a.version===0?"base58btc":"base32");return}if(typeof e=="string"){let a=Qs.isEncoded(e);if(a){let s=Qs.decode(e);this.version=parseInt(s[0].toString(),16),this.codec=Mi.getCodec(s.slice(1)),this.multihash=Mi.rmPrefix(s.slice(1)),this.multibaseName=a}else this.version=0,this.codec="dag-pb",this.multihash=Ua.fromB58String(e),this.multibaseName="base58btc";ir.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let a=parseInt(e[0].toString(),16);if(a===1){let s=e;this.version=a,this.codec=Mi.getCodec(s.slice(1)),this.multihash=Mi.rmPrefix(s.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";ir.validateCID(this);return}this.version=e,typeof r=="number"&&(r=V6[r]),this.codec=r,this.multihash=i,this.multibaseName=n||(e===0?"base58btc":"base32"),ir.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let r=Mi.getCodeVarint(this.codec);e=tl([[1],r,this.multihash],1+r.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=Mi.getCodeVarint(this.codec),r=Ua.prefix(this.multihash);return tl([[this.version],e,r],1+e.byteLength+r.byteLength)}get code(){return za[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:r}=Ua.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(r!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new ir(0,this.codec,this.multihash)}toV1(){return new ir(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let r;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");r=Ua.toB58String(this.multihash)}else if(this.version===1)r=U6(Qs.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:r}),r}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&z6(this.multihash,e.multihash)}static validateCID(e){let r=O6.checkCIDComponents(e);if(r)throw new Error(r)}static isCID(e){return e instanceof ir||Boolean(e&&e[rl])}};ir.codecs=za;el.exports=ir});var Ha=T((L7,nl)=>{"use strict";var Ri=Ia(),Va=Ri.Reader,al=Ri.Writer,kt=Ri.util,jt=Ri.roots.default||(Ri.roots.default={});jt.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();jt.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=kt.newBuffer([]),t.encode=function(r,i){return i||(i=al.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof Va||(r=Va.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new jt.PublicKey;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw kt.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw kt.ProtocolError("missing required 'Data'",{instance:a});return a},t.fromObject=function(r){if(r instanceof jt.PublicKey)return r;var i=new jt.PublicKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?kt.base64.decode(r.Data,i.Data=kt.newBuffer(kt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=kt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?jt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?kt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ri.util.toJSONOptions)},t}();jt.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=kt.newBuffer([]),t.encode=function(r,i){return i||(i=al.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof Va||(r=Va.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new jt.PrivateKey;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("Type"))throw kt.ProtocolError("missing required 'Type'",{instance:a});if(!a.hasOwnProperty("Data"))throw kt.ProtocolError("missing required 'Data'",{instance:a});return a},t.fromObject=function(r){if(r instanceof jt.PrivateKey)return r;var i=new jt.PrivateKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?kt.base64.decode(r.Data,i.Data=kt.newBuffer(kt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=kt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?jt.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?kt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ri.util.toJSONOptions)},t}();nl.exports=jt});var xe=T((D7,sl)=>{sl.exports={options:{usePureJavaScript:!1}}});var ul=T((q7,ol)=>{var Xs={};ol.exports=Xs;var fl={};Xs.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var i="";if(!(t instanceof Uint8Array))i=H6(t,e);else{var n=0,a=e.length,s=e.charAt(0),o=[0];for(n=0;n<t.length;++n){for(var f=0,u=t[n];f<o.length;++f)u+=o[f]<<8,o[f]=u%a,u=u/a|0;for(;u>0;)o.push(u%a),u=u/a|0}for(n=0;t[n]===0&&n<t.length-1;++n)i+=s;for(n=o.length-1;n>=0;--n)i+=e[o[n]]}if(r){var c=new RegExp(".{1,"+r+"}","g");i=i.match(c).join(`\r
`)}return i};Xs.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=fl[e];if(!r){r=fl[e]=[];for(var i=0;i<e.length;++i)r[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");for(var n=e.length,a=e.charAt(0),s=[0],i=0;i<t.length;i++){var o=r[t.charCodeAt(i)];if(o===void 0)return;for(var f=0,u=o;f<s.length;++f)u+=s[f]*n,s[f]=u&255,u>>=8;for(;u>0;)s.push(u&255),u>>=8}for(var c=0;t[c]===a&&c<t.length-1;++c)s.push(0);return typeof Buffer!="undefined"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function H6(t,e){var r=0,i=e.length,n=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var s=0,o=t.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%i,o=o/i|0;for(;o>0;)a.push(o%i),o=o/i|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=n;for(r=a.length-1;r>=0;--r)f+=e[a[r]];return f}});var Pe=T((K7,cl)=>{var hl=xe(),dl=ul(),k=cl.exports=hl.util=hl.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){k.nextTick=process.nextTick,typeof setImmediate=="function"?k.setImmediate=setImmediate:k.setImmediate=k.nextTick;return}if(typeof setImmediate=="function"){k.setImmediate=function(){return setImmediate.apply(void 0,arguments)},k.nextTick=function(o){return setImmediate(o)};return}if(k.setImmediate=function(o){setTimeout(o,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let o=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var u=e.slice();e.length=0,u.forEach(function(c){c()})}};var s=o,t="forge.setImmediate",e=[];k.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),i=!0,n=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(u){u()})}).observe(n,{attributes:!0});var a=k.setImmediate;k.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),a(f)):(e.push(f),e.length===1&&n.setAttribute("a",i=!i))}}k.nextTick=k.setImmediate})();k.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;k.globalScope=function(){return k.isNodejs?globalThis:typeof self=="undefined"?window:self}();k.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};k.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};k.isArrayBufferView=function(t){return t&&k.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Gn(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}k.ByteBuffer=eo;function eo(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(k.isArrayBuffer(t)||k.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof eo||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}k.ByteStringBuffer=eo;var G6=4096;k.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>G6&&(this.data.substr(0,1),this._constructedStringLength=0)};k.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};k.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};k.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};k.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};k.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};k.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(k.encodeUtf8(t))};k.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};k.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};k.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};k.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};k.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};k.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};k.ByteStringBuffer.prototype.putInt=function(t,e){Gn(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};k.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};k.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};k.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};k.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};k.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};k.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};k.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};k.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};k.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};k.ByteStringBuffer.prototype.getInt=function(t){Gn(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};k.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};k.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};k.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};k.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};k.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};k.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};k.ByteStringBuffer.prototype.copy=function(){var t=k.createBuffer(this.data);return t.read=this.read,t};k.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};k.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};k.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};k.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};k.ByteStringBuffer.prototype.toString=function(){return k.decodeUtf8(this.bytes())};function j6(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=k.isArrayBuffer(t),i=k.isArrayBufferView(t);if(r||i){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}k.DataBuffer=j6;k.DataBuffer.prototype.length=function(){return this.write-this.read};k.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};k.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+e);return i.set(r),this.data=new DataView(i.buffer),this};k.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};k.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};k.DataBuffer.prototype.putBytes=function(t,e){if(k.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=r.byteLength-r.byteOffset;this.accommodate(i);var n=new Uint8Array(this.data.buffer,this.write);return n.set(r),this.write+=i,this}if(k.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof k.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&k.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var n=new Uint8Array(t.data.byteLength,this.write);return n.set(r),this.write+=r.byteLength,this}if(t instanceof k.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=k.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=k.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=k.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=k.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=k.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};k.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};k.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};k.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};k.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};k.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};k.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};k.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};k.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};k.DataBuffer.prototype.putInt=function(t,e){Gn(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};k.DataBuffer.prototype.putSignedInt=function(t,e){return Gn(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};k.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};k.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};k.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};k.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};k.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};k.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};k.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};k.DataBuffer.prototype.getInt=function(t){Gn(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};k.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};k.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};k.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};k.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};k.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};k.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};k.DataBuffer.prototype.copy=function(){return new k.DataBuffer(this)};k.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};k.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};k.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};k.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};k.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return k.binary.raw.encode(e);if(t==="hex")return k.binary.hex.encode(e);if(t==="base64")return k.binary.base64.encode(e);if(t==="utf8")return k.text.utf8.decode(e);if(t==="utf16")return k.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};k.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=k.encodeUtf8(t)),new k.ByteBuffer(t)};k.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};k.xorBytes=function(t,e,r){for(var i="",n="",a="",s=0,o=0;r>0;--r,++s)n=t.charCodeAt(s)^e.charCodeAt(s),o>=10&&(i+=a,a="",o=0),a+=String.fromCharCode(n),++o;return i+=a,i};k.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};k.bytesToHex=function(t){return k.createBuffer(t).toHex()};k.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",oi=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],ll="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";k.encode64=function(t,e){for(var r="",i="",n,a,s,o=0;o<t.length;)n=t.charCodeAt(o++),a=t.charCodeAt(o++),s=t.charCodeAt(o++),r+=si.charAt(n>>2),r+=si.charAt((n&3)<<4|a>>4),isNaN(a)?r+="==":(r+=si.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":si.charAt(s&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};k.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,i,n,a,s=0;s<t.length;)r=oi[t.charCodeAt(s++)-43],i=oi[t.charCodeAt(s++)-43],n=oi[t.charCodeAt(s++)-43],a=oi[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|i>>4),n!==64&&(e+=String.fromCharCode((i&15)<<4|n>>2),a!==64&&(e+=String.fromCharCode((n&3)<<6|a)));return e};k.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};k.decodeUtf8=function(t){return decodeURIComponent(escape(t))};k.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:dl.encode,decode:dl.decode}};k.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};k.binary.raw.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,a=0;a<t.length;++a)i[n++]=t.charCodeAt(a);return e?n-r:i};k.binary.hex.encode=k.bytesToHex;k.binary.hex.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var n=0,a=r;for(t.length&1&&(n=1,i[a++]=parseInt(t[0],16));n<t.length;n+=2)i[a++]=parseInt(t.substr(n,2),16);return e?a-r:i};k.binary.base64.encode=function(t,e){for(var r="",i="",n,a,s,o=0;o<t.byteLength;)n=t[o++],a=t[o++],s=t[o++],r+=si.charAt(n>>2),r+=si.charAt((n&3)<<4|a>>4),isNaN(a)?r+="==":(r+=si.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":si.charAt(s&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};k.binary.base64.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var n,a,s,o,f=0,u=r;f<t.length;)n=oi[t.charCodeAt(f++)-43],a=oi[t.charCodeAt(f++)-43],s=oi[t.charCodeAt(f++)-43],o=oi[t.charCodeAt(f++)-43],i[u++]=n<<2|a>>4,s!==64&&(i[u++]=(a&15)<<4|s>>2,o!==64&&(i[u++]=(s&3)<<6|o));return e?u-r:i.subarray(0,u)};k.binary.base58.encode=function(t,e){return k.binary.baseN.encode(t,ll,e)};k.binary.base58.decode=function(t,e){return k.binary.baseN.decode(t,ll,e)};k.text={utf8:{},utf16:{}};k.text.utf8.encode=function(t,e,r){t=k.encodeUtf8(t);var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,a=0;a<t.length;++a)i[n++]=t.charCodeAt(a);return e?n-r:i};k.text.utf8.decode=function(t){return k.decodeUtf8(String.fromCharCode.apply(null,t))};k.text.utf16.encode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length*2));var n=new Uint16Array(i.buffer);r=r||0;for(var a=r,s=r,o=0;o<t.length;++o)n[s++]=t.charCodeAt(o),a+=2;return e?a-r:i};k.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};k.deflate=function(t,e,r){if(e=k.decode64(t.deflate(k.encode64(e)).rval),r){var i=2,n=e.charCodeAt(1);n&32&&(i=6),e=e.substring(i,e.length-4)}return e};k.inflate=function(t,e,r){var i=t.inflate(k.encode64(e)).rval;return i===null?null:k.decode64(i)};var to=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var i;if(r===null?i=t.removeItem(e):(r=k.encode64(JSON.stringify(r)),i=t.setItem(e,r)),typeof i!="undefined"&&i.rval!==!0){var n=new Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},ro=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(k.decode64(r))),r},Y6=function(t,e,r,i){var n=ro(t,e);n===null&&(n={}),n[r]=i,to(t,e,n)},W6=function(t,e,r){var i=ro(t,e);return i!==null&&(i=r in i?i[r]:null),i},J6=function(t,e,r){var i=ro(t,e);if(i!==null&&r in i){delete i[r];var n=!0;for(var a in i){n=!1;break}n&&(i=null),to(t,e,i)}},$6=function(t,e){to(t,e,null)},Ga=function(t,e,r){var i=null;typeof r=="undefined"&&(r=["web","flash"]);var n,a=!1,s=null;for(var o in r){n=r[o];try{if(n==="flash"||n==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");i=t.apply(this,e),a=n==="flash"}(n==="web"||n==="both")&&(e[0]=localStorage,i=t.apply(this,e),a=!0)}catch(f){s=f}if(a)break}if(!a)throw s;return i};k.setItem=function(t,e,r,i,n){Ga(Y6,arguments,n)};k.getItem=function(t,e,r,i){return Ga(W6,arguments,i)};k.removeItem=function(t,e,r,i){Ga(J6,arguments,i)};k.clearItems=function(t,e,r){Ga($6,arguments,r)};k.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),i=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return i&&(i.fullHost=i.host,i.port?(i.port!==80&&i.scheme==="http"||i.port!==443&&i.scheme==="https")&&(i.fullHost+=":"+i.port):i.scheme==="http"?i.port=80:i.scheme==="https"&&(i.port=443),i.full=i.scheme+"://"+i.fullHost),i};var ja=null;k.getQueryVariables=function(t){var e=function(i){for(var n={},a=i.split("&"),s=0;s<a.length;s++){var o=a[s].indexOf("="),f,u;o>0?(f=a[s].substring(0,o),u=a[s].substring(o+1)):(f=a[s],u=null),f in n||(n[f]=[]),!(f in Object.prototype)&&u!==null&&n[f].push(unescape(u))}return n},r;return typeof t=="undefined"?(ja===null&&(typeof window!="undefined"&&window.location&&window.location.search?ja=e(window.location.search.substring(1)):ja={}),r=ja):r=e(t),r};k.parseFragment=function(t){var e=t,r="",i=t.indexOf("?");i>0&&(e=t.substring(0,i),r=t.substring(i+1));var n=e.split("/");n.length>0&&n[0]===""&&n.shift();var a=r===""?{}:k.getQueryVariables(r);return{pathString:e,queryString:r,path:n,query:a}};k.makeRequest=function(t){var e=k.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(i){return typeof i=="undefined"?e.path:e.path[i]},getQuery:function(i,n){var a;return typeof i=="undefined"?a=e.query:(a=e.query[i],a&&typeof n!="undefined"&&(a=a[n])),a},getQueryLast:function(i,n){var a,s=r.getQuery(i);return s?a=s[s.length-1]:a=n,a}};return r};k.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var i=jQuery.param(e||{});return r=r||"",t+(i.length>0?"?"+i:"")+(r.length>0?"#"+r:"")};k.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};k.format=function(t){for(var e=/%./g,r,i,n=0,a=[],s=0;r=e.exec(t);){i=t.substring(s,e.lastIndex-2),i.length>0&&a.push(i),s=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":n<arguments.length?a.push(arguments[n+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(t.substring(s)),a.join("")};k.formatNumber=function(t,e,r,i){var n=t,a=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,o=i===void 0?".":i,f=n<0?"-":"",u=parseInt(n=Math.abs(+n||0).toFixed(a),10)+"",c=u.length>3?u.length%3:0;return f+(c?u.substr(0,c)+o:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(n-u).toFixed(a).slice(2):"")};k.formatSize=function(t){return t>=1073741824?t=k.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=k.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=k.formatNumber(t/1024,0)+" KiB":t=k.formatNumber(t,0)+" bytes",t};k.bytesFromIP=function(t){return t.indexOf(".")!==-1?k.bytesFromIPv4(t):t.indexOf(":")!==-1?k.bytesFromIPv6(t):null};k.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=k.createBuffer(),r=0;r<t.length;++r){var i=parseInt(t[r],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()};k.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,i=k.createBuffer(),n=0;n<8;++n){if(!t[n]||t[n].length===0){i.fillWithByte(0,r),r=0;continue}var a=k.hexToBytes(t[n]);a.length<2&&i.putByte(0),i.putBytes(a)}return i.getBytes()};k.bytesToIP=function(t){return t.length===4?k.bytesToIPv4(t):t.length===16?k.bytesToIPv6(t):null};k.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};k.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],i=0,n=0;n<t.length;n+=2){for(var a=k.bytesToHex(t[n]+t[n+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=e.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[i].end-r[i].start&&(i=r.length-1))}e.push(a)}if(r.length>0){var f=r[i];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};k.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in k&&!t.update)return e(null,k.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return k.cores=navigator.hardwareConcurrency,e(null,k.cores);if(typeof Worker=="undefined")return k.cores=1,e(null,k.cores);if(typeof Blob=="undefined")return k.cores=2,e(null,k.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var o=Date.now(),f=o+4;Date.now()<f;);self.postMessage({st:o,et:f})})}.toString(),")()"],{type:"application/javascript"}));i([],5,16);function i(s,o,f){if(o===0){var u=Math.floor(s.reduce(function(c,d){return c+d},0)/s.length);return k.cores=Math.max(1,u),URL.revokeObjectURL(r),e(null,k.cores)}n(f,function(c,d){s.push(a(f,d)),i(s,o-1,f)})}function n(s,o){for(var f=[],u=[],c=0;c<s;++c){var d=new Worker(r);d.addEventListener("message",function(b){if(u.push(b.data),u.length===s){for(var g=0;g<s;++g)f[g].terminate();o(null,u)}}),f.push(d)}for(var c=0;c<s;++c)f[c].postMessage(c)}function a(s,o){for(var f=[],u=0;u<s;++u)for(var c=o[u],d=f[u]=[],b=0;b<s;++b)if(u!==b){var g=o[b];(c.st>g.st&&c.st<g.et||g.st>c.st&&g.st<c.et)&&d.push(b)}return f.reduce(function(v,_){return Math.max(v,_.length)},0)}}});var Ya=T((F7,pl)=>{var jn=xe();jn.pki=jn.pki||{};var io=pl.exports=jn.pki.oids=jn.oids=jn.oids||{};function F(t,e){io[t]=e,io[e]=t}function ge(t,e){io[t]=e}F("1.2.840.113549.1.1.1","rsaEncryption");F("1.2.840.113549.1.1.4","md5WithRSAEncryption");F("1.2.840.113549.1.1.5","sha1WithRSAEncryption");F("1.2.840.113549.1.1.7","RSAES-OAEP");F("1.2.840.113549.1.1.8","mgf1");F("1.2.840.113549.1.1.9","pSpecified");F("1.2.840.113549.1.1.10","RSASSA-PSS");F("1.2.840.113549.1.1.11","sha256WithRSAEncryption");F("1.2.840.113549.1.1.12","sha384WithRSAEncryption");F("1.2.840.113549.1.1.13","sha512WithRSAEncryption");F("1.3.101.112","EdDSA25519");F("1.2.840.10040.4.3","dsa-with-sha1");F("1.3.14.3.2.7","desCBC");F("1.3.14.3.2.26","sha1");F("2.16.840.1.101.3.4.2.1","sha256");F("2.16.840.1.101.3.4.2.2","sha384");F("2.16.840.1.101.3.4.2.3","sha512");F("1.2.840.113549.2.5","md5");F("1.2.840.113549.1.7.1","data");F("1.2.840.113549.1.7.2","signedData");F("1.2.840.113549.1.7.3","envelopedData");F("1.2.840.113549.1.7.4","signedAndEnvelopedData");F("1.2.840.113549.1.7.5","digestedData");F("1.2.840.113549.1.7.6","encryptedData");F("1.2.840.113549.1.9.1","emailAddress");F("1.2.840.113549.1.9.2","unstructuredName");F("1.2.840.113549.1.9.3","contentType");F("1.2.840.113549.1.9.4","messageDigest");F("1.2.840.113549.1.9.5","signingTime");F("1.2.840.113549.1.9.6","counterSignature");F("1.2.840.113549.1.9.7","challengePassword");F("1.2.840.113549.1.9.8","unstructuredAddress");F("1.2.840.113549.1.9.14","extensionRequest");F("1.2.840.113549.1.9.20","friendlyName");F("1.2.840.113549.1.9.21","localKeyId");F("1.2.840.113549.1.9.22.1","x509Certificate");F("1.2.840.113549.1.12.10.1.1","keyBag");F("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");F("1.2.840.113549.1.12.10.1.3","certBag");F("1.2.840.113549.1.12.10.1.4","crlBag");F("1.2.840.113549.1.12.10.1.5","secretBag");F("1.2.840.113549.1.12.10.1.6","safeContentsBag");F("1.2.840.113549.1.5.13","pkcs5PBES2");F("1.2.840.113549.1.5.12","pkcs5PBKDF2");F("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");F("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");F("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");F("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");F("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");F("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");F("1.2.840.113549.2.7","hmacWithSHA1");F("1.2.840.113549.2.8","hmacWithSHA224");F("1.2.840.113549.2.9","hmacWithSHA256");F("1.2.840.113549.2.10","hmacWithSHA384");F("1.2.840.113549.2.11","hmacWithSHA512");F("1.2.840.113549.3.7","des-EDE3-CBC");F("2.16.840.1.101.3.4.1.2","aes128-CBC");F("2.16.840.1.101.3.4.1.22","aes192-CBC");F("2.16.840.1.101.3.4.1.42","aes256-CBC");F("2.5.4.3","commonName");F("2.5.4.5","serialName");F("2.5.4.6","countryName");F("2.5.4.7","localityName");F("2.5.4.8","stateOrProvinceName");F("2.5.4.9","streetAddress");F("2.5.4.10","organizationName");F("2.5.4.11","organizationalUnitName");F("2.5.4.13","description");F("2.5.4.15","businessCategory");F("2.5.4.17","postalCode");F("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");F("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");F("2.16.840.1.113730.1.1","nsCertType");F("2.16.840.1.113730.1.13","nsComment");ge("2.5.29.1","authorityKeyIdentifier");ge("2.5.29.2","keyAttributes");ge("2.5.29.3","certificatePolicies");ge("2.5.29.4","keyUsageRestriction");ge("2.5.29.5","policyMapping");ge("2.5.29.6","subtreesConstraint");ge("2.5.29.7","subjectAltName");ge("2.5.29.8","issuerAltName");ge("2.5.29.9","subjectDirectoryAttributes");ge("2.5.29.10","basicConstraints");ge("2.5.29.11","nameConstraints");ge("2.5.29.12","policyConstraints");ge("2.5.29.13","basicConstraints");F("2.5.29.14","subjectKeyIdentifier");F("2.5.29.15","keyUsage");ge("2.5.29.16","privateKeyUsagePeriod");F("2.5.29.17","subjectAltName");F("2.5.29.18","issuerAltName");F("2.5.29.19","basicConstraints");ge("2.5.29.20","cRLNumber");ge("2.5.29.21","cRLReason");ge("2.5.29.22","expirationDate");ge("2.5.29.23","instructionCode");ge("2.5.29.24","invalidityDate");ge("2.5.29.25","cRLDistributionPoints");ge("2.5.29.26","issuingDistributionPoint");ge("2.5.29.27","deltaCRLIndicator");ge("2.5.29.28","issuingDistributionPoint");ge("2.5.29.29","certificateIssuer");ge("2.5.29.30","nameConstraints");F("2.5.29.31","cRLDistributionPoints");F("2.5.29.32","certificatePolicies");ge("2.5.29.33","policyMappings");ge("2.5.29.34","policyConstraints");F("2.5.29.35","authorityKeyIdentifier");ge("2.5.29.36","policyConstraints");F("2.5.29.37","extKeyUsage");ge("2.5.29.46","freshestCRL");ge("2.5.29.54","inhibitAnyPolicy");F("1.3.6.1.4.1.11129.2.4.2","timestampList");F("1.3.6.1.5.5.7.1.1","authorityInfoAccess");F("1.3.6.1.5.5.7.3.1","serverAuth");F("1.3.6.1.5.5.7.3.2","clientAuth");F("1.3.6.1.5.5.7.3.3","codeSigning");F("1.3.6.1.5.5.7.3.4","emailProtection");F("1.3.6.1.5.5.7.3.8","timeStamping")});var ln=T((O7,bl)=>{var Ce=xe();Pe();Ya();var H=bl.exports=Ce.asn1=Ce.asn1||{};H.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};H.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};H.create=function(t,e,r,i,n){if(Ce.util.isArray(i)){for(var a=[],s=0;s<i.length;++s)i[s]!==void 0&&a.push(i[s]);i=a}var o={tagClass:t,type:e,constructed:r,composed:r||Ce.util.isArray(i),value:i};return n&&"bitStringContents"in n&&(o.bitStringContents=n.bitStringContents,o.original=H.copy(o)),o};H.copy=function(t,e){var r;if(Ce.util.isArray(t)){r=[];for(var i=0;i<t.length;++i)r.push(H.copy(t[i],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:H.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};H.equals=function(t,e,r){if(Ce.util.isArray(t)){if(!Ce.util.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!H.equals(t[i],e[i]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var n=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&H.equals(t.value,e.value);return r&&r.includeBitStringContents&&(n=n&&t.bitStringContents===e.bitStringContents),n};H.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,i=e&128;return i?r=t.getInt((e&127)<<3):r=e,r}};function Yn(t,e,r){if(r>e){var i=new Error("Too few bytes to parse DER.");throw i.available=t.length(),i.remaining=e,i.requested=r,i}}var Z6=function(t,e){var r=t.getByte();if(e--,r!==128){var i,n=r&128;if(!n)i=r;else{var a=r&127;Yn(t,e,a),i=t.getInt(a<<3)}if(i<0)throw new Error("Negative length: "+i);return i}};H.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Ce.util.createBuffer(t)),Wa(t,t.length(),0,e)};function Wa(t,e,r,i){var n;Yn(t,e,2);var a=t.getByte();e--;var s=a&192,o=a&31;n=t.length();var f=Z6(t,e);if(e-=n-t.length(),f!==void 0&&f>e){if(i.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=t.length(),u.remaining=e,u.requested=f,u}f=e}var c,d,b=(a&32)==32;if(b)if(c=[],f===void 0)for(;;){if(Yn(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}n=t.length(),c.push(Wa(t,e,r+1,i)),e-=n-t.length()}else for(;f>0;)n=t.length(),c.push(Wa(t,f,r+1,i)),e-=n-t.length(),f-=n-t.length();if(c===void 0&&s===H.Class.UNIVERSAL&&o===H.Type.BITSTRING&&(d=t.bytes(f)),c===void 0&&i.decodeBitStrings&&s===H.Class.UNIVERSAL&&o===H.Type.BITSTRING&&f>1){var g=t.read,v=e,_=0;if(o===H.Type.BITSTRING&&(Yn(t,e,1),_=t.getByte(),e--),_===0)try{n=t.length();var I={verbose:i.verbose,strict:!0,decodeBitStrings:!0},C=Wa(t,e,r+1,I),R=n-t.length();e-=R,o==H.Type.BITSTRING&&R++;var P=C.tagClass;R===f&&(P===H.Class.UNIVERSAL||P===H.Class.CONTEXT_SPECIFIC)&&(c=[C])}catch(q){}c===void 0&&(t.read=g,e=v)}if(c===void 0){if(f===void 0){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(o===H.Type.BMPSTRING)for(c="";f>0;f-=2)Yn(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(f)}var O=d===void 0?null:{bitStringContents:d};return H.create(s,o,b,c,O)}H.toDer=function(t){var e=Ce.util.createBuffer(),r=t.tagClass|t.type,i=Ce.util.createBuffer(),n=!1;if("bitStringContents"in t&&(n=!0,t.original&&(n=H.equals(t,t.original))),n)i.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:i.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&i.putBuffer(H.toDer(t.value[a]))}else if(t.type===H.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)i.putInt16(t.value.charCodeAt(a));else t.type===H.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?i.putBytes(t.value.substr(1)):i.putBytes(t.value);if(e.putByte(r),i.length()<=127)e.putByte(i.length()&127);else{var s=i.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)e.putByte(o.charCodeAt(a))}return e.putBuffer(i),e};H.oidToDer=function(t){var e=t.split("."),r=Ce.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var i,n,a,s,o=2;o<e.length;++o){i=!0,n=[],a=parseInt(e[o],10);do s=a&127,a=a>>>7,i||(s|=128),n.push(s),i=!1;while(a>0);for(var f=n.length-1;f>=0;--f)r.putByte(n[f])}return r};H.derToOid=function(t){var e;typeof t=="string"&&(t=Ce.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)r=t.getByte(),i=i<<7,r&128?i+=r&127:(e+="."+(i+r),i=0);return e};H.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var i=parseInt(t.substr(2,2),10)-1,n=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var f=t.charAt(10),u=10;f!=="+"&&f!=="-"&&(o=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,i,n),e.setUTCHours(a,s,o,0),u&&(f=t.charAt(u),f==="+"||f==="-")){var c=parseInt(t.substr(u+1,2),10),d=parseInt(t.substr(u+4,2),10),b=c*60+d;b*=6e4,f==="+"?e.setTime(+e-b):e.setTime(+e+b)}return e};H.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),i=parseInt(t.substr(4,2),10)-1,n=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),f=0,u=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var d=t.length-5,b=t.charAt(d);if(b==="+"||b==="-"){var g=parseInt(t.substr(d+1,2),10),v=parseInt(t.substr(d+4,2),10);u=g*60+v,u*=6e4,b==="+"&&(u*=-1),c=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,i,n),e.setUTCHours(a,s,o,f),e.setTime(+e+u)):(e.setFullYear(r,i,n),e.setHours(a,s,o,f)),e};H.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};H.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};H.integerToDer=function(t){var e=Ce.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};H.derToInteger=function(t){typeof t=="string"&&(t=Ce.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};H.validate=function(t,e,r,i){var n=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(n=!0,e.value&&Ce.util.isArray(e.value))for(var a=0,s=0;n&&s<e.value.length;++s)n=e.value[s].optional||!1,t.value[a]&&(n=H.validate(t.value[a],e.value[s],r,i),n?++a:e.value[s].optional&&(n=!0)),!n&&i&&i.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(n&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else i&&i.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else i&&(t.tagClass!==e.tagClass&&i.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&i.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return n};var yl=/[^\\u0000-\\u00ff]/;H.prettyPrint=function(t,e,r){var i="";e=e||0,r=r||2,e>0&&(i+=`
`);for(var n="",a=0;a<e*r;++a)n+=" ";switch(i+=n+"Tag: ",t.tagClass){case H.Class.UNIVERSAL:i+="Universal:";break;case H.Class.APPLICATION:i+="Application:";break;case H.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case H.Class.PRIVATE:i+="Private:";break}if(t.tagClass===H.Class.UNIVERSAL)switch(i+=t.type,t.type){case H.Type.NONE:i+=" (None)";break;case H.Type.BOOLEAN:i+=" (Boolean)";break;case H.Type.INTEGER:i+=" (Integer)";break;case H.Type.BITSTRING:i+=" (Bit string)";break;case H.Type.OCTETSTRING:i+=" (Octet string)";break;case H.Type.NULL:i+=" (Null)";break;case H.Type.OID:i+=" (Object Identifier)";break;case H.Type.ODESC:i+=" (Object Descriptor)";break;case H.Type.EXTERNAL:i+=" (External or Instance of)";break;case H.Type.REAL:i+=" (Real)";break;case H.Type.ENUMERATED:i+=" (Enumerated)";break;case H.Type.EMBEDDED:i+=" (Embedded PDV)";break;case H.Type.UTF8:i+=" (UTF8)";break;case H.Type.ROID:i+=" (Relative Object Identifier)";break;case H.Type.SEQUENCE:i+=" (Sequence)";break;case H.Type.SET:i+=" (Set)";break;case H.Type.PRINTABLESTRING:i+=" (Printable String)";break;case H.Type.IA5String:i+=" (IA5String (ASCII))";break;case H.Type.UTCTIME:i+=" (UTC time)";break;case H.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case H.Type.BMPSTRING:i+=" (BMP String)";break}else i+=t.type;if(i+=`
`,i+=n+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,o="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(s+=1,o+=H.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(o+=","));i+=n+"Sub values: "+s+o}else{if(i+=n+"Value: ",t.type===H.Type.OID){var f=H.derToOid(t.value);i+=f,Ce.pki&&Ce.pki.oids&&f in Ce.pki.oids&&(i+=" ("+Ce.pki.oids[f]+") ")}if(t.type===H.Type.INTEGER)try{i+=H.derToInteger(t.value)}catch(c){i+="0x"+Ce.util.bytesToHex(t.value)}else if(t.type===H.Type.BITSTRING){if(t.value.length>1?i+="0x"+Ce.util.bytesToHex(t.value.slice(1)):i+="(none)",t.value.length>0){var u=t.value.charCodeAt(0);u==1?i+=" (1 unused bit shown)":u>1&&(i+=" ("+u+" unused bits shown)")}}else t.type===H.Type.OCTETSTRING?(yl.test(t.value)||(i+="("+t.value+") "),i+="0x"+Ce.util.bytesToHex(t.value)):t.type===H.Type.UTF8?i+=Ce.util.decodeUtf8(t.value):t.type===H.Type.PRINTABLESTRING||t.type===H.Type.IA5String?i+=t.value:yl.test(t.value)?i+="0x"+Ce.util.bytesToHex(t.value):t.value.length===0?i+="[null]":i+=t.value}return i}});var ao=T((U7,vl)=>{var yt=xe();Pe();vl.exports=yt.cipher=yt.cipher||{};yt.cipher.algorithms=yt.cipher.algorithms||{};yt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=yt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new yt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};yt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=yt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new yt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};yt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),yt.cipher.algorithms[t]=e};yt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in yt.cipher.algorithms?yt.cipher.algorithms[t]:null};var no=yt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};no.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=yt.util.createBuffer(),this.output=t.output||yt.util.createBuffer(),this.mode.start(e)};no.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};no.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var oo=T((z7,xl)=>{var vt=xe();Pe();vt.cipher=vt.cipher||{};var ue=xl.exports=vt.cipher.modes=vt.cipher.modes||{};ue.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ue.ecb.prototype.start=function(t){};ue.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ue.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ue.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ue.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ue.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ue.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Ja(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ue.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]);this._prev=this._outBlock};ue.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)};ue.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ue.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ue.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};ue.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ja(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.cfb.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],e.putInt32(this._inBlock[n]);return}var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(a>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.cfb.prototype.decrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),e.putInt32(this._inBlock[n]^this._outBlock[n]);return}var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(a>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};ue.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ja(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.ofb.prototype.encrypt=function(t,e,r){var i=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(a>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.ofb.prototype.decrypt=ue.ofb.prototype.encrypt;ue.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};ue.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ja(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.ctr.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize)for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]);else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}$a(this._inBlock)};ue.ctr.prototype.decrypt=ue.ctr.prototype.encrypt;ue.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ue.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=vt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=vt.util.createBuffer(t.additionalData):r=vt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=vt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=e.length();if(i===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(so(i*8)))}this._inBlock=this._j0.slice(0),$a(this._inBlock),this._partialBytes=0,r=vt.util.createBuffer(r),this._aDataLength=so(r.length()*8);var n=r.length()%this.blockSize;for(n&&r.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ue.gcm.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(a<=0||r){if(r){var s=i%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),$a(this._inBlock)};ue.gcm.prototype.decrypt=function(t,e,r){var i=t.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),$a(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize};ue.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=vt.util.createBuffer();var i=this._aDataLength.concat(so(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,i);var n=[];this.cipher.encrypt(this._j0,n);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^n[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ue.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],i=e.slice(0),n=0;n<128;++n){var a=t[n/32|0]&1<<31-n%32;a&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),this.pow(i,i)}return r};ue.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,i=3;i>0;--i)e[i]=t[i]>>>1|(t[i-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};ue.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var i=r/8|0,n=t[i]>>>(7-r%8)*4&15,a=this._m[r][n];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};ue.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};ue.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,i=4*r,n=16*r,a=new Array(n),s=0;s<n;++s){var o=[0,0,0,0],f=s/i|0,u=(i-1-s%i)*e;o[f]=1<<e-1<<u,a[s]=this.generateSubHashTable(this.multiply(o,t),e)}return a};ue.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,i=r>>>1,n=new Array(r);n[i]=t.slice(0);for(var a=i>>>1;a>0;)this.pow(n[2*a],n[a]=[]),a>>=1;for(a=2;a<i;){for(var s=1;s<a;++s){var o=n[a],f=n[s];n[a+s]=[o[0]^f[0],o[1]^f[1],o[2]^f[2],o[3]^f[3]]}a*=2}for(n[0]=[0,0,0,0],a=i+1;a<r;++a){var u=n[a^i];n[a]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return n};function Ja(t,e){if(typeof t=="string"&&(t=vt.util.createBuffer(t)),vt.util.isArray(t)&&t.length>4){var r=t;t=vt.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!vt.util.isArray(t)){for(var n=[],a=e/4,i=0;i<a;++i)n.push(t.getInt32());t=n}return t}function $a(t){t[t.length-1]=t[t.length-1]+1&4294967295}function so(t){return[t/4294967296|0,t&4294967295]}});var ho=T((V7,gl)=>{var Ae=xe();ao();oo();Pe();gl.exports=Ae.aes=Ae.aes||{};Ae.aes.startEncrypting=function(t,e,r,i){var n=Za({key:t,output:r,decrypt:!1,mode:i});return n.start(e),n};Ae.aes.createEncryptionCipher=function(t,e){return Za({key:t,output:null,decrypt:!1,mode:e})};Ae.aes.startDecrypting=function(t,e,r,i){var n=Za({key:t,output:r,decrypt:!0,mode:i});return n.start(e),n};Ae.aes.createDecryptionCipher=function(t,e){return Za({key:t,output:null,decrypt:!0,mode:e})};Ae.aes.Algorithm=function(t,e){fo||ml();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(i,n){return uo(r._w,i,n,!1)},decrypt:function(i,n){return uo(r._w,i,n,!0)}}}),r._init=!1};Ae.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Ae.util.createBuffer(e);else if(Ae.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Ae.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(!Ae.util.isArray(e)){r=e,e=[];var n=r.length();if(n===16||n===24||n===32){n=n>>>2;for(var i=0;i<n;++i)e.push(r.getInt32())}}if(!Ae.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=wl(e,t.decrypt&&!s),this._init=!0}};Ae.aes._expandKey=function(t,e){return fo||ml(),wl(t,e)};Ae.aes._updateBlock=uo;pn("AES-ECB",Ae.cipher.modes.ecb);pn("AES-CBC",Ae.cipher.modes.cbc);pn("AES-CFB",Ae.cipher.modes.cfb);pn("AES-OFB",Ae.cipher.modes.ofb);pn("AES-CTR",Ae.cipher.modes.ctr);pn("AES-GCM",Ae.cipher.modes.gcm);function pn(t,e){var r=function(){return new Ae.aes.Algorithm(t,e)};Ae.cipher.registerAlgorithm(t,r)}var fo=!1,bn=4,Tt,co,Sl,Pi,nr;function ml(){fo=!0,Sl=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Tt=new Array(256),co=new Array(256),Pi=new Array(4),nr=new Array(4);for(var e=0;e<4;++e)Pi[e]=new Array(256),nr[e]=new Array(256);for(var r=0,i=0,n,a,s,o,f,u,c,e=0;e<256;++e){o=i^i<<1^i<<2^i<<3^i<<4,o=o>>8^o&255^99,Tt[r]=o,co[o]=r,f=t[o],n=t[r],a=t[n],s=t[a],u=f<<24^o<<16^o<<8^(o^f),c=(n^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^n^s);for(var d=0;d<4;++d)Pi[d][r]=u,nr[d][o]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=i=1:(r=n^t[t[t[n^s]]],i^=t[t[i]])}}function wl(t,e){for(var r=t.slice(0),i,n=1,a=r.length,s=a+6+1,o=bn*s,f=a;f<o;++f)i=r[f-1],f%a==0?(i=Tt[i>>>16&255]<<24^Tt[i>>>8&255]<<16^Tt[i&255]<<8^Tt[i>>>24]^Sl[n]<<24,n++):a>6&&f%a==4&&(i=Tt[i>>>24]<<24^Tt[i>>>16&255]<<16^Tt[i>>>8&255]<<8^Tt[i&255]),r[f]=r[f-a]^i;if(e){var u,c=nr[0],d=nr[1],b=nr[2],g=nr[3],v=r.slice(0);o=r.length;for(var f=0,_=o-bn;f<o;f+=bn,_-=bn)if(f===0||f===o-bn)v[f]=r[_],v[f+1]=r[_+3],v[f+2]=r[_+2],v[f+3]=r[_+1];else for(var I=0;I<bn;++I)u=r[_+I],v[f+(3&-I)]=c[Tt[u>>>24]]^d[Tt[u>>>16&255]]^b[Tt[u>>>8&255]]^g[Tt[u&255]];r=v}return r}function uo(t,e,r,i){var n=t.length/4-1,a,s,o,f,u;i?(a=nr[0],s=nr[1],o=nr[2],f=nr[3],u=co):(a=Pi[0],s=Pi[1],o=Pi[2],f=Pi[3],u=Tt);var c,d,b,g,v,_,I;c=e[0]^t[0],d=e[i?3:1]^t[1],b=e[2]^t[2],g=e[i?1:3]^t[3];for(var C=3,R=1;R<n;++R)v=a[c>>>24]^s[d>>>16&255]^o[b>>>8&255]^f[g&255]^t[++C],_=a[d>>>24]^s[b>>>16&255]^o[g>>>8&255]^f[c&255]^t[++C],I=a[b>>>24]^s[g>>>16&255]^o[c>>>8&255]^f[d&255]^t[++C],g=a[g>>>24]^s[c>>>16&255]^o[d>>>8&255]^f[b&255]^t[++C],c=v,d=_,b=I;r[0]=u[c>>>24]<<24^u[d>>>16&255]<<16^u[b>>>8&255]<<8^u[g&255]^t[++C],r[i?3:1]=u[d>>>24]<<24^u[b>>>16&255]<<16^u[g>>>8&255]<<8^u[c&255]^t[++C],r[2]=u[b>>>24]<<24^u[g>>>16&255]<<16^u[c>>>8&255]<<8^u[d&255]^t[++C],r[i?1:3]=u[g>>>24]<<24^u[c>>>16&255]<<16^u[d>>>8&255]<<8^u[b&255]^t[++C]}function Za(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,i;t.decrypt?i=Ae.cipher.createDecipher(r,t.key):i=Ae.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(a,s){var o=null;s instanceof Ae.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,n.call(i,s)},i}});var Al=T((H7,El)=>{var Te=xe();ao();oo();Pe();El.exports=Te.des=Te.des||{};Te.des.startEncrypting=function(t,e,r,i){var n=Qa({key:t,output:r,decrypt:!1,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};Te.des.createEncryptionCipher=function(t,e){return Qa({key:t,output:null,decrypt:!1,mode:e})};Te.des.startDecrypting=function(t,e,r,i){var n=Qa({key:t,output:r,decrypt:!0,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};Te.des.createDecryptionCipher=function(t,e){return Qa({key:t,output:null,decrypt:!0,mode:e})};Te.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(i,n){return _l(r._keys,i,n,!1)},decrypt:function(i,n){return _l(r._keys,i,n,!0)}}}),r._init=!1};Te.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=Te.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=Q6(e),this._init=!0}};gr("DES-ECB",Te.cipher.modes.ecb);gr("DES-CBC",Te.cipher.modes.cbc);gr("DES-CFB",Te.cipher.modes.cfb);gr("DES-OFB",Te.cipher.modes.ofb);gr("DES-CTR",Te.cipher.modes.ctr);gr("3DES-ECB",Te.cipher.modes.ecb);gr("3DES-CBC",Te.cipher.modes.cbc);gr("3DES-CFB",Te.cipher.modes.cfb);gr("3DES-OFB",Te.cipher.modes.ofb);gr("3DES-CTR",Te.cipher.modes.ctr);function gr(t,e){var r=function(){return new Te.des.Algorithm(t,e)};Te.cipher.registerAlgorithm(t,r)}var X6=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ev=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],tv=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],rv=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],iv=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],nv=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],av=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],sv=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Q6(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],b=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=t.length()>8?3:1,I=[],C=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],R=0,P,O=0;O<_;O++){var q=t.getInt32(),D=t.getInt32();P=(q>>>4^D)&252645135,D^=P,q^=P<<4,P=(D>>>-16^q)&65535,q^=P,D^=P<<-16,P=(q>>>2^D)&858993459,D^=P,q^=P<<2,P=(D>>>-16^q)&65535,q^=P,D^=P<<-16,P=(q>>>1^D)&1431655765,D^=P,q^=P<<1,P=(D>>>8^q)&16711935,q^=P,D^=P<<8,P=(q>>>1^D)&1431655765,D^=P,q^=P<<1,P=q<<8|D>>>20&240,q=D<<24|D<<8&16711680|D>>>8&65280|D>>>24&240,D=P;for(var G=0;G<C.length;++G){C[G]?(q=q<<2|q>>>26,D=D<<2|D>>>26):(q=q<<1|q>>>27,D=D<<1|D>>>27),q&=-15,D&=-15;var z=e[q>>>28]|r[q>>>24&15]|i[q>>>20&15]|n[q>>>16&15]|a[q>>>12&15]|s[q>>>8&15]|o[q>>>4&15],Q=f[D>>>28]|u[D>>>24&15]|c[D>>>20&15]|d[D>>>16&15]|b[D>>>12&15]|g[D>>>8&15]|v[D>>>4&15];P=(Q>>>16^z)&65535,I[R++]=z^P,I[R++]=Q^P<<16}}return I}function _l(t,e,r,i){var n=t.length===32?3:9,a;n===3?a=i?[30,-2,-2]:[0,32,2]:a=i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=e[0],f=e[1];s=(o>>>4^f)&252645135,f^=s,o^=s<<4,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,o=o<<1|o>>>31,f=f<<1|f>>>31;for(var u=0;u<n;u+=3){for(var c=a[u+1],d=a[u+2],b=a[u];b!=c;b+=d){var g=f^t[b],v=(f>>>4|f<<28)^t[b+1];s=o,o=f,f=s^(ev[g>>>24&63]|rv[g>>>16&63]|nv[g>>>8&63]|sv[g&63]|X6[v>>>24&63]|tv[v>>>16&63]|iv[v>>>8&63]|av[v&63])}s=o,o=f,f=s}o=o>>>1|o<<31,f=f>>>1|f<<31,s=(o>>>1^f)&1431655765,f^=s,o^=s<<1,s=(f>>>8^o)&16711935,o^=s,f^=s<<8,s=(f>>>2^o)&858993459,o^=s,f^=s<<2,s=(o>>>16^f)&65535,f^=s,o^=s<<16,s=(o>>>4^f)&252645135,f^=s,o^=s<<4,r[0]=o,r[1]=f}function Qa(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,i;t.decrypt?i=Te.cipher.createDecipher(r,t.key):i=Te.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(a,s){var o=null;s instanceof Te.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,n.call(i,s)},i}});var Ni=T((G7,Bl)=>{var Xa=xe();Bl.exports=Xa.md=Xa.md||{};Xa.md.algorithms=Xa.md.algorithms||{}});var Il=T((j7,kl)=>{var zr=xe();Ni();Pe();var ov=kl.exports=zr.hmac=zr.hmac||{};ov.create=function(){var t=null,e=null,r=null,i=null,n={};return n.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in zr.md.algorithms)e=zr.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(s===null)s=t;else{if(typeof s=="string")s=zr.util.createBuffer(s);else if(zr.util.isArray(s)){var o=s;s=zr.util.createBuffer();for(var f=0;f<o.length;++f)s.putByte(o[f])}var u=s.length();u>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=zr.util.createBuffer(),i=zr.util.createBuffer(),u=s.length();for(var f=0;f<u;++f){var o=s.at(f);r.putByte(54^o),i.putByte(92^o)}if(u<e.blockLength)for(var o=e.blockLength-u,f=0;f<o;++f)r.putByte(54),i.putByte(92);t=s,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},n.update=function(a){e.update(a)},n.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(i),e.update(a),e.digest()},n.digest=n.getMac,n}});var Wn=T(()=>{});var Tl=T((J7,Cl)=>{var Mt=xe();Il();Ni();Pe();var fv=Mt.pkcs5=Mt.pkcs5||{},Vr;Mt.util.isNodejs&&!Mt.options.usePureJavaScript&&(Vr=Wn());Cl.exports=Mt.pbkdf2=fv.pbkdf2=function(t,e,r,i,n,a){if(typeof n=="function"&&(a=n,n=null),Mt.util.isNodejs&&!Mt.options.usePureJavaScript&&Vr.pbkdf2&&(n===null||typeof n!="object")&&(Vr.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?Vr.pbkdf2Sync.length===4?Vr.pbkdf2(t,e,r,i,function(P,O){if(P)return a(P);a(null,O.toString("binary"))}):Vr.pbkdf2(t,e,r,i,n,function(P,O){if(P)return a(P);a(null,O.toString("binary"))}):Vr.pbkdf2Sync.length===4?Vr.pbkdf2Sync(t,e,r,i).toString("binary"):Vr.pbkdf2Sync(t,e,r,i,n).toString("binary");if((typeof n=="undefined"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in Mt.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=Mt.md[n].create()}var s=n.digestLength;if(i>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var f=Math.ceil(i/s),u=i-(f-1)*s,c=Mt.hmac.create();c.start(n,t);var d="",b,g,v;if(!a){for(var _=1;_<=f;++_){c.start(null,null),c.update(e),c.update(Mt.util.int32ToBytes(_)),b=v=c.digest().getBytes();for(var I=2;I<=r;++I)c.start(null,null),c.update(v),g=c.digest().getBytes(),b=Mt.util.xorBytes(b,g,s),v=g;d+=_<f?b:b.substr(0,u)}return d}var _=1,I;function C(){if(_>f)return a(null,d);c.start(null,null),c.update(e),c.update(Mt.util.int32ToBytes(_)),b=v=c.digest().getBytes(),I=2,R()}function R(){if(I<=r)return c.start(null,null),c.update(v),g=c.digest().getBytes(),b=Mt.util.xorBytes(b,g,s),v=g,++I,Mt.util.setImmediate(R);d+=_<f?b:b.substr(0,u),++_,C()}C()}});var Pl=T(($7,Ml)=>{var e0=xe();Pe();var Rl=Ml.exports=e0.pem=e0.pem||{};Rl.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,i;if(t.procType&&(i={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=t0(i)),t.contentDomain&&(i={name:"Content-Domain",values:[t.contentDomain]},r+=t0(i)),t.dekInfo&&(i={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&i.values.push(t.dekInfo.parameters),r+=t0(i)),t.headers)for(var n=0;n<t.headers.length;++n)r+=t0(t.headers[n]);return t.procType&&(r+=`\r
`),r+=e0.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Rl.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/,a;a=r.exec(t),!!a;){var s={type:a[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:e0.util.decode64(a[3])};if(e.push(s),!!a[2]){for(var o=a[2].split(n),f=0;a&&f<o.length;){for(var u=o[f].replace(/\s+$/,""),c=f+1;c<o.length;++c){var d=o[c];if(!/\s/.test(d[0]))break;u+=d,f=c}if(a=u.match(i),a){for(var b={name:a[1],values:[]},g=a[2].split(","),v=0;v<g.length;++v)b.values.push(uv(g[v]));if(s.procType)if(!s.contentDomain&&b.name==="Content-Domain")s.contentDomain=g[0]||"";else if(!s.dekInfo&&b.name==="DEK-Info"){if(b.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:g[0],parameters:g[1]||null}}else s.headers.push(b);else{if(b.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(b.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:g[0],type:g[1]}}}++f}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function t0(t){for(var e=t.name+": ",r=[],i=function(f,u){return" "+u},n=0;n<t.values.length;++n)r.push(t.values[n].replace(/^(\S+\r\n)/,i));e+=r.join(",")+`\r
`;for(var a=0,s=-1,n=0;n<e.length;++n,++a)if(a>65&&s!==-1){var o=e[s];o===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+o+e.substr(s+1),a=n-s-1,s=-1,++n}else(e[n]===" "||e[n]==="	"||e[n]===",")&&(s=n);return e}function uv(t){return t.replace(/^\s+/,"")}});var Fl=T((Z7,Nl)=>{var mr=xe();Ni();Pe();var Ll=Nl.exports=mr.sha256=mr.sha256||{};mr.md.sha256=mr.md.algorithms.sha256=Ll;Ll.create=function(){Dl||cv();var t=null,e=mr.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,a=0;a<n;++a)i.fullMessageLength.push(0);return e=mr.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i},i.start(),i.update=function(n,a){a==="utf8"&&(n=mr.util.encodeUtf8(n));var s=n.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=s[1],s[1]=s[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(n),ql(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=mr.util.createBuffer();n.putBytes(e.bytes());var a=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,s=a&i.blockLength-1;n.putBytes(lo.substr(0,i.blockLength-s));for(var o,f,u=i.fullMessageLength[0]*8,c=0;c<i.fullMessageLength.length-1;++c)o=i.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,n.putInt32(u>>>0),u=o>>>0;n.putInt32(u);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};ql(d,r,n);var b=mr.util.createBuffer();return b.putInt32(d.h0),b.putInt32(d.h1),b.putInt32(d.h2),b.putInt32(d.h3),b.putInt32(d.h4),b.putInt32(d.h5),b.putInt32(d.h6),b.putInt32(d.h7),b},i};var lo=null,Dl=!1,Kl=null;function cv(){lo=String.fromCharCode(128),lo+=mr.util.fillString(String.fromCharCode(0),64),Kl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Dl=!0}function ql(t,e,r){for(var i,n,a,s,o,f,u,c,d,b,g,v,_,I,C,R=r.length();R>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)i=e[u-2],i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=e[u-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,e[u]=i+e[u-7]+n+e[u-16]|0;for(c=t.h0,d=t.h1,b=t.h2,g=t.h3,v=t.h4,_=t.h5,I=t.h6,C=t.h7,u=0;u<64;++u)s=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),o=I^v&(_^I),a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),f=c&d|b&(c^d),i=C+s+o+Kl[u]+e[u],n=a+f,C=I,I=_,_=v,v=g+i>>>0,g=b,b=d,d=c,c=i+n>>>0;t.h0=t.h0+c|0,t.h1=t.h1+d|0,t.h2=t.h2+b|0,t.h3=t.h3+g|0,t.h4=t.h4+v|0,t.h5=t.h5+_|0,t.h6=t.h6+I|0,t.h7=t.h7+C|0,R-=64}}});var Ul=T((Q7,Ol)=>{var wr=xe();Pe();var r0=null;wr.util.isNodejs&&!wr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(r0=Wn());var hv=Ol.exports=wr.prng=wr.prng||{};hv.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,i=new Array(32),n=0;n<32;++n)i[n]=r.create();e.pools=i,e.pool=0,e.generate=function(u,c){if(!c)return e.generateSync(u);var d=e.plugin.cipher,b=e.plugin.increment,g=e.plugin.formatKey,v=e.plugin.formatSeed,_=wr.util.createBuffer();e.key=null,I();function I(C){if(C)return c(C);if(_.length()>=u)return c(null,_.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return wr.util.nextTick(function(){a(I)});var R=d(e.key,e.seed);e.generated+=R.length,_.putBytes(R),e.key=g(d(e.key,b(e.seed))),e.seed=v(d(e.key,e.seed)),wr.util.setImmediate(I)}},e.generateSync=function(u){var c=e.plugin.cipher,d=e.plugin.increment,b=e.plugin.formatKey,g=e.plugin.formatSeed;e.key=null;for(var v=wr.util.createBuffer();v.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&s();var _=c(e.key,e.seed);e.generated+=_.length,v.putBytes(_),e.key=b(c(e.key,d(e.seed))),e.seed=g(c(e.key,e.seed))}return v.getBytes(u)};function a(u){if(e.pools[0].messageLength>=32)return o(),u();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(d,b){if(d)return u(d);e.collect(b),o(),u()})}function s(){if(e.pools[0].messageLength>=32)return o();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var c=1,d=0;d<32;++d)e.reseeds%c==0&&(u.update(e.pools[d].digest().getBytes()),e.pools[d].start()),c=c<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var b=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(b),e.generated=0}function f(u){var c=null,d=wr.util.globalScope,b=d.crypto||d.msCrypto;b&&b.getRandomValues&&(c=function(q){return b.getRandomValues(q)});var g=wr.util.createBuffer();if(c)for(;g.length()<u;){var v=Math.max(1,Math.min(u-g.length(),65536)/4),_=new Uint32Array(Math.floor(v));try{c(_);for(var I=0;I<_.length;++I)g.putInt32(_[I])}catch(q){if(!(typeof QuotaExceededError!="undefined"&&q instanceof QuotaExceededError))throw q}}if(g.length()<u)for(var C,R,P,O=Math.floor(Math.random()*65536);g.length()<u;){R=16807*(O&65535),C=16807*(O>>16),R+=(C&32767)<<16,R+=C>>15,R=(R&2147483647)+(R>>31),O=R&4294967295;for(var I=0;I<3;++I)P=O>>>(I<<3),P^=Math.floor(Math.random()*256),g.putByte(String.fromCharCode(P&255))}return g.getBytes(u)}return r0?(e.seedFile=function(u,c){r0.randomBytes(u,function(d,b){if(d)return c(d);c(null,b.toString())})},e.seedFileSync=function(u){return r0.randomBytes(u).toString()}):(e.seedFile=function(u,c){try{c(null,f(u))}catch(d){c(d)}},e.seedFileSync=f),e.collect=function(u){for(var c=u.length,d=0;d<c;++d)e.pools[e.pool].update(u.substr(d,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,c){for(var d="",b=0;b<c;b+=8)d+=String.fromCharCode(u>>b&255);e.collect(d)},e.registerWorker=function(u){if(u===self)e.seedFile=function(d,b){function g(v){var _=v.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",g),b(_.forge.prng.err,_.forge.prng.bytes))}self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:d}}})};else{var c=function(d){var b=d.data;b.forge&&b.forge.prng&&e.seedFile(b.forge.prng.needed,function(g,v){u.postMessage({forge:{prng:{err:g,bytes:v}}})})};u.addEventListener("message",c)}},e}});var yn=T((X7,po)=>{var xt=xe();ho();Fl();Ul();Pe();(function(){if(xt.random&&xt.random.getBytes){po.exports=xt.random;return}(function(t){var e={},r=new Array(4),i=xt.util.createBuffer();e.formatKey=function(d){var b=xt.util.createBuffer(d);return d=new Array(4),d[0]=b.getInt32(),d[1]=b.getInt32(),d[2]=b.getInt32(),d[3]=b.getInt32(),xt.aes._expandKey(d,!1)},e.formatSeed=function(d){var b=xt.util.createBuffer(d);return d=new Array(4),d[0]=b.getInt32(),d[1]=b.getInt32(),d[2]=b.getInt32(),d[3]=b.getInt32(),d},e.cipher=function(d,b){return xt.aes._updateBlock(d,b,r,!1),i.putInt32(r[0]),i.putInt32(r[1]),i.putInt32(r[2]),i.putInt32(r[3]),i.getBytes()},e.increment=function(d){return++d[3],d},e.md=xt.md.sha256;function n(){var d=xt.prng.create(e);return d.getBytes=function(b,g){return d.generate(b,g)},d.getBytesSync=function(b){return d.generate(b)},d}var a=n(),s=null,o=xt.util.globalScope,f=o.crypto||o.msCrypto;if(f&&f.getRandomValues&&(s=function(d){return f.getRandomValues(d)}),xt.options.usePureJavaScript||!xt.util.isNodejs&&!s){if(typeof window=="undefined"||window.document===void 0,a.collectInt(+new Date,32),typeof navigator!="undefined"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch(d){}a.collect(u),u=null}t&&(t().mousemove(function(d){a.collectInt(d.clientX,16),a.collectInt(d.clientY,16)}),t().keypress(function(d){a.collectInt(d.charCode,8)}))}if(!xt.random)xt.random=a;else for(var c in a)xt.random[c]=a[c];xt.random.createInstance=n,po.exports=xt.random})(typeof jQuery!="undefined"?jQuery:null)})()});var Gl=T((ew,zl)=>{var Nt=xe();Pe();var bo=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Vl=[1,2,3,5],dv=function(t,e){return t<<e&65535|(t&65535)>>16-e},lv=function(t,e){return(t&65535)>>e|t<<16-e&65535};zl.exports=Nt.rc2=Nt.rc2||{};Nt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Nt.util.createBuffer(t)),e=e||128;var r=t,i=t.length(),n=e,a=Math.ceil(n/8),s=255>>(n&7),o;for(o=i;o<128;o++)r.putByte(bo[r.at(o-1)+r.at(o-i)&255]);for(r.setAt(128-a,bo[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,bo[r.at(o+1)^r.at(o+a)]);return r};var Hl=function(t,e,r){var i=!1,n=null,a=null,s=null,o,f,u,c,d=[];for(t=Nt.rc2.expandKey(t,e),u=0;u<64;u++)d.push(t.getInt16Le());r?(o=function(v){for(u=0;u<4;u++)v[u]+=d[c]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),v[u]=dv(v[u],Vl[u]),c++},f=function(v){for(u=0;u<4;u++)v[u]+=d[v[(u+3)%4]&63]}):(o=function(v){for(u=3;u>=0;u--)v[u]=lv(v[u],Vl[u]),v[u]-=d[c]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),c--},f=function(v){for(u=3;u>=0;u--)v[u]-=d[v[(u+3)%4]&63]});var b=function(v){var _=[];for(u=0;u<4;u++){var I=n.getInt16Le();s!==null&&(r?I^=s.getInt16Le():s.putInt16Le(I)),_.push(I&65535)}c=r?0:63;for(var C=0;C<v.length;C++)for(var R=0;R<v[C][0];R++)v[C][1](_);for(u=0;u<4;u++)s!==null&&(r?s.putInt16Le(_[u]):_[u]^=s.getInt16Le()),a.putInt16Le(_[u])},g=null;return g={start:function(v,_){v&&typeof v=="string"&&(v=Nt.util.createBuffer(v)),i=!1,n=Nt.util.createBuffer(),a=_||new Nt.util.createBuffer,s=v,g.output=a},update:function(v){for(i||n.putBuffer(v);n.length()>=8;)b([[5,o],[1,f],[6,o],[1,f],[5,o]])},finish:function(v){var _=!0;if(r)if(v)_=v(8,n,!r);else{var I=n.length()===8?8:8-n.length();n.fillWithByte(I,I)}if(_&&(i=!0,g.update()),!r&&(_=n.length()===0,_))if(v)_=v(8,a,!r);else{var C=a.length(),R=a.at(C-1);R>C?_=!1:a.truncate(R)}return _}},g};Nt.rc2.startEncrypting=function(t,e,r){var i=Nt.rc2.createEncryptionCipher(t,128);return i.start(e,r),i};Nt.rc2.createEncryptionCipher=function(t,e){return Hl(t,e,!0)};Nt.rc2.startDecrypting=function(t,e,r){var i=Nt.rc2.createDecryptionCipher(t,128);return i.start(e,r),i};Nt.rc2.createDecryptionCipher=function(t,e){return Hl(t,e,!1)}});var $n=T((tw,jl)=>{var yo=xe();jl.exports=yo.jsbn=yo.jsbn||{};var Hr,pv=244837814094590,Yl=(pv&16777215)==15715070;function K(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}yo.jsbn.BigInteger=K;function ye(){return new K(null)}function bv(t,e,r,i,n,a){for(;--a>=0;){var s=e*this.data[t++]+r.data[i]+n;n=Math.floor(s/67108864),r.data[i++]=s&67108863}return n}function yv(t,e,r,i,n,a){for(var s=e&32767,o=e>>15;--a>=0;){var f=this.data[t]&32767,u=this.data[t++]>>15,c=o*f+u*s;f=s*f+((c&32767)<<15)+r.data[i]+(n&1073741823),n=(f>>>30)+(c>>>15)+o*u+(n>>>30),r.data[i++]=f&1073741823}return n}function Wl(t,e,r,i,n,a){for(var s=e&16383,o=e>>14;--a>=0;){var f=this.data[t]&16383,u=this.data[t++]>>14,c=o*f+u*s;f=s*f+((c&16383)<<14)+r.data[i]+n,n=(f>>28)+(c>>14)+o*u,r.data[i++]=f&268435455}return n}typeof navigator=="undefined"?(K.prototype.am=Wl,Hr=28):Yl&&navigator.appName=="Microsoft Internet Explorer"?(K.prototype.am=yv,Hr=30):Yl&&navigator.appName!="Netscape"?(K.prototype.am=bv,Hr=26):(K.prototype.am=Wl,Hr=28);K.prototype.DB=Hr;K.prototype.DM=(1<<Hr)-1;K.prototype.DV=1<<Hr;var vo=52;K.prototype.FV=Math.pow(2,vo);K.prototype.F1=vo-Hr;K.prototype.F2=2*Hr-vo;var vv="0123456789abcdefghijklmnopqrstuvwxyz",i0=new Array,vn,Yt;vn="0".charCodeAt(0);for(Yt=0;Yt<=9;++Yt)i0[vn++]=Yt;vn="a".charCodeAt(0);for(Yt=10;Yt<36;++Yt)i0[vn++]=Yt;vn="A".charCodeAt(0);for(Yt=10;Yt<36;++Yt)i0[vn++]=Yt;function Jl(t){return vv.charAt(t)}function $l(t,e){var r=i0[t.charCodeAt(e)];return r??-1}function xv(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function gv(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function fi(t){var e=ye();return e.fromInt(t),e}function mv(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var i=t.length,n=!1,a=0;--i>=0;){var s=r==8?t[i]&255:$l(t,i);if(s<0){t.charAt(i)=="-"&&(n=!0);continue}n=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),n&&K.ZERO.subTo(this,this)}function wv(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Sv(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,i,n=!1,a="",s=this.t,o=this.DB-s*this.DB%e;if(s-- >0)for(o<this.DB&&(i=this.data[s]>>o)>0&&(n=!0,a=Jl(i));s>=0;)o<e?(i=(this.data[s]&(1<<o)-1)<<e-o,i|=this.data[--s]>>(o+=this.DB-e)):(i=this.data[s]>>(o-=e)&r,o<=0&&(o+=this.DB,--s)),i>0&&(n=!0),n&&(a+=Jl(i));return n?a:"0"}function Ev(){var t=ye();return K.ZERO.subTo(this,t),t}function _v(){return this.s<0?this.negate():this}function Av(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function n0(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Bv(){return this.t<=0?0:this.DB*(this.t-1)+n0(this.data[this.t-1]^this.s&this.DM)}function kv(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Iv(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Cv(t,e){var r=t%this.DB,i=this.DB-r,n=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+a+1]=this.data[o]>>i|s,s=(this.data[o]&n)<<r;for(o=a-1;o>=0;--o)e.data[o]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function Tv(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var i=t%this.DB,n=this.DB-i,a=(1<<i)-1;e.data[0]=this.data[r]>>i;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&a)<<n,e.data[s-r]=this.data[s]>>i;i>0&&(e.data[this.t-r-1]|=(this.s&a)<<n),e.t=this.t-r,e.clamp()}function Mv(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]-t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i-=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e.data[r++]=this.DV+i:i>0&&(e.data[r++]=i),e.t=r,e.clamp()}function Rv(t,e){var r=this.abs(),i=t.abs(),n=r.t;for(e.t=n+i.t;--n>=0;)e.data[n]=0;for(n=0;n<i.t;++n)e.data[n+r.t]=r.am(0,i.data[n],e,n,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&K.ZERO.subTo(e,e)}function Pv(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var i=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,i,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Nv(t,e,r){var i=t.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ye());var a=ye(),s=this.s,o=t.s,f=this.DB-n0(i.data[i.t-1]);f>0?(i.lShiftTo(f,a),n.lShiftTo(f,r)):(i.copyTo(a),n.copyTo(r));var u=a.t,c=a.data[u-1];if(c!=0){var d=c*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),b=this.FV/d,g=(1<<this.F1)/d,v=1<<this.F2,_=r.t,I=_-u,C=e??ye();for(a.dlShiftTo(I,C),r.compareTo(C)>=0&&(r.data[r.t++]=1,r.subTo(C,r)),K.ONE.dlShiftTo(u,C),C.subTo(a,a);a.t<u;)a.data[a.t++]=0;for(;--I>=0;){var R=r.data[--_]==c?this.DM:Math.floor(r.data[_]*b+(r.data[_-1]+v)*g);if((r.data[_]+=a.am(0,R,r,I,0,u))<R)for(a.dlShiftTo(I,C),r.subTo(C,r);r.data[_]<--R;)r.subTo(C,r)}e!=null&&(r.drShiftTo(u,e),s!=o&&K.ZERO.subTo(e,e)),r.t=u,r.clamp(),f>0&&r.rShiftTo(f,r),s<0&&K.ZERO.subTo(r,r)}}}function Lv(t){var e=ye();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(K.ZERO)>0&&t.subTo(e,e),e}function Li(t){this.m=t}function Dv(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function qv(t){return t}function Kv(t){t.divRemTo(this.m,null,t)}function Fv(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Ov(t,e){t.squareTo(e),this.reduce(e)}Li.prototype.convert=Dv;Li.prototype.revert=qv;Li.prototype.reduce=Kv;Li.prototype.mulTo=Fv;Li.prototype.sqrTo=Ov;function Uv(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Di(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function zv(t){var e=ye();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(K.ZERO)>0&&this.m.subTo(e,e),e}function Vv(t){var e=ye();return t.copyTo(e),this.reduce(e),e}function Hv(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,i=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,i,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Gv(t,e){t.squareTo(e),this.reduce(e)}function jv(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Di.prototype.convert=zv;Di.prototype.revert=Vv;Di.prototype.reduce=Hv;Di.prototype.mulTo=jv;Di.prototype.sqrTo=Gv;function Yv(){return(this.t>0?this.data[0]&1:this.s)==0}function Wv(t,e){if(t>4294967295||t<1)return K.ONE;var r=ye(),i=ye(),n=e.convert(this),a=n0(t)-1;for(n.copyTo(r);--a>=0;)if(e.sqrTo(r,i),(t&1<<a)>0)e.mulTo(i,n,r);else{var s=r;r=i,i=s}return e.revert(r)}function Jv(t,e){var r;return t<256||e.isEven()?r=new Li(e):r=new Di(e),this.exp(t,r)}K.prototype.copyTo=xv;K.prototype.fromInt=gv;K.prototype.fromString=mv;K.prototype.clamp=wv;K.prototype.dlShiftTo=kv;K.prototype.drShiftTo=Iv;K.prototype.lShiftTo=Cv;K.prototype.rShiftTo=Tv;K.prototype.subTo=Mv;K.prototype.multiplyTo=Rv;K.prototype.squareTo=Pv;K.prototype.divRemTo=Nv;K.prototype.invDigit=Uv;K.prototype.isEven=Yv;K.prototype.exp=Wv;K.prototype.toString=Sv;K.prototype.negate=Ev;K.prototype.abs=_v;K.prototype.compareTo=Av;K.prototype.bitLength=Bv;K.prototype.mod=Lv;K.prototype.modPowInt=Jv;K.ZERO=fi(0);K.ONE=fi(1);function $v(){var t=ye();return this.copyTo(t),t}function Zv(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Qv(){return this.t==0?this.s:this.data[0]<<24>>24}function Xv(){return this.t==0?this.s:this.data[0]<<16>>16}function ex(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function tx(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function rx(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=fi(r),n=ye(),a=ye(),s="";for(this.divRemTo(i,n,a);n.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,n.divRemTo(i,n,a);return a.intValue().toString(t)+s}function ix(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),n=!1,a=0,s=0,o=0;o<t.length;++o){var f=$l(t,o);if(f<0){t.charAt(o)=="-"&&this.signum()==0&&(n=!0);continue}s=e*s+f,++a>=r&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),n&&K.ZERO.subTo(this,this)}function nx(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(K.ONE.shiftLeft(t-1),xo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(K.ONE.shiftLeft(t-1),this);else{var i=new Array,n=t&7;i.length=(t>>3)+1,e.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function ax(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,i,n=0;if(t-- >0)for(r<this.DB&&(i=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);t>=0;)r<8?(i=(this.data[t]&(1<<r)-1)<<8-r,i|=this.data[--t]>>(r+=this.DB-8)):(i=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(i&128)!=0&&(i|=-256),n==0&&(this.s&128)!=(i&128)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e}function sx(t){return this.compareTo(t)==0}function ox(t){return this.compareTo(t)<0?this:t}function fx(t){return this.compareTo(t)>0?this:t}function ux(t,e,r){var i,n,a=Math.min(t.t,this.t);for(i=0;i<a;++i)r.data[i]=e(this.data[i],t.data[i]);if(t.t<this.t){for(n=t.s&this.DM,i=a;i<this.t;++i)r.data[i]=e(this.data[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=a;i<t.t;++i)r.data[i]=e(n,t.data[i]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function cx(t,e){return t&e}function hx(t){var e=ye();return this.bitwiseTo(t,cx,e),e}function xo(t,e){return t|e}function dx(t){var e=ye();return this.bitwiseTo(t,xo,e),e}function Zl(t,e){return t^e}function lx(t){var e=ye();return this.bitwiseTo(t,Zl,e),e}function Ql(t,e){return t&~e}function px(t){var e=ye();return this.bitwiseTo(t,Ql,e),e}function bx(){for(var t=ye(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function yx(t){var e=ye();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function vx(t){var e=ye();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function xx(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function gx(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+xx(this.data[t]);return this.s<0?this.t*this.DB:-1}function mx(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function wx(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=mx(this.data[r]^e);return t}function Sx(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Ex(t,e){var r=K.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function _x(t){return this.changeBit(t,xo)}function Ax(t){return this.changeBit(t,Ql)}function Bx(t){return this.changeBit(t,Zl)}function kx(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]+t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i+=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e.data[r++]=i:i<-1&&(e.data[r++]=this.DV+i),e.t=r,e.clamp()}function Ix(t){var e=ye();return this.addTo(t,e),e}function Cx(t){var e=ye();return this.subTo(t,e),e}function Tx(t){var e=ye();return this.multiplyTo(t,e),e}function Mx(t){var e=ye();return this.divRemTo(t,e,null),e}function Rx(t){var e=ye();return this.divRemTo(t,null,e),e}function Px(t){var e=ye(),r=ye();return this.divRemTo(t,e,r),new Array(e,r)}function Nx(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Lx(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function Jn(){}function Xl(t){return t}function Dx(t,e,r){t.multiplyTo(e,r)}function qx(t,e){t.squareTo(e)}Jn.prototype.convert=Xl;Jn.prototype.revert=Xl;Jn.prototype.mulTo=Dx;Jn.prototype.sqrTo=qx;function Kx(t){return this.exp(t,new Jn)}function Fx(t,e,r){var i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;var n;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()}function Ox(t,e,r){--e;var i=r.t=this.t+t.t-e;for(r.s=0;--i>=0;)r.data[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)r.data[this.t+i-e]=this.am(e-i,t.data[i],r,0,0,this.t+i-e);r.clamp(),r.drShiftTo(1,r)}function xn(t){this.r2=ye(),this.q3=ye(),K.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Ux(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ye();return t.copyTo(e),this.reduce(e),e}function zx(t){return t}function Vx(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Hx(t,e){t.squareTo(e),this.reduce(e)}function Gx(t,e,r){t.multiplyTo(e,r),this.reduce(r)}xn.prototype.convert=Ux;xn.prototype.revert=zx;xn.prototype.reduce=Vx;xn.prototype.mulTo=Gx;xn.prototype.sqrTo=Hx;function jx(t,e){var r=t.bitLength(),i,n=fi(1),a;if(r<=0)return n;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6,r<8?a=new Li(e):e.isEven()?a=new xn(e):a=new Di(e);var s=new Array,o=3,f=i-1,u=(1<<i)-1;if(s[1]=a.convert(this),i>1){var c=ye();for(a.sqrTo(s[1],c);o<=u;)s[o]=ye(),a.mulTo(c,s[o-2],s[o]),o+=2}var d=t.t-1,b,g=!0,v=ye(),_;for(r=n0(t.data[d])-1;d>=0;){for(r>=f?b=t.data[d]>>r-f&u:(b=(t.data[d]&(1<<r+1)-1)<<f-r,d>0&&(b|=t.data[d-1]>>this.DB+r-f)),o=i;(b&1)==0;)b>>=1,--o;if((r-=o)<0&&(r+=this.DB,--d),g)s[b].copyTo(n),g=!1;else{for(;o>1;)a.sqrTo(n,v),a.sqrTo(v,n),o-=2;o>0?a.sqrTo(n,v):(_=n,n=v,v=_),a.mulTo(v,s[b],n)}for(;d>=0&&(t.data[d]&1<<r)==0;)a.sqrTo(n,v),_=n,n=v,v=_,--r<0&&(r=this.DB-1,--d)}return a.revert(n)}function Yx(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var i=e;e=r,r=i}var n=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(n<a&&(a=n),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function Wx(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var i=this.t-1;i>=0;--i)r=(e*r+this.data[i])%t;return r}function Jx(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return K.ZERO;for(var r=t.clone(),i=this.clone(),n=fi(1),a=fi(0),s=fi(0),o=fi(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!n.isEven()||!a.isEven())&&(n.addTo(this,n),a.subTo(t,a)),n.rShiftTo(1,n)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(i)>=0?(r.subTo(i,r),e&&n.subTo(s,n),a.subTo(o,a)):(i.subTo(r,i),e&&s.subTo(n,s),o.subTo(a,o))}if(i.compareTo(K.ONE)!=0)return K.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var ar=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],$x=(1<<26)/ar[ar.length-1];function Zx(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=ar[ar.length-1]){for(e=0;e<ar.length;++e)if(r.data[0]==ar[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<ar.length;){for(var i=ar[e],n=e+1;n<ar.length&&i<$x;)i*=ar[n++];for(i=r.modInt(i);e<n;)if(i%ar[e++]==0)return!1}return r.millerRabin(t)}function Xx(t){var e=this.subtract(K.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var i=e.shiftRight(r),n=Qx(),a,s=0;s<t;++s){do a=new K(this.bitLength(),n);while(a.compareTo(K.ONE)<=0||a.compareTo(e)>=0);var o=a.modPow(i,this);if(o.compareTo(K.ONE)!=0&&o.compareTo(e)!=0){for(var f=1;f++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(K.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function Qx(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}K.prototype.chunkSize=ex;K.prototype.toRadix=rx;K.prototype.fromRadix=ix;K.prototype.fromNumber=nx;K.prototype.bitwiseTo=ux;K.prototype.changeBit=Ex;K.prototype.addTo=kx;K.prototype.dMultiply=Nx;K.prototype.dAddOffset=Lx;K.prototype.multiplyLowerTo=Fx;K.prototype.multiplyUpperTo=Ox;K.prototype.modInt=Wx;K.prototype.millerRabin=Xx;K.prototype.clone=$v;K.prototype.intValue=Zv;K.prototype.byteValue=Qv;K.prototype.shortValue=Xv;K.prototype.signum=tx;K.prototype.toByteArray=ax;K.prototype.equals=sx;K.prototype.min=ox;K.prototype.max=fx;K.prototype.and=hx;K.prototype.or=dx;K.prototype.xor=lx;K.prototype.andNot=px;K.prototype.not=bx;K.prototype.shiftLeft=yx;K.prototype.shiftRight=vx;K.prototype.getLowestSetBit=gx;K.prototype.bitCount=wx;K.prototype.testBit=Sx;K.prototype.setBit=_x;K.prototype.clearBit=Ax;K.prototype.flipBit=Bx;K.prototype.add=Ix;K.prototype.subtract=Cx;K.prototype.multiply=Tx;K.prototype.divide=Mx;K.prototype.remainder=Rx;K.prototype.divideAndRemainder=Px;K.prototype.modPow=jx;K.prototype.modInverse=Jx;K.prototype.pow=Kx;K.prototype.gcd=Yx;K.prototype.isProbablePrime=Zx});var n1=T((rw,e1)=>{var Sr=xe();Ni();Pe();var t1=e1.exports=Sr.sha1=Sr.sha1||{};Sr.md.sha1=Sr.md.algorithms.sha1=t1;t1.create=function(){r1||e8();var t=null,e=Sr.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,a=0;a<n;++a)i.fullMessageLength.push(0);return e=Sr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i},i.start(),i.update=function(n,a){a==="utf8"&&(n=Sr.util.encodeUtf8(n));var s=n.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=i.fullMessageLength.length-1;o>=0;--o)i.fullMessageLength[o]+=s[1],s[1]=s[0]+(i.fullMessageLength[o]/4294967296>>>0),i.fullMessageLength[o]=i.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(n),i1(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Sr.util.createBuffer();n.putBytes(e.bytes());var a=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,s=a&i.blockLength-1;n.putBytes(go.substr(0,i.blockLength-s));for(var o,f,u=i.fullMessageLength[0]*8,c=0;c<i.fullMessageLength.length-1;++c)o=i.fullMessageLength[c+1]*8,f=o/4294967296>>>0,u+=f,n.putInt32(u>>>0),u=o>>>0;n.putInt32(u);var d={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};i1(d,r,n);var b=Sr.util.createBuffer();return b.putInt32(d.h0),b.putInt32(d.h1),b.putInt32(d.h2),b.putInt32(d.h3),b.putInt32(d.h4),b},i};var go=null,r1=!1;function e8(){go=String.fromCharCode(128),go+=Sr.util.fillString(String.fromCharCode(0),64),r1=!0}function i1(t,e,r){for(var i,n,a,s,o,f,u,c,d=r.length();d>=64;){for(n=t.h0,a=t.h1,s=t.h2,o=t.h3,f=t.h4,c=0;c<16;++c)i=r.getInt32(),e[c]=i,u=o^a&(s^o),i=(n<<5|n>>>27)+u+f+1518500249+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<20;++c)i=e[c-3]^e[c-8]^e[c-14]^e[c-16],i=i<<1|i>>>31,e[c]=i,u=o^a&(s^o),i=(n<<5|n>>>27)+u+f+1518500249+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<32;++c)i=e[c-3]^e[c-8]^e[c-14]^e[c-16],i=i<<1|i>>>31,e[c]=i,u=a^s^o,i=(n<<5|n>>>27)+u+f+1859775393+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<40;++c)i=e[c-6]^e[c-16]^e[c-28]^e[c-32],i=i<<2|i>>>30,e[c]=i,u=a^s^o,i=(n<<5|n>>>27)+u+f+1859775393+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<60;++c)i=e[c-6]^e[c-16]^e[c-28]^e[c-32],i=i<<2|i>>>30,e[c]=i,u=a&s|o&(a^s),i=(n<<5|n>>>27)+u+f+2400959708+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;for(;c<80;++c)i=e[c-6]^e[c-16]^e[c-28]^e[c-32],i=i<<2|i>>>30,e[c]=i,u=a^s^o,i=(n<<5|n>>>27)+u+f+3395469782+i,f=o,o=s,s=(a<<30|a>>>2)>>>0,a=n,n=i;t.h0=t.h0+n|0,t.h1=t.h1+a|0,t.h2=t.h2+s|0,t.h3=t.h3+o|0,t.h4=t.h4+f|0,d-=64}}});var o1=T((iw,a1)=>{var Er=xe();Pe();yn();n1();var s1=a1.exports=Er.pkcs1=Er.pkcs1||{};s1.encode_rsa_oaep=function(t,e,r){var i,n,a,s;typeof r=="string"?(i=r,n=arguments[3]||void 0,a=arguments[4]||void 0):r&&(i=r.label||void 0,n=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=Er.md.sha1.create(),s||(s=a);var o=Math.ceil(t.n.bitLength()/8),f=o-2*a.digestLength-2;if(e.length>f){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=f,u}i||(i=""),a.update(i,"raw");for(var c=a.digest(),d="",b=f-e.length,g=0;g<b;g++)d+="\0";var v=c.getBytes()+d+""+e;if(!n)n=Er.random.getBytes(a.digestLength);else if(n.length!==a.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=n.length,u.digestLength=a.digestLength,u}var _=a0(n,o-a.digestLength-1,s),I=Er.util.xorBytes(v,_,v.length),C=a0(I,a.digestLength,s),R=Er.util.xorBytes(n,C,n.length);return"\0"+R+I};s1.decode_rsa_oaep=function(t,e,r){var i,n,a;typeof r=="string"?(i=r,n=arguments[3]||void 0):r&&(i=r.label||void 0,n=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var I=new Error("RSAES-OAEP encoded message length is invalid.");throw I.length=e.length,I.expectedLength=s,I}if(n===void 0?n=Er.md.sha1.create():n.start(),a||(a=n),s<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),n.update(i,"raw");for(var o=n.digest().getBytes(),f=e.charAt(0),u=e.substring(1,n.digestLength+1),c=e.substring(1+n.digestLength),d=a0(c,n.digestLength,a),b=Er.util.xorBytes(u,d,u.length),g=a0(b,s-n.digestLength-1,a),v=Er.util.xorBytes(c,g,c.length),_=v.substring(0,n.digestLength),I=f!=="\0",C=0;C<n.digestLength;++C)I|=o.charAt(C)!==_.charAt(C);for(var R=1,P=n.digestLength,O=n.digestLength;O<v.length;O++){var q=v.charCodeAt(O),D=q&1^1,G=R?65534:0;I|=q&G,R=R&D,P+=R}if(I||v.charCodeAt(P)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(P+1)};function a0(t,e,r){r||(r=Er.md.sha1.create());for(var i="",n=Math.ceil(e/r.digestLength),a=0;a<n;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+s),i+=r.digest().getBytes()}return i.substring(0,e)}});var f1=T((nw,mo)=>{var ui=xe();Pe();$n();yn();(function(){if(ui.prime){mo.exports=ui.prime;return}var t=mo.exports=ui.prime=ui.prime||{},e=ui.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],i=new e(null);i.fromInt(30);var n=function(d,b){return d|b};t.generateProbablePrime=function(d,b,g){typeof b=="function"&&(g=b,b={}),b=b||{};var v=b.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var _=b.prng||ui.random,I={nextBytes:function(C){for(var R=_.getBytesSync(C.length),P=0;P<C.length;++P)C[P]=R.charCodeAt(P)}};if(v.name==="PRIMEINC")return a(d,I,v.options,g);throw new Error("Invalid prime generation algorithm: "+v.name)};function a(d,b,g,v){return"workers"in g?f(d,b,g,v):s(d,b,g,v)}function s(d,b,g,v){var _=u(d,b),I=0,C=c(_.bitLength());"millerRabinTests"in g&&(C=g.millerRabinTests);var R=10;"maxBlockTime"in g&&(R=g.maxBlockTime),o(_,d,b,I,C,R,v)}function o(d,b,g,v,_,I,C){var R=+new Date;do{if(d.bitLength()>b&&(d=u(b,g)),d.isProbablePrime(_))return C(null,d);d.dAddOffset(r[v++%8],0)}while(I<0||+new Date-R<I);ui.util.setImmediate(function(){o(d,b,g,v,_,I,C)})}function f(d,b,g,v){if(typeof Worker=="undefined")return s(d,b,g,v);var _=u(d,b),I=g.workers,C=g.workLoad||100,R=C*30/8,P=g.workerScript||"forge/prime.worker.js";if(I===-1)return ui.util.estimateCores(function(q,D){q&&(D=2),I=D-1,O()});O();function O(){I=Math.max(1,I);for(var q=[],D=0;D<I;++D)q[D]=new Worker(P);for(var G=I,D=0;D<I;++D)q[D].addEventListener("message",Q);var z=!1;function Q(E){if(!z){--G;var h=E.data;if(h.found){for(var p=0;p<q.length;++p)q[p].terminate();return z=!0,v(null,new e(h.prime,16))}_.bitLength()>d&&(_=u(d,b));var y=_.toString(16);E.target.postMessage({hex:y,workLoad:C}),_.dAddOffset(R,0)}}}}function u(d,b){var g=new e(d,b),v=d-1;return g.testBit(v)||g.bitwiseTo(e.ONE.shiftLeft(v),n,g),g.dAddOffset(31-g.mod(i).byteValue(),0),g}function c(d){return d<=100?27:d<=150?18:d<=200?15:d<=250?12:d<=300?9:d<=350?8:d<=400?7:d<=500?6:d<=600?5:d<=800?4:d<=1250?3:2}})()});var o0=T((aw,u1)=>{var te=xe();ln();$n();Ya();o1();f1();yn();Pe();typeof de=="undefined"&&(de=te.jsbn.BigInteger);var de,wo=te.util.isNodejs?Wn():null,M=te.asn1,Wt=te.util;te.pki=te.pki||{};u1.exports=te.pki.rsa=te.rsa=te.rsa||{};var re=te.pki,t8=[6,4,2,4,2,4,6,2],r8={name:"PrivateKeyInfo",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:M.Class.UNIVERSAL,type:M.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},i8={name:"RSAPrivateKey",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},n8={name:"RSAPublicKey",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:M.Class.UNIVERSAL,type:M.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},a8=te.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:M.Class.UNIVERSAL,type:M.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:M.Class.UNIVERSAL,type:M.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:M.Class.UNIVERSAL,type:M.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},s8=function(t){var e;if(t.algorithm in re.oids)e=re.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var i=M.oidToDer(e).getBytes(),n=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[]),a=M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[]);a.value.push(M.create(M.Class.UNIVERSAL,M.Type.OID,!1,i)),a.value.push(M.create(M.Class.UNIVERSAL,M.Type.NULL,!1,""));var s=M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,t.digest().getBytes());return n.value.push(a),n.value.push(s),M.toDer(n).getBytes()},c1=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(de.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(de.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var i;do i=new de(te.util.bytesToHex(te.random.getBytes(e.n.bitLength()/8)),16);while(i.compareTo(e.n)>=0||!i.gcd(e.n).equals(de.ONE));t=t.multiply(i.modPow(e.e,e.n)).mod(e.n);for(var n=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);n.compareTo(a)<0;)n=n.add(e.p);var s=n.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return s=s.multiply(i.modInverse(e.n)).mod(e.n),s};re.rsa.encrypt=function(t,e,r){var i=r,n,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(i=r===2,n=h1(t,e,r)):(n=te.util.createBuffer(),n.putBytes(t));for(var s=new de(n.toHex(),16),o=c1(s,e,i),f=o.toString(16),u=te.util.createBuffer(),c=a-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(te.util.hexToBytes(f)),u.getBytes()};re.rsa.decrypt=function(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8);if(t.length!==n){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=n,a}var s=new de(te.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=c1(s,e,r),f=o.toString(16),u=te.util.createBuffer(),c=n-Math.ceil(f.length/2);c>0;)u.putByte(0),--c;return u.putBytes(te.util.hexToBytes(f)),i!==!1?s0(u.getBytes(),e,r):u.getBytes()};re.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var i=r.prng||te.random,n={nextBytes:function(o){for(var f=i.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=f.charCodeAt(u)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:t,rng:n,eInt:e||65537,e:new de(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};re.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new de(null);r.fromInt(30);for(var i=0,n=function(d,b){return d|b},a=+new Date,s,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,u=f-1;t.pqState===0?(t.num=new de(f,t.rng),t.num.testBit(u)||t.num.bitwiseTo(de.ONE.shiftLeft(u),n,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(o8(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(t8[i++%8],0):t.pqState===2?t.pqState=t.num.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(de.ONE),t.q1=t.q.subtract(de.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(de.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:re.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:re.rsa.setPublicKey(t.n,t.e)}}s=+new Date,o+=s-a,a=s}return t.keys!==null};re.rsa.generateKeyPair=function(t,e,r,i){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(i=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,i=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(i=r,r=void 0):(i=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!te.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(i){if(d1("generateKeyPair"))return wo.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,f,u){if(o)return i(o);i(null,{privateKey:re.privateKeyFromPem(u),publicKey:re.publicKeyFromPem(f)})});if(l1("generateKey")&&l1("exportKey"))return Wt.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return Wt.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){i(o)}).then(function(o){if(o){var f=re.privateKeyFromAsn1(M.fromDer(te.util.createBuffer(o)));i(null,{privateKey:f,publicKey:re.setRsaPublicKey(f.n,f.e)})}});if(p1("generateKey")&&p1("exportKey")){var n=Wt.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:b1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);n.oncomplete=function(o){var f=o.target.result,u=Wt.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);u.oncomplete=function(c){var d=c.target.result,b=re.privateKeyFromAsn1(M.fromDer(te.util.createBuffer(d)));i(null,{privateKey:b,publicKey:re.setRsaPublicKey(b.n,b.e)})},u.onerror=function(c){i(c)}},n.onerror=function(o){i(o)};return}}else if(d1("generateKeyPairSync")){var a=wo.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:re.privateKeyFromPem(a.privateKey),publicKey:re.publicKeyFromPem(a.publicKey)}}}var s=re.rsa.createKeyPairGenerationState(t,e,r);if(!i)return re.rsa.stepKeyPairGenerationState(s,0),s.keys;f8(s,r,i)};re.setRsaPublicKey=re.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(i,n,a){if(typeof n=="string"?n=n.toUpperCase():n===void 0&&(n="RSAES-PKCS1-V1_5"),n==="RSAES-PKCS1-V1_5")n={encode:function(o,f,u){return h1(o,f,2).getBytes()}};else if(n==="RSA-OAEP"||n==="RSAES-OAEP")n={encode:function(o,f){return te.pkcs1.encode_rsa_oaep(f,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(o){return o}};else if(typeof n=="string")throw new Error('Unsupported encryption scheme: "'+n+'".');var s=n.encode(i,r,!0);return re.rsa.encrypt(s,r,!0)},r.verify=function(i,n,a){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),a==="RSASSA-PKCS1-V1_5"?a={verify:function(o,f){f=s0(f,r,!0);var u=M.fromDer(f);return o===u.value[1].value}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(o,f){return f=s0(f,r,!0),o===f}});var s=re.rsa.decrypt(n,r,!0,!1);return a.verify(i,s,r.n.bitLength())},r};re.setRsaPrivateKey=re.rsa.setPrivateKey=function(t,e,r,i,n,a,s,o){var f={n:t,e,d:r,p:i,q:n,dP:a,dQ:s,qInv:o};return f.decrypt=function(u,c,d){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var b=re.rsa.decrypt(u,f,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:s0};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(g,v){return te.pkcs1.decode_rsa_oaep(v,g,d)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(g){return g}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(b,f,!1)},f.sign=function(u,c){var d=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:s8},d=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},d=1);var b=c.encode(u,f.n.bitLength());return re.rsa.encrypt(b,f,d)},f};re.wrapRsaPrivateKey=function(t){return M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(0).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(re.oids.rsaEncryption).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.NULL,!1,"")]),M.create(M.Class.UNIVERSAL,M.Type.OCTETSTRING,!1,M.toDer(t).getBytes())])};re.privateKeyFromAsn1=function(t){var e={},r=[];if(M.validate(t,r8,e,r)&&(t=M.fromDer(te.util.createBuffer(e.privateKey))),e={},r=[],!M.validate(t,i8,e,r)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=r,i}var n,a,s,o,f,u,c,d;return n=te.util.createBuffer(e.privateKeyModulus).toHex(),a=te.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=te.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=te.util.createBuffer(e.privateKeyPrime1).toHex(),f=te.util.createBuffer(e.privateKeyPrime2).toHex(),u=te.util.createBuffer(e.privateKeyExponent1).toHex(),c=te.util.createBuffer(e.privateKeyExponent2).toHex(),d=te.util.createBuffer(e.privateKeyCoefficient).toHex(),re.setRsaPrivateKey(new de(n,16),new de(a,16),new de(s,16),new de(o,16),new de(f,16),new de(u,16),new de(c,16),new de(d,16))};re.privateKeyToAsn1=re.privateKeyToRSAPrivateKey=function(t){return M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,M.integerToDer(0).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.n)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.e)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.d)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.p)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.q)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.dP)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.dQ)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.qInv))])};re.publicKeyFromAsn1=function(t){var e={},r=[];if(M.validate(t,a8,e,r)){var i=M.derToOid(e.publicKeyOid);if(i!==re.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=i,n}t=e.rsaPublicKey}if(r=[],!M.validate(t,n8,e,r)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=r,n}var a=te.util.createBuffer(e.publicKeyModulus).toHex(),s=te.util.createBuffer(e.publicKeyExponent).toHex();return re.setRsaPublicKey(new de(a,16),new de(s,16))};re.publicKeyToAsn1=re.publicKeyToSubjectPublicKeyInfo=function(t){return M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.OID,!1,M.oidToDer(re.oids.rsaEncryption).getBytes()),M.create(M.Class.UNIVERSAL,M.Type.NULL,!1,"")]),M.create(M.Class.UNIVERSAL,M.Type.BITSTRING,!1,[re.publicKeyToRSAPublicKey(t)])])};re.publicKeyToRSAPublicKey=function(t){return M.create(M.Class.UNIVERSAL,M.Type.SEQUENCE,!0,[M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.n)),M.create(M.Class.UNIVERSAL,M.Type.INTEGER,!1,_r(t.e))])};function h1(t,e,r){var i=te.util.createBuffer(),n=Math.ceil(e.n.bitLength()/8);if(t.length>n-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=n-11,a}i.putByte(0),i.putByte(r);var s=n-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var f=0;f<s;++f)i.putByte(o)}else for(;s>0;){for(var u=0,c=te.random.getBytes(s),f=0;f<s;++f)o=c.charCodeAt(f),o===0?++u:i.putByte(o);s=u}return i.putByte(0),i.putBytes(t),i}function s0(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8),a=te.util.createBuffer(t),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof i=="undefined")throw new Error("Encryption block is invalid.");var f=0;if(o===0){f=n-3-i;for(var u=0;u<f;++u)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(f=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++f}else if(o===2)for(f=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++f}var c=a.getByte();if(c!==0||f!==n-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function f8(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var i={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(i.prng=e.prng),n();function n(){a(t.pBits,function(o,f){if(o)return r(o);if(t.p=f,t.q!==null)return s(o,t.q);a(t.qBits,s)})}function a(o,f){te.prime.generateProbablePrime(o,i,f)}function s(o,f){if(o)return r(o);if(t.q=f,t.p.compareTo(t.q)<0){var u=t.p;t.p=t.q,t.q=u}if(t.p.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)!==0){t.p=null,n();return}if(t.q.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)!==0){t.q=null,a(t.qBits,s);return}if(t.p1=t.p.subtract(de.ONE),t.q1=t.q.subtract(de.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(de.ONE)!==0){t.p=t.q=null,n();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,s);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:re.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:re.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function _r(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=te.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function o8(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function d1(t){return te.util.isNodejs&&typeof wo[t]=="function"}function l1(t){return typeof Wt.globalScope!="undefined"&&typeof Wt.globalScope.crypto=="object"&&typeof Wt.globalScope.crypto.subtle=="object"&&typeof Wt.globalScope.crypto.subtle[t]=="function"}function p1(t){return typeof Wt.globalScope!="undefined"&&typeof Wt.globalScope.msCrypto=="object"&&typeof Wt.globalScope.msCrypto.subtle=="object"&&typeof Wt.globalScope.msCrypto.subtle[t]=="function"}function b1(t){for(var e=te.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}});var w1=T((sw,y1)=>{var Y=xe();ho();ln();Al();Ni();Ya();Tl();Pl();yn();Gl();o0();Pe();typeof v1=="undefined"&&(v1=Y.jsbn.BigInteger);var v1,L=Y.asn1,ne=Y.pki=Y.pki||{};y1.exports=ne.pbe=Y.pbe=Y.pbe||{};var qi=ne.oids,u8={name:"EncryptedPrivateKeyInfo",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c8={name:"PBES2Algorithms",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:L.Class.UNIVERSAL,type:L.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:L.Class.UNIVERSAL,type:L.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h8={name:"pkcs-12PbeParams",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:L.Class.UNIVERSAL,type:L.Type.INTEGER,constructed:!1,capture:"iterations"}]};ne.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i=Y.random.getBytesSync(r.saltSize),n=r.count,a=L.integerToDer(n),s,o,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,d;switch(r.algorithm){case"aes128":s=16,u=16,c=qi["aes128-CBC"],d=Y.aes.createEncryptionCipher;break;case"aes192":s=24,u=16,c=qi["aes192-CBC"],d=Y.aes.createEncryptionCipher;break;case"aes256":s=32,u=16,c=qi["aes256-CBC"],d=Y.aes.createEncryptionCipher;break;case"des":s=8,u=8,c=qi.desCBC,d=Y.des.createEncryptionCipher;break;default:var b=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw b.algorithm=r.algorithm,b}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),v=x1(g),_=Y.pkcs5.pbkdf2(e,i,n,s,v),I=Y.random.getBytesSync(u),C=d(_);C.start(I),C.update(L.toDer(t)),C.finish(),f=C.output.getBytes();var R=d8(i,a,s,g);o=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(qi.pkcs5PBES2).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(qi.pkcs5PBKDF2).getBytes()),R]),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(c).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,I)])])])}else if(r.algorithm==="3des"){s=24;var P=new Y.util.ByteBuffer(i),_=ne.pbe.generatePkcs12Key(e,P,1,n,s),I=ne.pbe.generatePkcs12Key(e,P,2,n,s),C=Y.des.createEncryptionCipher(_);C.start(I),C.update(L.toDer(t)),C.finish(),f=C.output.getBytes(),o=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(qi["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,i),L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,a.getBytes())])])}else{var b=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw b.algorithm=r.algorithm,b}var O=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[o,L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,f)]);return O};ne.decryptPrivateKeyInfo=function(t,e){var r=null,i={},n=[];if(!L.validate(t,u8,i,n)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=n,a}var s=L.derToOid(i.encryptionOid),o=ne.pbe.getCipher(s,i.encryptionParams,e),f=Y.util.createBuffer(i.encryptedData);return o.update(f),o.finish()&&(r=L.fromDer(o.output)),r};ne.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:L.toDer(t).getBytes()};return Y.pem.encode(r,{maxline:e})};ne.encryptedPrivateKeyFromPem=function(t){var e=Y.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return L.fromDer(e.body)};ne.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var i=ne.wrapRsaPrivateKey(ne.privateKeyToAsn1(t));return i=ne.encryptPrivateKeyInfo(i,e,r),ne.encryptedPrivateKeyToPem(i)}var n,a,s,o;switch(r.algorithm){case"aes128":n="AES-128-CBC",s=16,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",s=24,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",s=32,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",s=24,a=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;case"des":n="DES-CBC",s=8,a=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var u=Y.pbe.opensslDeriveBytes(e,a.substr(0,8),s),c=o(u);c.start(a),c.update(L.toDer(ne.privateKeyToAsn1(t))),c.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:Y.util.bytesToHex(a).toUpperCase()},body:c.output.getBytes()};return Y.pem.encode(d)};ne.decryptRsaPrivateKey=function(t,e){var r=null,i=Y.pem.decode(t)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"&&i.type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(i.procType&&i.procType.type==="ENCRYPTED"){var a,s;switch(i.dekInfo.algorithm){case"DES-CBC":a=8,s=Y.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=Y.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=Y.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=Y.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=Y.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(d){return Y.rc2.createDecryptionCipher(d,40)};break;case"RC2-64-CBC":a=8,s=function(d){return Y.rc2.createDecryptionCipher(d,64)};break;case"RC2-128-CBC":a=16,s=function(d){return Y.rc2.createDecryptionCipher(d,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw n.algorithm=i.dekInfo.algorithm,n}var o=Y.util.hexToBytes(i.dekInfo.parameters),f=Y.pbe.opensslDeriveBytes(e,o.substr(0,8),a),u=s(f);if(u.start(o),u.update(Y.util.createBuffer(i.body)),u.finish())r=u.output.getBytes();else return r}else r=i.body;return i.type==="ENCRYPTED PRIVATE KEY"?r=ne.decryptPrivateKeyInfo(L.fromDer(r),e):r=L.fromDer(r),r!==null&&(r=ne.privateKeyFromAsn1(r)),r};ne.pbe.generatePkcs12Key=function(t,e,r,i,n,a){var s,o;if(typeof a=="undefined"||a===null){if(!("sha1"in Y.md))throw new Error('"sha1" hash algorithm unavailable.');a=Y.md.sha1.create()}var f=a.digestLength,u=a.blockLength,c=new Y.util.ByteBuffer,d=new Y.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)d.putInt16(t.charCodeAt(o));d.putInt16(0)}var b=d.length(),g=e.length(),v=new Y.util.ByteBuffer;v.fillWithByte(r,u);var _=u*Math.ceil(g/u),I=new Y.util.ByteBuffer;for(o=0;o<_;o++)I.putByte(e.at(o%g));var C=u*Math.ceil(b/u),R=new Y.util.ByteBuffer;for(o=0;o<C;o++)R.putByte(d.at(o%b));var P=I;P.putBuffer(R);for(var O=Math.ceil(n/f),q=1;q<=O;q++){var D=new Y.util.ByteBuffer;D.putBytes(v.bytes()),D.putBytes(P.bytes());for(var G=0;G<i;G++)a.start(),a.update(D.getBytes()),D=a.digest();var z=new Y.util.ByteBuffer;for(o=0;o<u;o++)z.putByte(D.at(o%f));var Q=Math.ceil(g/u)+Math.ceil(b/u),E=new Y.util.ByteBuffer;for(s=0;s<Q;s++){var h=new Y.util.ByteBuffer(P.getBytes(u)),p=511;for(o=z.length()-1;o>=0;o--)p=p>>8,p+=z.at(o)+h.at(o),h.setAt(o,p&255);E.putBuffer(h)}P=E,c.putBuffer(D)}return c.truncate(c.length()-n),c};ne.pbe.getCipher=function(t,e,r){switch(t){case ne.oids.pkcs5PBES2:return ne.pbe.getCipherForPBES2(t,e,r);case ne.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ne.oids["pbewithSHAAnd40BitRC2-CBC"]:return ne.pbe.getCipherForPKCS12PBE(t,e,r);default:var i=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=t,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}};ne.pbe.getCipherForPBES2=function(t,e,r){var i={},n=[];if(!L.validate(e,c8,i,n)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=n,a}if(t=L.derToOid(i.kdfOid),t!==ne.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=L.derToOid(i.encOid),t!==ne.oids["aes128-CBC"]&&t!==ne.oids["aes192-CBC"]&&t!==ne.oids["aes256-CBC"]&&t!==ne.oids["des-EDE3-CBC"]&&t!==ne.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=i.kdfSalt,o=Y.util.createBuffer(i.kdfIterationCount);o=o.getInt(o.length()<<3);var f,u;switch(ne.oids[t]){case"aes128-CBC":f=16,u=Y.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,u=Y.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,u=Y.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,u=Y.des.createDecryptionCipher;break;case"desCBC":f=8,u=Y.des.createDecryptionCipher;break}var c=g1(i.prfOid),d=Y.pkcs5.pbkdf2(r,s,o,f,c),b=i.encIv,g=u(d);return g.start(b),g};ne.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},n=[];if(!L.validate(e,h8,i,n)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=n,a}var s=Y.util.createBuffer(i.salt),o=Y.util.createBuffer(i.iterations);o=o.getInt(o.length()<<3);var f,u,c;switch(t){case ne.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,u=8,c=Y.des.startDecrypting;break;case ne.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,u=8,c=function(_,I){var C=Y.rc2.createDecryptionCipher(_,40);return C.start(I,null),C};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var d=g1(i.prfOid),b=ne.pbe.generatePkcs12Key(r,s,1,o,f,d);d.start();var g=ne.pbe.generatePkcs12Key(r,s,2,o,u,d);return c(b,g)};ne.pbe.opensslDeriveBytes=function(t,e,r,i){if(typeof i=="undefined"||i===null){if(!("md5"in Y.md))throw new Error('"md5" hash algorithm unavailable.');i=Y.md.md5.create()}e===null&&(e="");for(var n=[m1(i,t+e)],a=16,s=1;a<r;++s,a+=16)n.push(m1(i,n[s-1]+t+e));return n.join("").substr(0,r)};function m1(t,e){return t.start().update(e).digest().getBytes()}function g1(t){var e;if(!t)e="hmacWithSHA1";else if(e=ne.oids[L.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return x1(e)}function x1(t){var e=Y.md;switch(t){case"hmacWithSHA224":e=Y.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function d8(t,e,r,i){var n=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,t),L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,e.getBytes())]);return i!=="hmacWithSHA1"&&n.value.push(L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,Y.util.hexToBytes(r.toString(16))),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(ne.oids[i]).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.NULL,!1,"")])),n}});var Zn=T(S1=>{"use strict";S1.get=(t=self)=>{let e=t.crypto||t.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var So=T((fw,E1)=>{"use strict";var l8=Ur(),_1=Gt(),p8=Zn();function b8({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:i="SHA-256",saltLength:n=16,iterations:a=32767}={}){let s=p8.get();r*=8;async function o(u,c){let d=s.getRandomValues(new Uint8Array(n)),b=s.getRandomValues(new Uint8Array(e)),g={name:t,iv:b},v={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},_=await s.subtle.importKey("raw",_1(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),I=await s.subtle.deriveKey(v,_,{name:t,length:r},!0,["encrypt"]),C=await s.subtle.encrypt(g,I,u);return l8([d,g.iv,new Uint8Array(C)])}async function f(u,c){let d=u.slice(0,n),b=u.slice(n,n+e),g=u.slice(n+e),v={name:t,iv:b},_={name:"PBKDF2",salt:d,iterations:a,hash:{name:i}},I=await s.subtle.importKey("raw",_1(c),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),C=await s.subtle.deriveKey(_,I,{name:t,length:r},!0,["decrypt"]),R=await s.subtle.decrypt(v,C,g);return new Uint8Array(R)}return{encrypt:o,decrypt:f}}E1.exports={create:b8}});var B1=T((uw,A1)=>{"use strict";var y8=wi(),v8=So();A1.exports={import:async function(t,e){let i=y8.names.base64.decode(t);return await v8.create().decrypt(i,e)}}});var Qn=T((cw,k1)=>{"use strict";var x8=Ci(),gn=self.crypto||self.msCrypto,Eo=async(t,e)=>{if(typeof self=="undefined"||!gn)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await gn.subtle.digest({name:"SHA-1"},t));case"sha2-256":return new Uint8Array(await gn.subtle.digest({name:"SHA-256"},t));case"sha2-512":return new Uint8Array(await gn.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{let r=await gn.subtle.digest({name:"SHA-256"},t);return new Uint8Array(await gn.subtle.digest({name:"SHA-256"},r))}default:throw new Error(`${e} is not a supported algorithm`)}};k1.exports={factory:t=>async e=>Eo(e,t),digest:Eo,multihashing:async(t,e,r)=>{let i=await Eo(t,e);return x8.encode(i,e,r)}}});var Bo=T((hw,I1)=>{var Ie=xe();Ni();Pe();var Xn=I1.exports=Ie.sha512=Ie.sha512||{};Ie.md.sha512=Ie.md.algorithms.sha512=Xn;var C1=Ie.sha384=Ie.sha512.sha384=Ie.sha512.sha384||{};C1.create=function(){return Xn.create("SHA-384")};Ie.md.sha384=Ie.md.algorithms.sha384=C1;Ie.sha512.sha256=Ie.sha512.sha256||{create:function(){return Xn.create("SHA-512/256")}};Ie.md["sha512/256"]=Ie.md.algorithms["sha512/256"]=Ie.sha512.sha256;Ie.sha512.sha224=Ie.sha512.sha224||{create:function(){return Xn.create("SHA-512/224")}};Ie.md["sha512/224"]=Ie.md.algorithms["sha512/224"]=Ie.sha512.sha224;Xn.create=function(t){if(T1||g8(),typeof t=="undefined"&&(t="SHA-512"),!(t in Ki))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Ki[t],r=null,i=Ie.util.createBuffer(),n=new Array(80),a=0;a<80;++a)n[a]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var f=o.messageLengthSize/4,u=0;u<f;++u)o.fullMessageLength.push(0);i=Ie.util.createBuffer(),r=new Array(e.length);for(var u=0;u<e.length;++u)r[u]=e[u].slice(0);return o},o.start(),o.update=function(f,u){u==="utf8"&&(f=Ie.util.encodeUtf8(f));var c=f.length;o.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var d=o.fullMessageLength.length-1;d>=0;--d)o.fullMessageLength[d]+=c[1],c[1]=c[0]+(o.fullMessageLength[d]/4294967296>>>0),o.fullMessageLength[d]=o.fullMessageLength[d]>>>0,c[0]=c[1]/4294967296>>>0;return i.putBytes(f),M1(r,n,i),(i.read>2048||i.length()===0)&&i.compact(),o},o.digest=function(){var f=Ie.util.createBuffer();f.putBytes(i.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,c=u&o.blockLength-1;f.putBytes(_o.substr(0,o.blockLength-c));for(var d,b,g=o.fullMessageLength[0]*8,v=0;v<o.fullMessageLength.length-1;++v)d=o.fullMessageLength[v+1]*8,b=d/4294967296>>>0,g+=b,f.putInt32(g>>>0),g=d>>>0;f.putInt32(g);for(var _=new Array(r.length),v=0;v<r.length;++v)_[v]=r[v].slice(0);M1(_,n,f);var I=Ie.util.createBuffer(),C;t==="SHA-512"?C=_.length:t==="SHA-384"?C=_.length-2:C=_.length-4;for(var v=0;v<C;++v)I.putInt32(_[v][0]),(v!==C-1||t!=="SHA-512/224")&&I.putInt32(_[v][1]);return I},o};var _o=null,T1=!1,Ao=null,Ki=null;function g8(){_o=String.fromCharCode(128),_o+=Ie.util.fillString(String.fromCharCode(0),128),Ao=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Ki={},Ki["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Ki["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Ki["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Ki["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],T1=!0}function M1(t,e,r){for(var i,n,a,s,o,f,u,c,d,b,g,v,_,I,C,R,P,O,q,D,G,z,Q,E,h,p,y,x,m,B,A,w,l,S,U,V=r.length();V>=128;){for(m=0;m<16;++m)e[m][0]=r.getInt32()>>>0,e[m][1]=r.getInt32()>>>0;for(;m<80;++m)w=e[m-2],B=w[0],A=w[1],i=((B>>>19|A<<13)^(A>>>29|B<<3)^B>>>6)>>>0,n=((B<<13|A>>>19)^(A<<3|B>>>29)^(B<<26|A>>>6))>>>0,S=e[m-15],B=S[0],A=S[1],a=((B>>>1|A<<31)^(B>>>8|A<<24)^B>>>7)>>>0,s=((B<<31|A>>>1)^(B<<24|A>>>8)^(B<<25|A>>>7))>>>0,l=e[m-7],U=e[m-16],A=n+l[1]+s+U[1],e[m][0]=i+l[0]+a+U[0]+(A/4294967296>>>0)>>>0,e[m][1]=A>>>0;for(_=t[0][0],I=t[0][1],C=t[1][0],R=t[1][1],P=t[2][0],O=t[2][1],q=t[3][0],D=t[3][1],G=t[4][0],z=t[4][1],Q=t[5][0],E=t[5][1],h=t[6][0],p=t[6][1],y=t[7][0],x=t[7][1],m=0;m<80;++m)u=((G>>>14|z<<18)^(G>>>18|z<<14)^(z>>>9|G<<23))>>>0,c=((G<<18|z>>>14)^(G<<14|z>>>18)^(z<<23|G>>>9))>>>0,d=(h^G&(Q^h))>>>0,b=(p^z&(E^p))>>>0,o=((_>>>28|I<<4)^(I>>>2|_<<30)^(I>>>7|_<<25))>>>0,f=((_<<4|I>>>28)^(I<<30|_>>>2)^(I<<25|_>>>7))>>>0,g=(_&C|P&(_^C))>>>0,v=(I&R|O&(I^R))>>>0,A=x+c+b+Ao[m][1]+e[m][1],i=y+u+d+Ao[m][0]+e[m][0]+(A/4294967296>>>0)>>>0,n=A>>>0,A=f+v,a=o+g+(A/4294967296>>>0)>>>0,s=A>>>0,y=h,x=p,h=Q,p=E,Q=G,E=z,A=D+n,G=q+i+(A/4294967296>>>0)>>>0,z=A>>>0,q=P,D=O,P=C,O=R,C=_,R=I,A=n+s,_=i+a+(A/4294967296>>>0)>>>0,I=A>>>0;A=t[0][1]+I,t[0][0]=t[0][0]+_+(A/4294967296>>>0)>>>0,t[0][1]=A>>>0,A=t[1][1]+R,t[1][0]=t[1][0]+C+(A/4294967296>>>0)>>>0,t[1][1]=A>>>0,A=t[2][1]+O,t[2][0]=t[2][0]+P+(A/4294967296>>>0)>>>0,t[2][1]=A>>>0,A=t[3][1]+D,t[3][0]=t[3][0]+q+(A/4294967296>>>0)>>>0,t[3][1]=A>>>0,A=t[4][1]+z,t[4][0]=t[4][0]+G+(A/4294967296>>>0)>>>0,t[4][1]=A>>>0,A=t[5][1]+E,t[5][0]=t[5][0]+Q+(A/4294967296>>>0)>>>0,t[5][1]=A>>>0,A=t[6][1]+p,t[6][0]=t[6][0]+h+(A/4294967296>>>0)>>>0,t[6][1]=A>>>0,A=t[7][1]+x,t[7][0]=t[7][0]+y+(A/4294967296>>>0)>>>0,t[7][1]=A>>>0,V-=128}}});var R1=T(ko=>{var m8=xe();ln();var gt=m8.asn1;ko.privateKeyValidator={name:"PrivateKeyInfo",tagClass:gt.Class.UNIVERSAL,type:gt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:gt.Class.UNIVERSAL,type:gt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:gt.Class.UNIVERSAL,type:gt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:gt.Class.UNIVERSAL,type:gt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:gt.Class.UNIVERSAL,type:gt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};ko.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:gt.Class.UNIVERSAL,type:gt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:gt.Class.UNIVERSAL,type:gt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:gt.Class.UNIVERSAL,type:gt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:gt.Class.UNIVERSAL,type:gt.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Do=T((lw,P1)=>{var _t=xe();$n();yn();Bo();Pe();var N1=R1(),w8=N1.publicKeyValidator,S8=N1.privateKeyValidator;typeof L1=="undefined"&&(L1=_t.jsbn.BigInteger);var L1,Io=_t.util.ByteBuffer,Lt=typeof Buffer=="undefined"?Uint8Array:Buffer;_t.pki=_t.pki||{};P1.exports=_t.pki.ed25519=_t.ed25519=_t.ed25519||{};var ce=_t.ed25519;ce.constants={};ce.constants.PUBLIC_KEY_BYTE_LENGTH=32;ce.constants.PRIVATE_KEY_BYTE_LENGTH=64;ce.constants.SEED_BYTE_LENGTH=32;ce.constants.SIGN_BYTE_LENGTH=64;ce.constants.HASH_BYTE_LENGTH=64;ce.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=_t.random.getBytesSync(ce.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==ce.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ce.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=Gr({message:e,encoding:"binary"});for(var r=new Lt(ce.constants.PUBLIC_KEY_BYTE_LENGTH),i=new Lt(ce.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)i[n]=e[n];return E8(r,i),{publicKey:r,privateKey:i}};ce.privateKeyFromAsn1=function(t){var e={},r=[],i=_t.asn1.validate(t,S8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var a=_t.asn1.derToOid(e.privateKeyOid),s=_t.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.privateKey,f=Gr({message:_t.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:f}};ce.publicKeyFromAsn1=function(t){var e={},r=[],i=_t.asn1.validate(t,w8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var a=_t.asn1.derToOid(e.publicKeyOid),s=_t.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.ed25519PublicKey;if(o.length!==ce.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Gr({message:o,encoding:"binary"})};ce.publicKeyFromPrivateKey=function(t){t=t||{};var e=Gr({message:t.privateKey,encoding:"binary"});if(e.length!==ce.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ce.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Lt(ce.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<r.length;++i)r[i]=e[32+i];return r};ce.sign=function(t){t=t||{};var e=Gr(t),r=Gr({message:t.privateKey,encoding:"binary"});if(r.length===ce.constants.SEED_BYTE_LENGTH){var i=ce.generateKeyPair({seed:r});r=i.privateKey}else if(r.length!==ce.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ce.constants.SEED_BYTE_LENGTH+" or "+ce.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new Lt(ce.constants.SIGN_BYTE_LENGTH+e.length);_8(n,e,e.length,r);for(var a=new Lt(ce.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=n[s];return a};ce.verify=function(t){t=t||{};var e=Gr(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Gr({message:t.signature,encoding:"binary"});if(r.length!==ce.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+ce.constants.SIGN_BYTE_LENGTH);var i=Gr({message:t.publicKey,encoding:"binary"});if(i.length!==ce.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ce.constants.PUBLIC_KEY_BYTE_LENGTH);var n=new Lt(ce.constants.SIGN_BYTE_LENGTH+e.length),a=new Lt(ce.constants.SIGN_BYTE_LENGTH+e.length),s;for(s=0;s<ce.constants.SIGN_BYTE_LENGTH;++s)n[s]=r[s];for(s=0;s<e.length;++s)n[s+ce.constants.SIGN_BYTE_LENGTH]=e[s];return A8(a,n,n.length,i)>=0};function Gr(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Lt)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,r);e=new Io(e,r)}else if(!(e instanceof Io))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new Lt(e.length()),n=0;n<i.length;++n)i[n]=e.at(n);return i}var Co=$(),f0=$([1]),B8=$([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),k8=$([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),D1=$([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),q1=$([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),To=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),I8=$([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ea(t,e){var r=_t.md.sha512.create(),i=new Io(t);r.update(i.getBytes(e),"binary");var n=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(n,"binary");for(var a=new Lt(ce.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=n.charCodeAt(s);return a}function E8(t,e){var r=[$(),$(),$(),$()],i,n=ea(e,32);for(n[0]&=248,n[31]&=127,n[31]|=64,Ro(r,n),Mo(t,r),i=0;i<32;++i)e[i+32]=t[i];return 0}function _8(t,e,r,i){var n,a,s=new Float64Array(64),o=[$(),$(),$(),$()],f=ea(i,32);f[0]&=248,f[31]&=127,f[31]|=64;var u=r+64;for(n=0;n<r;++n)t[64+n]=e[n];for(n=0;n<32;++n)t[32+n]=f[32+n];var c=ea(t.subarray(32),r+32);for(Po(c),Ro(o,c),Mo(t,o),n=32;n<64;++n)t[n]=i[n];var d=ea(t,r+64);for(Po(d),n=32;n<64;++n)s[n]=0;for(n=0;n<32;++n)s[n]=c[n];for(n=0;n<32;++n)for(a=0;a<32;a++)s[n+a]+=d[n]*f[a];return K1(t.subarray(32),s),u}function A8(t,e,r,i){var n,a,s=new Lt(32),o=[$(),$(),$(),$()],f=[$(),$(),$(),$()];if(a=-1,r<64||C8(f,i))return-1;for(n=0;n<r;++n)t[n]=e[n];for(n=0;n<32;++n)t[n+32]=i[n];var u=ea(t,r);if(Po(u),O1(o,f,u),Ro(f,e.subarray(32)),No(o,f),Mo(s,o),r-=64,F1(e,0,s,0)){for(n=0;n<r;++n)t[n]=0;return-1}for(n=0;n<r;++n)t[n]=e[n+64];return a=r,a}function K1(t,e){var r,i,n,a;for(i=63;i>=32;--i){for(r=0,n=i-32,a=i-12;n<a;++n)e[n]+=r-16*e[i]*To[n-(i-32)],r=e[n]+128>>8,e[n]-=r*256;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;++n)e[n]+=r-(e[31]>>4)*To[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;++n)e[n]-=r*To[n];for(i=0;i<32;++i)e[i+1]+=e[i]>>8,t[i]=e[i]&255}function Po(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;K1(t,e)}function No(t,e){var r=$(),i=$(),n=$(),a=$(),s=$(),o=$(),f=$(),u=$(),c=$();wn(r,t[1],t[0]),wn(c,e[1],e[0]),we(r,r,c),mn(i,t[0],t[1]),mn(c,e[0],e[1]),we(i,i,c),we(n,t[3],e[3]),we(n,n,k8),we(a,t[2],e[2]),mn(a,a,a),wn(s,i,r),wn(o,a,n),mn(f,a,n),mn(u,i,r),we(t[0],s,o),we(t[1],u,f),we(t[2],f,o),we(t[3],s,u)}function z1(t,e,r){for(var i=0;i<4;++i)U1(t[i],e[i],r)}function Mo(t,e){var r=$(),i=$(),n=$();T8(n,e[2]),we(r,e[0],n),we(i,e[1],n),u0(t,i),t[31]^=V1(r)<<7}function u0(t,e){var r,i,n,a=$(),s=$();for(r=0;r<16;++r)s[r]=e[r];for(Lo(s),Lo(s),Lo(s),i=0;i<2;++i){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),n=a[15]>>16&1,a[14]&=65535,U1(s,a,1-n)}for(r=0;r<16;r++)t[2*r]=s[r]&255,t[2*r+1]=s[r]>>8}function C8(t,e){var r=$(),i=$(),n=$(),a=$(),s=$(),o=$(),f=$();return ci(t[2],f0),M8(t[1],e),Fi(n,t[1]),we(a,n,B8),wn(n,n,t[2]),mn(a,t[2],a),Fi(s,a),Fi(o,s),we(f,o,s),we(r,f,n),we(r,r,a),R8(r,r),we(r,r,n),we(r,r,a),we(r,r,a),we(t[0],r,a),Fi(i,t[0]),we(i,i,a),H1(i,n)&&we(t[0],t[0],I8),Fi(i,t[0]),we(i,i,a),H1(i,n)?-1:(V1(t[0])===e[31]>>7&&wn(t[0],Co,t[0]),we(t[3],t[0],t[1]),0)}function M8(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function R8(t,e){var r=$(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=250;i>=0;--i)Fi(r,r),i!==1&&we(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function H1(t,e){var r=new Lt(32),i=new Lt(32);return u0(r,t),u0(i,e),F1(r,0,i,0)}function F1(t,e,r,i){return P8(t,e,r,i,32)}function P8(t,e,r,i,n){var a,s=0;for(a=0;a<n;++a)s|=t[e+a]^r[i+a];return(1&s-1>>>8)-1}function V1(t){var e=new Lt(32);return u0(e,t),e[0]&1}function O1(t,e,r){var i,n;for(ci(t[0],Co),ci(t[1],f0),ci(t[2],f0),ci(t[3],Co),n=255;n>=0;--n)i=r[n/8|0]>>(n&7)&1,z1(t,e,i),No(e,t),No(t,t),z1(t,e,i)}function Ro(t,e){var r=[$(),$(),$(),$()];ci(r[0],D1),ci(r[1],q1),ci(r[2],f0),we(r[3],D1,q1),O1(t,r,e)}function ci(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function T8(t,e){var r=$(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=253;i>=0;--i)Fi(r,r),i!==2&&i!==4&&we(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function Lo(t){var e,r,i=1;for(e=0;e<16;++e)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-i*65536;t[0]+=i-1+37*(i-1)}function U1(t,e,r){for(var i,n=~(r-1),a=0;a<16;++a)i=n&(t[a]^e[a]),t[a]^=i,e[a]^=i}function $(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function mn(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]+r[i]}function wn(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]-r[i]}function Fi(t,e){we(t,e,e)}function we(t,e,r){var i,n,a=0,s=0,o=0,f=0,u=0,c=0,d=0,b=0,g=0,v=0,_=0,I=0,C=0,R=0,P=0,O=0,q=0,D=0,G=0,z=0,Q=0,E=0,h=0,p=0,y=0,x=0,m=0,B=0,A=0,w=0,l=0,S=r[0],U=r[1],V=r[2],j=r[3],W=r[4],Z=r[5],X=r[6],ke=r[7],ee=r[8],ie=r[9],ct=r[10],ae=r[11],se=r[12],ht=r[13],oe=r[14],fe=r[15];i=e[0],a+=i*S,s+=i*U,o+=i*V,f+=i*j,u+=i*W,c+=i*Z,d+=i*X,b+=i*ke,g+=i*ee,v+=i*ie,_+=i*ct,I+=i*ae,C+=i*se,R+=i*ht,P+=i*oe,O+=i*fe,i=e[1],s+=i*S,o+=i*U,f+=i*V,u+=i*j,c+=i*W,d+=i*Z,b+=i*X,g+=i*ke,v+=i*ee,_+=i*ie,I+=i*ct,C+=i*ae,R+=i*se,P+=i*ht,O+=i*oe,q+=i*fe,i=e[2],o+=i*S,f+=i*U,u+=i*V,c+=i*j,d+=i*W,b+=i*Z,g+=i*X,v+=i*ke,_+=i*ee,I+=i*ie,C+=i*ct,R+=i*ae,P+=i*se,O+=i*ht,q+=i*oe,D+=i*fe,i=e[3],f+=i*S,u+=i*U,c+=i*V,d+=i*j,b+=i*W,g+=i*Z,v+=i*X,_+=i*ke,I+=i*ee,C+=i*ie,R+=i*ct,P+=i*ae,O+=i*se,q+=i*ht,D+=i*oe,G+=i*fe,i=e[4],u+=i*S,c+=i*U,d+=i*V,b+=i*j,g+=i*W,v+=i*Z,_+=i*X,I+=i*ke,C+=i*ee,R+=i*ie,P+=i*ct,O+=i*ae,q+=i*se,D+=i*ht,G+=i*oe,z+=i*fe,i=e[5],c+=i*S,d+=i*U,b+=i*V,g+=i*j,v+=i*W,_+=i*Z,I+=i*X,C+=i*ke,R+=i*ee,P+=i*ie,O+=i*ct,q+=i*ae,D+=i*se,G+=i*ht,z+=i*oe,Q+=i*fe,i=e[6],d+=i*S,b+=i*U,g+=i*V,v+=i*j,_+=i*W,I+=i*Z,C+=i*X,R+=i*ke,P+=i*ee,O+=i*ie,q+=i*ct,D+=i*ae,G+=i*se,z+=i*ht,Q+=i*oe,E+=i*fe,i=e[7],b+=i*S,g+=i*U,v+=i*V,_+=i*j,I+=i*W,C+=i*Z,R+=i*X,P+=i*ke,O+=i*ee,q+=i*ie,D+=i*ct,G+=i*ae,z+=i*se,Q+=i*ht,E+=i*oe,h+=i*fe,i=e[8],g+=i*S,v+=i*U,_+=i*V,I+=i*j,C+=i*W,R+=i*Z,P+=i*X,O+=i*ke,q+=i*ee,D+=i*ie,G+=i*ct,z+=i*ae,Q+=i*se,E+=i*ht,h+=i*oe,p+=i*fe,i=e[9],v+=i*S,_+=i*U,I+=i*V,C+=i*j,R+=i*W,P+=i*Z,O+=i*X,q+=i*ke,D+=i*ee,G+=i*ie,z+=i*ct,Q+=i*ae,E+=i*se,h+=i*ht,p+=i*oe,y+=i*fe,i=e[10],_+=i*S,I+=i*U,C+=i*V,R+=i*j,P+=i*W,O+=i*Z,q+=i*X,D+=i*ke,G+=i*ee,z+=i*ie,Q+=i*ct,E+=i*ae,h+=i*se,p+=i*ht,y+=i*oe,x+=i*fe,i=e[11],I+=i*S,C+=i*U,R+=i*V,P+=i*j,O+=i*W,q+=i*Z,D+=i*X,G+=i*ke,z+=i*ee,Q+=i*ie,E+=i*ct,h+=i*ae,p+=i*se,y+=i*ht,x+=i*oe,m+=i*fe,i=e[12],C+=i*S,R+=i*U,P+=i*V,O+=i*j,q+=i*W,D+=i*Z,G+=i*X,z+=i*ke,Q+=i*ee,E+=i*ie,h+=i*ct,p+=i*ae,y+=i*se,x+=i*ht,m+=i*oe,B+=i*fe,i=e[13],R+=i*S,P+=i*U,O+=i*V,q+=i*j,D+=i*W,G+=i*Z,z+=i*X,Q+=i*ke,E+=i*ee,h+=i*ie,p+=i*ct,y+=i*ae,x+=i*se,m+=i*ht,B+=i*oe,A+=i*fe,i=e[14],P+=i*S,O+=i*U,q+=i*V,D+=i*j,G+=i*W,z+=i*Z,Q+=i*X,E+=i*ke,h+=i*ee,p+=i*ie,y+=i*ct,x+=i*ae,m+=i*se,B+=i*ht,A+=i*oe,w+=i*fe,i=e[15],O+=i*S,q+=i*U,D+=i*V,G+=i*j,z+=i*W,Q+=i*Z,E+=i*X,h+=i*ke,p+=i*ee,y+=i*ie,x+=i*ct,m+=i*ae,B+=i*se,A+=i*ht,w+=i*oe,l+=i*fe,a+=38*q,s+=38*D,o+=38*G,f+=38*z,u+=38*Q,c+=38*E,d+=38*h,b+=38*p,g+=38*y,v+=38*x,_+=38*m,I+=38*B,C+=38*A,R+=38*w,P+=38*l,n=1,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,a+=n-1+37*(n-1),n=1,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=v+n+65535,n=Math.floor(i/65536),v=i-n*65536,i=_+n+65535,n=Math.floor(i/65536),_=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=P+n+65535,n=Math.floor(i/65536),P=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,a+=n-1+37*(n-1),t[0]=a,t[1]=s,t[2]=o,t[3]=f,t[4]=u,t[5]=c,t[6]=d,t[7]=b,t[8]=g,t[9]=v,t[10]=_,t[11]=I,t[12]=C,t[13]=R,t[14]=P,t[15]=O}});var c0=T(ta=>{"use strict";Pe();$n();var N8=xe(),L8=Gt(),G1=Ft(),j1=Ur();ta.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=j1([new Uint8Array(e-r.length),r])}return G1(r,"base64url")};ta.base64urlToBigInteger=t=>{let e=ta.base64urlToBuffer(t);return new N8.jsbn.BigInteger(G1(e,"base16"),16)};ta.base64urlToBuffer=(t,e)=>{let r=L8(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=j1([new Uint8Array(e-r.length),r])}return r}});var J1=T(ra=>{"use strict";ln();o0();var hi=xe(),{bigIntegerToUintBase64url:Ar,base64urlToBigInteger:Br}=c0(),Y1=Gt(),W1=Ft();ra.pkcs1ToJwk=function(t){let e=hi.asn1.fromDer(W1(t,"ascii")),r=hi.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Ar(r.n),e:Ar(r.e),d:Ar(r.d),p:Ar(r.p),q:Ar(r.q),dp:Ar(r.dP),dq:Ar(r.dQ),qi:Ar(r.qInv),alg:"RS256",kid:"2011-04-29"}};ra.jwkToPkcs1=function(t){let e=hi.pki.privateKeyToAsn1({n:Br(t.n),e:Br(t.e),d:Br(t.d),p:Br(t.p),q:Br(t.q),dP:Br(t.dp),dQ:Br(t.dq),qInv:Br(t.qi)});return Y1(hi.asn1.toDer(e).getBytes(),"ascii")};ra.pkixToJwk=function(t){let e=hi.asn1.fromDer(W1(t,"ascii")),r=hi.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Ar(r.n),e:Ar(r.e),alg:"RS256",kid:"2011-04-29"}};ra.jwkToPkix=function(t){let e=hi.pki.publicKeyToAsn1({n:Br(t.n),e:Br(t.e)});return Y1(hi.asn1.toDer(e).getBytes(),"ascii")}});var X1=T((yw,$1)=>{"use strict";o0();var Z1=xe(),{base64urlToBigInteger:D8}=c0();function Q1(t,e){return e.map(r=>D8(t[r]))}function q8(t){return Z1.pki.setRsaPrivateKey(...Q1(t,["n","e","d","p","q","dp","dq","qi"]))}function K8(t){return Z1.pki.setRsaPublicKey(...Q1(t,["n","e"]))}$1.exports={jwk2pub:K8,jwk2priv:q8}});var r2=T(jr=>{"use strict";var Yr=Zn(),F8=Da(),O8=Ft(),U8=Gt();jr.utils=J1();jr.generateKey=async function(t){let e=await Yr.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await e2(e);return{privateKey:r[0],publicKey:r[1]}};jr.unmarshalPrivateKey=async function(t){let r=[await Yr.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await z8(t)],i=await e2({privateKey:r[0],publicKey:r[1]});return{privateKey:i[0],publicKey:i[1]}};jr.getRandomValues=F8;jr.hashAndSign=async function(t,e){let r=await Yr.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await Yr.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};jr.hashAndVerify=async function(t,e,r){let i=await Yr.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Yr.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,r)};function e2(t){return Promise.all([Yr.get().subtle.exportKey("jwk",t.privateKey),Yr.get().subtle.exportKey("jwk",t.publicKey)])}function z8(t){return Yr.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:V8,jwk2priv:H8}=X1();function t2(t,e,r,i){let n=e?V8(t):H8(t),a=O8(Uint8Array.from(r),"ascii"),s=i(a,n);return U8(s,"ascii")}jr.encrypt=function(t,e){return t2(t,!0,e,(r,i)=>i.encrypt(r))};jr.decrypt=function(t,e){return t2(t,!1,e,(r,i)=>i.decrypt(r))}});var h0=T((xw,i2)=>{"use strict";var G8=wi(),j8=So();i2.exports={export:async function(t,e){let i=await j8.create().encrypt(t,e);return G8.names.base64.encode(i)}}});var f2=T((gw,n2)=>{"use strict";var a2=Qn(),s2=lr(),o2=Ti(),Y8=Ft();Bo();Do();var d0=xe(),Jt=r2(),l0=Ha(),W8=h0(),p0=class{constructor(e){this._key=e}async verify(e,r){return Jt.hashAndVerify(this._key,r,e)}marshal(){return Jt.utils.jwkToPkix(this._key)}get bytes(){return l0.PublicKey.encode({Type:l0.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return Jt.encrypt(this._key,e)}equals(e){return o2(this.bytes,e.bytes)}async hash(){return a2.multihashing(this.bytes,"sha2-256")}},ia=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Jt.getRandomValues(16)}async sign(e){return Jt.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw s2(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new p0(this._publicKey)}decrypt(e){return Jt.decrypt(this._key,e)}marshal(){return Jt.utils.jwkToPkcs1(this._key)}get bytes(){return l0.PrivateKey.encode({Type:l0.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return o2(this.bytes,e.bytes)}async hash(){return a2.multihashing(this.bytes,"sha2-256")}async id(){let e=await this.public.hash();return Y8(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let i=new d0.util.ByteBuffer(this.marshal()),n=d0.asn1.fromDer(i),a=d0.pki.privateKeyFromAsn1(n),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return d0.pki.encryptRsaPrivateKey(a,e,s)}else{if(r==="libp2p-key")return W8.export(this.bytes,e);throw s2(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function J8(t){let e=Jt.utils.pkcs1ToJwk(t),r=await Jt.unmarshalPrivateKey(e);return new ia(r.privateKey,r.publicKey)}function $8(t){let e=Jt.utils.pkixToJwk(t);return new p0(e)}async function Z8(t){let e=await Jt.unmarshalPrivateKey(t);return new ia(e.privateKey,e.publicKey)}async function Q8(t){let e=await Jt.generateKey(t);return new ia(e.privateKey,e.publicKey)}n2.exports={RsaPublicKey:p0,RsaPrivateKey:ia,unmarshalRsaPublicKey:$8,unmarshalRsaPrivateKey:J8,generateKeyPair:Q8,fromJwk:Z8}});var u2=T(Oi=>{"use strict";Do();var Sn=xe();Oi.publicKeyLength=Sn.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;Oi.privateKeyLength=Sn.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;Oi.generateKey=async function(){return Sn.pki.ed25519.generateKeyPair()};Oi.generateKeyFromSeed=async function(t){return Sn.pki.ed25519.generateKeyPair({seed:t})};Oi.hashAndSign=async function(t,e){return Sn.pki.ed25519.sign({message:e,privateKey:t})};Oi.hashAndVerify=async function(t,e,r){return Sn.pki.ed25519.verify({signature:e,message:r,publicKey:t})}});var b2=T((ww,c2)=>{"use strict";var h2=Qn(),d2=lr(),l2=Ti(),p2=Ci(),It=u2(),b0=Ha(),X8=h0(),y0=class{constructor(e){this._key=En(e,It.publicKeyLength)}async verify(e,r){return It.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return b0.PublicKey.encode({Type:b0.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return l2(this.bytes,e.bytes)}async hash(){return h2.multihashing(this.bytes,"sha2-256")}},_n=class{constructor(e,r){this._key=En(e,It.privateKeyLength),this._publicKey=En(r,It.publicKeyLength)}async sign(e){return It.hashAndSign(this._key,e)}get public(){return new y0(this._publicKey)}marshal(){return this._key}get bytes(){return b0.PrivateKey.encode({Type:b0.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return l2(this.bytes,e.bytes)}async hash(){return h2.multihashing(this.bytes,"sha2-256")}async id(){let e=p2.encode(this.public.bytes,"identity");return await p2.toB58String(e)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return X8.export(this.bytes,e);throw d2(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function e5(t){if(t.length>It.privateKeyLength){t=En(t,It.privateKeyLength+It.publicKeyLength);let i=t.slice(0,It.privateKeyLength),n=t.slice(It.privateKeyLength,t.length);return new _n(i,n)}t=En(t,It.privateKeyLength);let e=t.slice(0,It.privateKeyLength),r=t.slice(It.publicKeyLength);return new _n(e,r)}function t5(t){return t=En(t,It.publicKeyLength),new y0(t)}async function r5(){let{privateKey:t,publicKey:e}=await It.generateKey();return new _n(t,e)}async function i5(t){let{privateKey:e,publicKey:r}=await It.generateKeyFromSeed(t);return new _n(e,r)}function En(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw d2(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}c2.exports={Ed25519PublicKey:y0,Ed25519PrivateKey:_n,unmarshalEd25519PrivateKey:e5,unmarshalEd25519PublicKey:t5,generateKeyPair:r5,generateKeyPairFromSeed:i5}});var v2=T((Sw,y2)=>{var ve={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function $t(t,e){if(!t)throw new Error(e)}function le(t,e,r){if($t(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let i=r.join(", "),n=`Expected ${t} to be an Uint8Array with length [${i}]`;$t(r.includes(e.length),n)}else{let i=`Expected ${t} to be an Uint8Array with length ${r}`;$t(e.length===r,i)}}function Ui(t){$t(An(t)==="Boolean","Expected compressed to be a Boolean")}function sr(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),le("output",t,e),t}function An(t){return Object.prototype.toString.call(t).slice(8,-1)}y2.exports=t=>({contextRandomize(e){switch($t(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&le("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(ve.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return le("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(le("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(ve.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(le("private key",e,32),le("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(ve.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(le("private key",e,32),le("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(ve.TWEAK_MUL)}},publicKeyVerify(e){return le("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,i){switch(le("private key",e,32),Ui(r),i=sr(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(ve.SECKEY_INVALID);case 2:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,i){switch(le("public key",e,[33,65]),Ui(r),i=sr(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,i){switch(le("public key",e,[33,65]),Ui(r),i=sr(i,r?33:65),t.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.IMPOSSIBLE_CASE);case 3:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,i){$t(Array.isArray(e),"Expected public keys to be an Array"),$t(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)le("public key",n,[33,65]);switch(Ui(r),i=sr(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.PUBKEY_COMBINE);case 3:throw new Error(ve.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,i=!0,n){switch(le("public key",e,[33,65]),le("tweak",r,32),Ui(i),n=sr(n,i?33:65),t.publicKeyTweakAdd(n,e,r)){case 0:return n;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.TWEAK_ADD)}},publicKeyTweakMul(e,r,i=!0,n){switch(le("public key",e,[33,65]),le("tweak",r,32),Ui(i),n=sr(n,i?33:65),t.publicKeyTweakMul(n,e,r)){case 0:return n;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.TWEAK_MUL)}},signatureNormalize(e){switch(le("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(ve.SIG_PARSE)}},signatureExport(e,r){le("signature",e,64),r=sr(r,72);let i={output:r,outputlen:72};switch(t.signatureExport(i,e)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(le("signature",e),r=sr(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,i={},n){le("message",e,32),le("private key",r,32),$t(An(i)==="Object","Expected options to be an Object"),i.data!==void 0&&le("options.data",i.data),i.noncefn!==void 0&&$t(An(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=sr(n,64);let a={signature:n,recid:null};switch(t.ecdsaSign(a,e,r,i.data,i.noncefn)){case 0:return a;case 1:throw new Error(ve.SIGN);case 2:throw new Error(ve.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,i){switch(le("signature",e,64),le("message",r,32),le("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.PUBKEY_PARSE)}},ecdsaRecover(e,r,i,n=!0,a){switch(le("signature",e,64),$t(An(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),le("message",i,32),Ui(n),a=sr(a,n?33:65),t.ecdsaRecover(a,e,r,i)){case 0:return a;case 1:throw new Error(ve.SIG_PARSE);case 2:throw new Error(ve.RECOVER);case 3:throw new Error(ve.IMPOSSIBLE_CASE)}},ecdh(e,r,i={},n){switch(le("public key",e,[33,65]),le("private key",r,32),$t(An(i)==="Object","Expected options to be an Object"),i.data!==void 0&&le("options.data",i.data),i.hashfn!==void 0?($t(An(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&le("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&le("options.ybuf",i.ybuf,32),le("output",n)):n=sr(n,32),t.ecdh(n,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(ve.PUBKEY_PARSE);case 2:throw new Error(ve.ECDH)}}})});var g2=T((Ew,x2)=>{x2.exports={_from:"elliptic@^6.5.2",_id:"elliptic@6.5.4",_inBundle:!1,_integrity:"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.2",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.2",saveSpec:null,fetchSpec:"^6.5.2"},_requiredBy:["/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_shasum:"da37cebd31e79a1367e941b592ed1fbebd58abbb",_spec:"elliptic@^6.5.2",_where:"/Users/vsantos/work/pl/gh/libp2p/js-libp2p-floodsub/node_modules/secp256k1",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.4"}});var m2=T(()=>{});var kr=T((w2,qo)=>{(function(t,e){"use strict";function r(E,h){if(!E)throw new Error(h||"Assertion failed")}function i(E,h){E.super_=h;var p=function(){};p.prototype=h.prototype,E.prototype=new p,E.prototype.constructor=E}function n(E,h,p){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((h==="le"||h==="be")&&(p=h,h=10),this._init(E||0,h||10,p||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var a;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?a=window.Buffer:a=m2().Buffer}catch(E){}n.isBN=function(h){return h instanceof n?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===n.wordSize&&Array.isArray(h.words)},n.max=function(h,p){return h.cmp(p)>0?h:p},n.min=function(h,p){return h.cmp(p)<0?h:p},n.prototype._init=function(h,p,y){if(typeof h=="number")return this._initNumber(h,p,y);if(typeof h=="object")return this._initArray(h,p,y);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),h=h.toString().replace(/\s+/g,"");var x=0;h[0]==="-"&&(x++,this.negative=1),x<h.length&&(p===16?this._parseHex(h,x,y):(this._parseBase(h,p,x),y==="le"&&this._initArray(this.toArray(),p,y)))},n.prototype._initNumber=function(h,p,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),p,y)},n.prototype._initArray=function(h,p,y){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var m,B,A=0;if(y==="be")for(x=h.length-1,m=0;x>=0;x-=3)B=h[x]|h[x-1]<<8|h[x-2]<<16,this.words[m]|=B<<A&67108863,this.words[m+1]=B>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);else if(y==="le")for(x=0,m=0;x<h.length;x+=3)B=h[x]|h[x+1]<<8|h[x+2]<<16,this.words[m]|=B<<A&67108863,this.words[m+1]=B>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);return this.strip()};function s(E,h){var p=E.charCodeAt(h);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function o(E,h,p){var y=s(E,p);return p-1>=h&&(y|=s(E,p-1)<<4),y}n.prototype._parseHex=function(h,p,y){this.length=Math.ceil((h.length-p)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var m=0,B=0,A;if(y==="be")for(x=h.length-1;x>=p;x-=2)A=o(h,p,x)<<m,this.words[B]|=A&67108863,m>=18?(m-=18,B+=1,this.words[B]|=A>>>26):m+=8;else{var w=h.length-p;for(x=w%2==0?p+1:p;x<h.length;x+=2)A=o(h,p,x)<<m,this.words[B]|=A&67108863,m>=18?(m-=18,B+=1,this.words[B]|=A>>>26):m+=8}this.strip()};function f(E,h,p,y){for(var x=0,m=Math.min(E.length,p),B=h;B<m;B++){var A=E.charCodeAt(B)-48;x*=y,A>=49?x+=A-49+10:A>=17?x+=A-17+10:x+=A}return x}n.prototype._parseBase=function(h,p,y){this.words=[0],this.length=1;for(var x=0,m=1;m<=67108863;m*=p)x++;x--,m=m/p|0;for(var B=h.length-y,A=B%x,w=Math.min(B,B-A)+y,l=0,S=y;S<w;S+=x)l=f(h,S,S+x,p),this.imuln(m),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(A!==0){var U=1;for(l=f(h,S,h.length,p),S=0;S<A;S++)U*=p;this.imuln(U),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},n.prototype.copy=function(h){h.words=new Array(this.length);for(var p=0;p<this.length;p++)h.words[p]=this.words[p];h.length=this.length,h.negative=this.negative,h.red=this.red},n.prototype.clone=function(){var h=new n(null);return this.copy(h),h},n.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(h,p){h=h||10,p=p|0||1;var y;if(h===16||h==="hex"){y="";for(var x=0,m=0,B=0;B<this.length;B++){var A=this.words[B],w=((A<<x|m)&16777215).toString(16);m=A>>>24-x&16777215,m!==0||B!==this.length-1?y=u[6-w.length]+w+y:y=w+y,x+=2,x>=26&&(x-=26,B--)}for(m!==0&&(y=m.toString(16)+y);y.length%p!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(h===(h|0)&&h>=2&&h<=36){var l=c[h],S=d[h];y="";var U=this.clone();for(U.negative=0;!U.isZero();){var V=U.modn(S).toString(h);U=U.idivn(S),U.isZero()?y=V+y:y=u[l-V.length]+V+y}for(this.isZero()&&(y="0"+y);y.length%p!=0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(h,p){return r(typeof a!="undefined"),this.toArrayLike(a,h,p)},n.prototype.toArray=function(h,p){return this.toArrayLike(Array,h,p)},n.prototype.toArrayLike=function(h,p,y){var x=this.byteLength(),m=y||Math.max(1,x);r(x<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0"),this.strip();var B=p==="le",A=new h(m),w,l,S=this.clone();if(B){for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),A[l]=w;for(;l<m;l++)A[l]=0}else{for(l=0;l<m-x;l++)A[l]=0;for(l=0;!S.isZero();l++)w=S.andln(255),S.iushrn(8),A[m-l-1]=w}return A},Math.clz32?n.prototype._countBits=function(h){return 32-Math.clz32(h)}:n.prototype._countBits=function(h){var p=h,y=0;return p>=4096&&(y+=13,p>>>=13),p>=64&&(y+=7,p>>>=7),p>=8&&(y+=4,p>>>=4),p>=2&&(y+=2,p>>>=2),y+p},n.prototype._zeroBits=function(h){if(h===0)return 26;var p=h,y=0;return(p&8191)==0&&(y+=13,p>>>=13),(p&127)==0&&(y+=7,p>>>=7),(p&15)==0&&(y+=4,p>>>=4),(p&3)==0&&(y+=2,p>>>=2),(p&1)==0&&y++,y},n.prototype.bitLength=function(){var h=this.words[this.length-1],p=this._countBits(h);return(this.length-1)*26+p};function b(E){for(var h=new Array(E.bitLength()),p=0;p<h.length;p++){var y=p/26|0,x=p%26;h[p]=(E.words[y]&1<<x)>>>x}return h}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,p=0;p<this.length;p++){var y=this._zeroBits(this.words[p]);if(h+=y,y!==26)break}return h},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},n.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var p=0;p<h.length;p++)this.words[p]=this.words[p]|h.words[p];return this.strip()},n.prototype.ior=function(h){return r((this.negative|h.negative)==0),this.iuor(h)},n.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},n.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},n.prototype.iuand=function(h){var p;this.length>h.length?p=h:p=this;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=p.length,this.strip()},n.prototype.iand=function(h){return r((this.negative|h.negative)==0),this.iuand(h)},n.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},n.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},n.prototype.iuxor=function(h){var p,y;this.length>h.length?(p=this,y=h):(p=h,y=this);for(var x=0;x<y.length;x++)this.words[x]=p.words[x]^y.words[x];if(this!==p)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=p.length,this.strip()},n.prototype.ixor=function(h){return r((this.negative|h.negative)==0),this.iuxor(h)},n.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},n.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},n.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var p=Math.ceil(h/26)|0,y=h%26;this._expand(p),y>0&&p--;for(var x=0;x<p;x++)this.words[x]=~this.words[x]&67108863;return y>0&&(this.words[x]=~this.words[x]&67108863>>26-y),this.strip()},n.prototype.notn=function(h){return this.clone().inotn(h)},n.prototype.setn=function(h,p){r(typeof h=="number"&&h>=0);var y=h/26|0,x=h%26;return this._expand(y+1),p?this.words[y]=this.words[y]|1<<x:this.words[y]=this.words[y]&~(1<<x),this.strip()},n.prototype.iadd=function(h){var p;if(this.negative!==0&&h.negative===0)return this.negative=0,p=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,p=this.isub(h),h.negative=1,p._normSign();var y,x;this.length>h.length?(y=this,x=h):(y=h,x=this);for(var m=0,B=0;B<x.length;B++)p=(y.words[B]|0)+(x.words[B]|0)+m,this.words[B]=p&67108863,m=p>>>26;for(;m!==0&&B<y.length;B++)p=(y.words[B]|0)+m,this.words[B]=p&67108863,m=p>>>26;if(this.length=y.length,m!==0)this.words[this.length]=m,this.length++;else if(y!==this)for(;B<y.length;B++)this.words[B]=y.words[B];return this},n.prototype.add=function(h){var p;return h.negative!==0&&this.negative===0?(h.negative=0,p=this.sub(h),h.negative^=1,p):h.negative===0&&this.negative!==0?(this.negative=0,p=h.sub(this),this.negative=1,p):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},n.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var p=this.iadd(h);return h.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var y=this.cmp(h);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,m;y>0?(x=this,m=h):(x=h,m=this);for(var B=0,A=0;A<m.length;A++)p=(x.words[A]|0)-(m.words[A]|0)+B,B=p>>26,this.words[A]=p&67108863;for(;B!==0&&A<x.length;A++)p=(x.words[A]|0)+B,B=p>>26,this.words[A]=p&67108863;if(B===0&&A<x.length&&x!==this)for(;A<x.length;A++)this.words[A]=x.words[A];return this.length=Math.max(this.length,A),x!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(h){return this.clone().isub(h)};function g(E,h,p){p.negative=h.negative^E.negative;var y=E.length+h.length|0;p.length=y,y=y-1|0;var x=E.words[0]|0,m=h.words[0]|0,B=x*m,A=B&67108863,w=B/67108864|0;p.words[0]=A;for(var l=1;l<y;l++){for(var S=w>>>26,U=w&67108863,V=Math.min(l,h.length-1),j=Math.max(0,l-E.length+1);j<=V;j++){var W=l-j|0;x=E.words[W]|0,m=h.words[j]|0,B=x*m+U,S+=B/67108864|0,U=B&67108863}p.words[l]=U|0,w=S|0}return w!==0?p.words[l]=w|0:p.length--,p.strip()}var v=function(h,p,y){var x=h.words,m=p.words,B=y.words,A=0,w,l,S,U=x[0]|0,V=U&8191,j=U>>>13,W=x[1]|0,Z=W&8191,X=W>>>13,ke=x[2]|0,ee=ke&8191,ie=ke>>>13,ct=x[3]|0,ae=ct&8191,se=ct>>>13,ht=x[4]|0,oe=ht&8191,fe=ht>>>13,mf=x[5]|0,Ne=mf&8191,Le=mf>>>13,wf=x[6]|0,De=wf&8191,qe=wf>>>13,Sf=x[7]|0,Ke=Sf&8191,Fe=Sf>>>13,Ef=x[8]|0,Oe=Ef&8191,Ue=Ef>>>13,_f=x[9]|0,ze=_f&8191,Ve=_f>>>13,Af=m[0]|0,He=Af&8191,Ge=Af>>>13,Bf=m[1]|0,je=Bf&8191,Ye=Bf>>>13,kf=m[2]|0,We=kf&8191,Je=kf>>>13,If=m[3]|0,$e=If&8191,Ze=If>>>13,Cf=m[4]|0,Qe=Cf&8191,Xe=Cf>>>13,Tf=m[5]|0,et=Tf&8191,tt=Tf>>>13,Mf=m[6]|0,rt=Mf&8191,it=Mf>>>13,Rf=m[7]|0,nt=Rf&8191,at=Rf>>>13,Pf=m[8]|0,st=Pf&8191,ot=Pf>>>13,Nf=m[9]|0,ft=Nf&8191,ut=Nf>>>13;y.negative=h.negative^p.negative,y.length=19,w=Math.imul(V,He),l=Math.imul(V,Ge),l=l+Math.imul(j,He)|0,S=Math.imul(j,Ge);var L0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(L0>>>26)|0,L0&=67108863,w=Math.imul(Z,He),l=Math.imul(Z,Ge),l=l+Math.imul(X,He)|0,S=Math.imul(X,Ge),w=w+Math.imul(V,je)|0,l=l+Math.imul(V,Ye)|0,l=l+Math.imul(j,je)|0,S=S+Math.imul(j,Ye)|0;var D0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(D0>>>26)|0,D0&=67108863,w=Math.imul(ee,He),l=Math.imul(ee,Ge),l=l+Math.imul(ie,He)|0,S=Math.imul(ie,Ge),w=w+Math.imul(Z,je)|0,l=l+Math.imul(Z,Ye)|0,l=l+Math.imul(X,je)|0,S=S+Math.imul(X,Ye)|0,w=w+Math.imul(V,We)|0,l=l+Math.imul(V,Je)|0,l=l+Math.imul(j,We)|0,S=S+Math.imul(j,Je)|0;var q0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(q0>>>26)|0,q0&=67108863,w=Math.imul(ae,He),l=Math.imul(ae,Ge),l=l+Math.imul(se,He)|0,S=Math.imul(se,Ge),w=w+Math.imul(ee,je)|0,l=l+Math.imul(ee,Ye)|0,l=l+Math.imul(ie,je)|0,S=S+Math.imul(ie,Ye)|0,w=w+Math.imul(Z,We)|0,l=l+Math.imul(Z,Je)|0,l=l+Math.imul(X,We)|0,S=S+Math.imul(X,Je)|0,w=w+Math.imul(V,$e)|0,l=l+Math.imul(V,Ze)|0,l=l+Math.imul(j,$e)|0,S=S+Math.imul(j,Ze)|0;var K0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(K0>>>26)|0,K0&=67108863,w=Math.imul(oe,He),l=Math.imul(oe,Ge),l=l+Math.imul(fe,He)|0,S=Math.imul(fe,Ge),w=w+Math.imul(ae,je)|0,l=l+Math.imul(ae,Ye)|0,l=l+Math.imul(se,je)|0,S=S+Math.imul(se,Ye)|0,w=w+Math.imul(ee,We)|0,l=l+Math.imul(ee,Je)|0,l=l+Math.imul(ie,We)|0,S=S+Math.imul(ie,Je)|0,w=w+Math.imul(Z,$e)|0,l=l+Math.imul(Z,Ze)|0,l=l+Math.imul(X,$e)|0,S=S+Math.imul(X,Ze)|0,w=w+Math.imul(V,Qe)|0,l=l+Math.imul(V,Xe)|0,l=l+Math.imul(j,Qe)|0,S=S+Math.imul(j,Xe)|0;var F0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(F0>>>26)|0,F0&=67108863,w=Math.imul(Ne,He),l=Math.imul(Ne,Ge),l=l+Math.imul(Le,He)|0,S=Math.imul(Le,Ge),w=w+Math.imul(oe,je)|0,l=l+Math.imul(oe,Ye)|0,l=l+Math.imul(fe,je)|0,S=S+Math.imul(fe,Ye)|0,w=w+Math.imul(ae,We)|0,l=l+Math.imul(ae,Je)|0,l=l+Math.imul(se,We)|0,S=S+Math.imul(se,Je)|0,w=w+Math.imul(ee,$e)|0,l=l+Math.imul(ee,Ze)|0,l=l+Math.imul(ie,$e)|0,S=S+Math.imul(ie,Ze)|0,w=w+Math.imul(Z,Qe)|0,l=l+Math.imul(Z,Xe)|0,l=l+Math.imul(X,Qe)|0,S=S+Math.imul(X,Xe)|0,w=w+Math.imul(V,et)|0,l=l+Math.imul(V,tt)|0,l=l+Math.imul(j,et)|0,S=S+Math.imul(j,tt)|0;var O0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(O0>>>26)|0,O0&=67108863,w=Math.imul(De,He),l=Math.imul(De,Ge),l=l+Math.imul(qe,He)|0,S=Math.imul(qe,Ge),w=w+Math.imul(Ne,je)|0,l=l+Math.imul(Ne,Ye)|0,l=l+Math.imul(Le,je)|0,S=S+Math.imul(Le,Ye)|0,w=w+Math.imul(oe,We)|0,l=l+Math.imul(oe,Je)|0,l=l+Math.imul(fe,We)|0,S=S+Math.imul(fe,Je)|0,w=w+Math.imul(ae,$e)|0,l=l+Math.imul(ae,Ze)|0,l=l+Math.imul(se,$e)|0,S=S+Math.imul(se,Ze)|0,w=w+Math.imul(ee,Qe)|0,l=l+Math.imul(ee,Xe)|0,l=l+Math.imul(ie,Qe)|0,S=S+Math.imul(ie,Xe)|0,w=w+Math.imul(Z,et)|0,l=l+Math.imul(Z,tt)|0,l=l+Math.imul(X,et)|0,S=S+Math.imul(X,tt)|0,w=w+Math.imul(V,rt)|0,l=l+Math.imul(V,it)|0,l=l+Math.imul(j,rt)|0,S=S+Math.imul(j,it)|0;var U0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(U0>>>26)|0,U0&=67108863,w=Math.imul(Ke,He),l=Math.imul(Ke,Ge),l=l+Math.imul(Fe,He)|0,S=Math.imul(Fe,Ge),w=w+Math.imul(De,je)|0,l=l+Math.imul(De,Ye)|0,l=l+Math.imul(qe,je)|0,S=S+Math.imul(qe,Ye)|0,w=w+Math.imul(Ne,We)|0,l=l+Math.imul(Ne,Je)|0,l=l+Math.imul(Le,We)|0,S=S+Math.imul(Le,Je)|0,w=w+Math.imul(oe,$e)|0,l=l+Math.imul(oe,Ze)|0,l=l+Math.imul(fe,$e)|0,S=S+Math.imul(fe,Ze)|0,w=w+Math.imul(ae,Qe)|0,l=l+Math.imul(ae,Xe)|0,l=l+Math.imul(se,Qe)|0,S=S+Math.imul(se,Xe)|0,w=w+Math.imul(ee,et)|0,l=l+Math.imul(ee,tt)|0,l=l+Math.imul(ie,et)|0,S=S+Math.imul(ie,tt)|0,w=w+Math.imul(Z,rt)|0,l=l+Math.imul(Z,it)|0,l=l+Math.imul(X,rt)|0,S=S+Math.imul(X,it)|0,w=w+Math.imul(V,nt)|0,l=l+Math.imul(V,at)|0,l=l+Math.imul(j,nt)|0,S=S+Math.imul(j,at)|0;var z0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(z0>>>26)|0,z0&=67108863,w=Math.imul(Oe,He),l=Math.imul(Oe,Ge),l=l+Math.imul(Ue,He)|0,S=Math.imul(Ue,Ge),w=w+Math.imul(Ke,je)|0,l=l+Math.imul(Ke,Ye)|0,l=l+Math.imul(Fe,je)|0,S=S+Math.imul(Fe,Ye)|0,w=w+Math.imul(De,We)|0,l=l+Math.imul(De,Je)|0,l=l+Math.imul(qe,We)|0,S=S+Math.imul(qe,Je)|0,w=w+Math.imul(Ne,$e)|0,l=l+Math.imul(Ne,Ze)|0,l=l+Math.imul(Le,$e)|0,S=S+Math.imul(Le,Ze)|0,w=w+Math.imul(oe,Qe)|0,l=l+Math.imul(oe,Xe)|0,l=l+Math.imul(fe,Qe)|0,S=S+Math.imul(fe,Xe)|0,w=w+Math.imul(ae,et)|0,l=l+Math.imul(ae,tt)|0,l=l+Math.imul(se,et)|0,S=S+Math.imul(se,tt)|0,w=w+Math.imul(ee,rt)|0,l=l+Math.imul(ee,it)|0,l=l+Math.imul(ie,rt)|0,S=S+Math.imul(ie,it)|0,w=w+Math.imul(Z,nt)|0,l=l+Math.imul(Z,at)|0,l=l+Math.imul(X,nt)|0,S=S+Math.imul(X,at)|0,w=w+Math.imul(V,st)|0,l=l+Math.imul(V,ot)|0,l=l+Math.imul(j,st)|0,S=S+Math.imul(j,ot)|0;var V0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(V0>>>26)|0,V0&=67108863,w=Math.imul(ze,He),l=Math.imul(ze,Ge),l=l+Math.imul(Ve,He)|0,S=Math.imul(Ve,Ge),w=w+Math.imul(Oe,je)|0,l=l+Math.imul(Oe,Ye)|0,l=l+Math.imul(Ue,je)|0,S=S+Math.imul(Ue,Ye)|0,w=w+Math.imul(Ke,We)|0,l=l+Math.imul(Ke,Je)|0,l=l+Math.imul(Fe,We)|0,S=S+Math.imul(Fe,Je)|0,w=w+Math.imul(De,$e)|0,l=l+Math.imul(De,Ze)|0,l=l+Math.imul(qe,$e)|0,S=S+Math.imul(qe,Ze)|0,w=w+Math.imul(Ne,Qe)|0,l=l+Math.imul(Ne,Xe)|0,l=l+Math.imul(Le,Qe)|0,S=S+Math.imul(Le,Xe)|0,w=w+Math.imul(oe,et)|0,l=l+Math.imul(oe,tt)|0,l=l+Math.imul(fe,et)|0,S=S+Math.imul(fe,tt)|0,w=w+Math.imul(ae,rt)|0,l=l+Math.imul(ae,it)|0,l=l+Math.imul(se,rt)|0,S=S+Math.imul(se,it)|0,w=w+Math.imul(ee,nt)|0,l=l+Math.imul(ee,at)|0,l=l+Math.imul(ie,nt)|0,S=S+Math.imul(ie,at)|0,w=w+Math.imul(Z,st)|0,l=l+Math.imul(Z,ot)|0,l=l+Math.imul(X,st)|0,S=S+Math.imul(X,ot)|0,w=w+Math.imul(V,ft)|0,l=l+Math.imul(V,ut)|0,l=l+Math.imul(j,ft)|0,S=S+Math.imul(j,ut)|0;var H0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(H0>>>26)|0,H0&=67108863,w=Math.imul(ze,je),l=Math.imul(ze,Ye),l=l+Math.imul(Ve,je)|0,S=Math.imul(Ve,Ye),w=w+Math.imul(Oe,We)|0,l=l+Math.imul(Oe,Je)|0,l=l+Math.imul(Ue,We)|0,S=S+Math.imul(Ue,Je)|0,w=w+Math.imul(Ke,$e)|0,l=l+Math.imul(Ke,Ze)|0,l=l+Math.imul(Fe,$e)|0,S=S+Math.imul(Fe,Ze)|0,w=w+Math.imul(De,Qe)|0,l=l+Math.imul(De,Xe)|0,l=l+Math.imul(qe,Qe)|0,S=S+Math.imul(qe,Xe)|0,w=w+Math.imul(Ne,et)|0,l=l+Math.imul(Ne,tt)|0,l=l+Math.imul(Le,et)|0,S=S+Math.imul(Le,tt)|0,w=w+Math.imul(oe,rt)|0,l=l+Math.imul(oe,it)|0,l=l+Math.imul(fe,rt)|0,S=S+Math.imul(fe,it)|0,w=w+Math.imul(ae,nt)|0,l=l+Math.imul(ae,at)|0,l=l+Math.imul(se,nt)|0,S=S+Math.imul(se,at)|0,w=w+Math.imul(ee,st)|0,l=l+Math.imul(ee,ot)|0,l=l+Math.imul(ie,st)|0,S=S+Math.imul(ie,ot)|0,w=w+Math.imul(Z,ft)|0,l=l+Math.imul(Z,ut)|0,l=l+Math.imul(X,ft)|0,S=S+Math.imul(X,ut)|0;var G0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(G0>>>26)|0,G0&=67108863,w=Math.imul(ze,We),l=Math.imul(ze,Je),l=l+Math.imul(Ve,We)|0,S=Math.imul(Ve,Je),w=w+Math.imul(Oe,$e)|0,l=l+Math.imul(Oe,Ze)|0,l=l+Math.imul(Ue,$e)|0,S=S+Math.imul(Ue,Ze)|0,w=w+Math.imul(Ke,Qe)|0,l=l+Math.imul(Ke,Xe)|0,l=l+Math.imul(Fe,Qe)|0,S=S+Math.imul(Fe,Xe)|0,w=w+Math.imul(De,et)|0,l=l+Math.imul(De,tt)|0,l=l+Math.imul(qe,et)|0,S=S+Math.imul(qe,tt)|0,w=w+Math.imul(Ne,rt)|0,l=l+Math.imul(Ne,it)|0,l=l+Math.imul(Le,rt)|0,S=S+Math.imul(Le,it)|0,w=w+Math.imul(oe,nt)|0,l=l+Math.imul(oe,at)|0,l=l+Math.imul(fe,nt)|0,S=S+Math.imul(fe,at)|0,w=w+Math.imul(ae,st)|0,l=l+Math.imul(ae,ot)|0,l=l+Math.imul(se,st)|0,S=S+Math.imul(se,ot)|0,w=w+Math.imul(ee,ft)|0,l=l+Math.imul(ee,ut)|0,l=l+Math.imul(ie,ft)|0,S=S+Math.imul(ie,ut)|0;var j0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(j0>>>26)|0,j0&=67108863,w=Math.imul(ze,$e),l=Math.imul(ze,Ze),l=l+Math.imul(Ve,$e)|0,S=Math.imul(Ve,Ze),w=w+Math.imul(Oe,Qe)|0,l=l+Math.imul(Oe,Xe)|0,l=l+Math.imul(Ue,Qe)|0,S=S+Math.imul(Ue,Xe)|0,w=w+Math.imul(Ke,et)|0,l=l+Math.imul(Ke,tt)|0,l=l+Math.imul(Fe,et)|0,S=S+Math.imul(Fe,tt)|0,w=w+Math.imul(De,rt)|0,l=l+Math.imul(De,it)|0,l=l+Math.imul(qe,rt)|0,S=S+Math.imul(qe,it)|0,w=w+Math.imul(Ne,nt)|0,l=l+Math.imul(Ne,at)|0,l=l+Math.imul(Le,nt)|0,S=S+Math.imul(Le,at)|0,w=w+Math.imul(oe,st)|0,l=l+Math.imul(oe,ot)|0,l=l+Math.imul(fe,st)|0,S=S+Math.imul(fe,ot)|0,w=w+Math.imul(ae,ft)|0,l=l+Math.imul(ae,ut)|0,l=l+Math.imul(se,ft)|0,S=S+Math.imul(se,ut)|0;var Y0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(Y0>>>26)|0,Y0&=67108863,w=Math.imul(ze,Qe),l=Math.imul(ze,Xe),l=l+Math.imul(Ve,Qe)|0,S=Math.imul(Ve,Xe),w=w+Math.imul(Oe,et)|0,l=l+Math.imul(Oe,tt)|0,l=l+Math.imul(Ue,et)|0,S=S+Math.imul(Ue,tt)|0,w=w+Math.imul(Ke,rt)|0,l=l+Math.imul(Ke,it)|0,l=l+Math.imul(Fe,rt)|0,S=S+Math.imul(Fe,it)|0,w=w+Math.imul(De,nt)|0,l=l+Math.imul(De,at)|0,l=l+Math.imul(qe,nt)|0,S=S+Math.imul(qe,at)|0,w=w+Math.imul(Ne,st)|0,l=l+Math.imul(Ne,ot)|0,l=l+Math.imul(Le,st)|0,S=S+Math.imul(Le,ot)|0,w=w+Math.imul(oe,ft)|0,l=l+Math.imul(oe,ut)|0,l=l+Math.imul(fe,ft)|0,S=S+Math.imul(fe,ut)|0;var W0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(W0>>>26)|0,W0&=67108863,w=Math.imul(ze,et),l=Math.imul(ze,tt),l=l+Math.imul(Ve,et)|0,S=Math.imul(Ve,tt),w=w+Math.imul(Oe,rt)|0,l=l+Math.imul(Oe,it)|0,l=l+Math.imul(Ue,rt)|0,S=S+Math.imul(Ue,it)|0,w=w+Math.imul(Ke,nt)|0,l=l+Math.imul(Ke,at)|0,l=l+Math.imul(Fe,nt)|0,S=S+Math.imul(Fe,at)|0,w=w+Math.imul(De,st)|0,l=l+Math.imul(De,ot)|0,l=l+Math.imul(qe,st)|0,S=S+Math.imul(qe,ot)|0,w=w+Math.imul(Ne,ft)|0,l=l+Math.imul(Ne,ut)|0,l=l+Math.imul(Le,ft)|0,S=S+Math.imul(Le,ut)|0;var J0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(J0>>>26)|0,J0&=67108863,w=Math.imul(ze,rt),l=Math.imul(ze,it),l=l+Math.imul(Ve,rt)|0,S=Math.imul(Ve,it),w=w+Math.imul(Oe,nt)|0,l=l+Math.imul(Oe,at)|0,l=l+Math.imul(Ue,nt)|0,S=S+Math.imul(Ue,at)|0,w=w+Math.imul(Ke,st)|0,l=l+Math.imul(Ke,ot)|0,l=l+Math.imul(Fe,st)|0,S=S+Math.imul(Fe,ot)|0,w=w+Math.imul(De,ft)|0,l=l+Math.imul(De,ut)|0,l=l+Math.imul(qe,ft)|0,S=S+Math.imul(qe,ut)|0;var $0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+($0>>>26)|0,$0&=67108863,w=Math.imul(ze,nt),l=Math.imul(ze,at),l=l+Math.imul(Ve,nt)|0,S=Math.imul(Ve,at),w=w+Math.imul(Oe,st)|0,l=l+Math.imul(Oe,ot)|0,l=l+Math.imul(Ue,st)|0,S=S+Math.imul(Ue,ot)|0,w=w+Math.imul(Ke,ft)|0,l=l+Math.imul(Ke,ut)|0,l=l+Math.imul(Fe,ft)|0,S=S+Math.imul(Fe,ut)|0;var Z0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(Z0>>>26)|0,Z0&=67108863,w=Math.imul(ze,st),l=Math.imul(ze,ot),l=l+Math.imul(Ve,st)|0,S=Math.imul(Ve,ot),w=w+Math.imul(Oe,ft)|0,l=l+Math.imul(Oe,ut)|0,l=l+Math.imul(Ue,ft)|0,S=S+Math.imul(Ue,ut)|0;var Q0=(A+w|0)+((l&8191)<<13)|0;A=(S+(l>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,w=Math.imul(ze,ft),l=Math.imul(ze,ut),l=l+Math.imul(Ve,ft)|0,S=Math.imul(Ve,ut);var X0=(A+w|0)+((l&8191)<<13)|0;return A=(S+(l>>>13)|0)+(X0>>>26)|0,X0&=67108863,B[0]=L0,B[1]=D0,B[2]=q0,B[3]=K0,B[4]=F0,B[5]=O0,B[6]=U0,B[7]=z0,B[8]=V0,B[9]=H0,B[10]=G0,B[11]=j0,B[12]=Y0,B[13]=W0,B[14]=J0,B[15]=$0,B[16]=Z0,B[17]=Q0,B[18]=X0,A!==0&&(B[19]=A,y.length++),y};Math.imul||(v=g);function _(E,h,p){p.negative=h.negative^E.negative,p.length=E.length+h.length;for(var y=0,x=0,m=0;m<p.length-1;m++){var B=x;x=0;for(var A=y&67108863,w=Math.min(m,h.length-1),l=Math.max(0,m-E.length+1);l<=w;l++){var S=m-l,U=E.words[S]|0,V=h.words[l]|0,j=U*V,W=j&67108863;B=B+(j/67108864|0)|0,W=W+A|0,A=W&67108863,B=B+(W>>>26)|0,x+=B>>>26,B&=67108863}p.words[m]=A,y=B,B=x}return y!==0?p.words[m]=y:p.length--,p.strip()}function I(E,h,p){var y=new C;return y.mulp(E,h,p)}n.prototype.mulTo=function(h,p){var y,x=this.length+h.length;return this.length===10&&h.length===10?y=v(this,h,p):x<63?y=g(this,h,p):x<1024?y=_(this,h,p):y=I(this,h,p),y};function C(E,h){this.x=E,this.y=h}C.prototype.makeRBT=function(h){for(var p=new Array(h),y=n.prototype._countBits(h)-1,x=0;x<h;x++)p[x]=this.revBin(x,y,h);return p},C.prototype.revBin=function(h,p,y){if(h===0||h===y-1)return h;for(var x=0,m=0;m<p;m++)x|=(h&1)<<p-m-1,h>>=1;return x},C.prototype.permute=function(h,p,y,x,m,B){for(var A=0;A<B;A++)x[A]=p[h[A]],m[A]=y[h[A]]},C.prototype.transform=function(h,p,y,x,m,B){this.permute(B,h,p,y,x,m);for(var A=1;A<m;A<<=1)for(var w=A<<1,l=Math.cos(2*Math.PI/w),S=Math.sin(2*Math.PI/w),U=0;U<m;U+=w)for(var V=l,j=S,W=0;W<A;W++){var Z=y[U+W],X=x[U+W],ke=y[U+W+A],ee=x[U+W+A],ie=V*ke-j*ee;ee=V*ee+j*ke,ke=ie,y[U+W]=Z+ke,x[U+W]=X+ee,y[U+W+A]=Z-ke,x[U+W+A]=X-ee,W!==w&&(ie=l*V-S*j,j=l*j+S*V,V=ie)}},C.prototype.guessLen13b=function(h,p){var y=Math.max(p,h)|1,x=y&1,m=0;for(y=y/2|0;y;y=y>>>1)m++;return 1<<m+1+x},C.prototype.conjugate=function(h,p,y){if(!(y<=1))for(var x=0;x<y/2;x++){var m=h[x];h[x]=h[y-x-1],h[y-x-1]=m,m=p[x],p[x]=-p[y-x-1],p[y-x-1]=-m}},C.prototype.normalize13b=function(h,p){for(var y=0,x=0;x<p/2;x++){var m=Math.round(h[2*x+1]/p)*8192+Math.round(h[2*x]/p)+y;h[x]=m&67108863,m<67108864?y=0:y=m/67108864|0}return h},C.prototype.convert13b=function(h,p,y,x){for(var m=0,B=0;B<p;B++)m=m+(h[B]|0),y[2*B]=m&8191,m=m>>>13,y[2*B+1]=m&8191,m=m>>>13;for(B=2*p;B<x;++B)y[B]=0;r(m===0),r((m&~8191)==0)},C.prototype.stub=function(h){for(var p=new Array(h),y=0;y<h;y++)p[y]=0;return p},C.prototype.mulp=function(h,p,y){var x=2*this.guessLen13b(h.length,p.length),m=this.makeRBT(x),B=this.stub(x),A=new Array(x),w=new Array(x),l=new Array(x),S=new Array(x),U=new Array(x),V=new Array(x),j=y.words;j.length=x,this.convert13b(h.words,h.length,A,x),this.convert13b(p.words,p.length,S,x),this.transform(A,B,w,l,x,m),this.transform(S,B,U,V,x,m);for(var W=0;W<x;W++){var Z=w[W]*U[W]-l[W]*V[W];l[W]=w[W]*V[W]+l[W]*U[W],w[W]=Z}return this.conjugate(w,l,x),this.transform(w,l,j,B,x,m),this.conjugate(j,B,x),this.normalize13b(j,x),y.negative=h.negative^p.negative,y.length=h.length+p.length,y.strip()},n.prototype.mul=function(h){var p=new n(null);return p.words=new Array(this.length+h.length),this.mulTo(h,p)},n.prototype.mulf=function(h){var p=new n(null);return p.words=new Array(this.length+h.length),I(this,h,p)},n.prototype.imul=function(h){return this.clone().mulTo(h,this)},n.prototype.imuln=function(h){r(typeof h=="number"),r(h<67108864);for(var p=0,y=0;y<this.length;y++){var x=(this.words[y]|0)*h,m=(x&67108863)+(p&67108863);p>>=26,p+=x/67108864|0,p+=m>>>26,this.words[y]=m&67108863}return p!==0&&(this.words[y]=p,this.length++),this},n.prototype.muln=function(h){return this.clone().imuln(h)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(h){var p=b(h);if(p.length===0)return new n(1);for(var y=this,x=0;x<p.length&&p[x]===0;x++,y=y.sqr());if(++x<p.length)for(var m=y.sqr();x<p.length;x++,m=m.sqr())p[x]!==0&&(y=y.mul(m));return y},n.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,x=67108863>>>26-p<<26-p,m;if(p!==0){var B=0;for(m=0;m<this.length;m++){var A=this.words[m]&x,w=(this.words[m]|0)-A<<p;this.words[m]=w|B,B=A>>>26-p}B&&(this.words[m]=B,this.length++)}if(y!==0){for(m=this.length-1;m>=0;m--)this.words[m+y]=this.words[m];for(m=0;m<y;m++)this.words[m]=0;this.length+=y}return this.strip()},n.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},n.prototype.iushrn=function(h,p,y){r(typeof h=="number"&&h>=0);var x;p?x=(p-p%26)/26:x=0;var m=h%26,B=Math.min((h-m)/26,this.length),A=67108863^67108863>>>m<<m,w=y;if(x-=B,x=Math.max(0,x),w){for(var l=0;l<B;l++)w.words[l]=this.words[l];w.length=B}if(B!==0)if(this.length>B)for(this.length-=B,l=0;l<this.length;l++)this.words[l]=this.words[l+B];else this.words[0]=0,this.length=1;var S=0;for(l=this.length-1;l>=0&&(S!==0||l>=x);l--){var U=this.words[l]|0;this.words[l]=S<<26-m|U>>>m,S=U&A}return w&&S!==0&&(w.words[w.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(h,p,y){return r(this.negative===0),this.iushrn(h,p,y)},n.prototype.shln=function(h){return this.clone().ishln(h)},n.prototype.ushln=function(h){return this.clone().iushln(h)},n.prototype.shrn=function(h){return this.clone().ishrn(h)},n.prototype.ushrn=function(h){return this.clone().iushrn(h)},n.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26,x=1<<p;if(this.length<=y)return!1;var m=this.words[y];return!!(m&x)},n.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var p=h%26,y=(h-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(p!==0&&y++,this.length=Math.min(y,this.length),p!==0){var x=67108863^67108863>>>p<<p;this.words[this.length-1]&=x}return this.strip()},n.prototype.maskn=function(h){return this.clone().imaskn(h)},n.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},n.prototype._iaddn=function(h){this.words[0]+=h;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},n.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},n.prototype.addn=function(h){return this.clone().iaddn(h)},n.prototype.subn=function(h){return this.clone().isubn(h)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(h,p,y){var x=h.length+y,m;this._expand(x);var B,A=0;for(m=0;m<h.length;m++){B=(this.words[m+y]|0)+A;var w=(h.words[m]|0)*p;B-=w&67108863,A=(B>>26)-(w/67108864|0),this.words[m+y]=B&67108863}for(;m<this.length-y;m++)B=(this.words[m+y]|0)+A,A=B>>26,this.words[m+y]=B&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,m=0;m<this.length;m++)B=-(this.words[m]|0)+A,A=B>>26,this.words[m]=B&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(h,p){var y=this.length-h.length,x=this.clone(),m=h,B=m.words[m.length-1]|0,A=this._countBits(B);y=26-A,y!==0&&(m=m.ushln(y),x.iushln(y),B=m.words[m.length-1]|0);var w=x.length-m.length,l;if(p!=="mod"){l=new n(null),l.length=w+1,l.words=new Array(l.length);for(var S=0;S<l.length;S++)l.words[S]=0}var U=x.clone()._ishlnsubmul(m,1,w);U.negative===0&&(x=U,l&&(l.words[w]=1));for(var V=w-1;V>=0;V--){var j=(x.words[m.length+V]|0)*67108864+(x.words[m.length+V-1]|0);for(j=Math.min(j/B|0,67108863),x._ishlnsubmul(m,j,V);x.negative!==0;)j--,x.negative=0,x._ishlnsubmul(m,1,V),x.isZero()||(x.negative^=1);l&&(l.words[V]=j)}return l&&l.strip(),x.strip(),p!=="div"&&y!==0&&x.iushrn(y),{div:l||null,mod:x}},n.prototype.divmod=function(h,p,y){if(r(!h.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var x,m,B;return this.negative!==0&&h.negative===0?(B=this.neg().divmod(h,p),p!=="mod"&&(x=B.div.neg()),p!=="div"&&(m=B.mod.neg(),y&&m.negative!==0&&m.iadd(h)),{div:x,mod:m}):this.negative===0&&h.negative!==0?(B=this.divmod(h.neg(),p),p!=="mod"&&(x=B.div.neg()),{div:x,mod:B.mod}):(this.negative&h.negative)!=0?(B=this.neg().divmod(h.neg(),p),p!=="div"&&(m=B.mod.neg(),y&&m.negative!==0&&m.isub(h)),{div:B.div,mod:m}):h.length>this.length||this.cmp(h)<0?{div:new n(0),mod:this}:h.length===1?p==="div"?{div:this.divn(h.words[0]),mod:null}:p==="mod"?{div:null,mod:new n(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new n(this.modn(h.words[0]))}:this._wordDiv(h,p)},n.prototype.div=function(h){return this.divmod(h,"div",!1).div},n.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},n.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},n.prototype.divRound=function(h){var p=this.divmod(h);if(p.mod.isZero())return p.div;var y=p.div.negative!==0?p.mod.isub(h):p.mod,x=h.ushrn(1),m=h.andln(1),B=y.cmp(x);return B<0||m===1&&B===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},n.prototype.modn=function(h){r(h<=67108863);for(var p=(1<<26)%h,y=0,x=this.length-1;x>=0;x--)y=(p*y+(this.words[x]|0))%h;return y},n.prototype.idivn=function(h){r(h<=67108863);for(var p=0,y=this.length-1;y>=0;y--){var x=(this.words[y]|0)+p*67108864;this.words[y]=x/h|0,p=x%h}return this.strip()},n.prototype.divn=function(h){return this.clone().idivn(h)},n.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var x=new n(1),m=new n(0),B=new n(0),A=new n(1),w=0;p.isEven()&&y.isEven();)p.iushrn(1),y.iushrn(1),++w;for(var l=y.clone(),S=p.clone();!p.isZero();){for(var U=0,V=1;(p.words[0]&V)==0&&U<26;++U,V<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(x.isOdd()||m.isOdd())&&(x.iadd(l),m.isub(S)),x.iushrn(1),m.iushrn(1);for(var j=0,W=1;(y.words[0]&W)==0&&j<26;++j,W<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(B.isOdd()||A.isOdd())&&(B.iadd(l),A.isub(S)),B.iushrn(1),A.iushrn(1);p.cmp(y)>=0?(p.isub(y),x.isub(B),m.isub(A)):(y.isub(p),B.isub(x),A.isub(m))}return{a:B,b:A,gcd:y.iushln(w)}},n.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var p=this,y=h.clone();p.negative!==0?p=p.umod(h):p=p.clone();for(var x=new n(1),m=new n(0),B=y.clone();p.cmpn(1)>0&&y.cmpn(1)>0;){for(var A=0,w=1;(p.words[0]&w)==0&&A<26;++A,w<<=1);if(A>0)for(p.iushrn(A);A-- >0;)x.isOdd()&&x.iadd(B),x.iushrn(1);for(var l=0,S=1;(y.words[0]&S)==0&&l<26;++l,S<<=1);if(l>0)for(y.iushrn(l);l-- >0;)m.isOdd()&&m.iadd(B),m.iushrn(1);p.cmp(y)>=0?(p.isub(y),x.isub(m)):(y.isub(p),m.isub(x))}var U;return p.cmpn(1)===0?U=x:U=m,U.cmpn(0)<0&&U.iadd(h),U},n.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var p=this.clone(),y=h.clone();p.negative=0,y.negative=0;for(var x=0;p.isEven()&&y.isEven();x++)p.iushrn(1),y.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;y.isEven();)y.iushrn(1);var m=p.cmp(y);if(m<0){var B=p;p=y,y=B}else if(m===0||y.cmpn(1)===0)break;p.isub(y)}while(!0);return y.iushln(x)},n.prototype.invm=function(h){return this.egcd(h).a.umod(h)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(h){return this.words[0]&h},n.prototype.bincn=function(h){r(typeof h=="number");var p=h%26,y=(h-p)/26,x=1<<p;if(this.length<=y)return this._expand(y+1),this.words[y]|=x,this;for(var m=x,B=y;m!==0&&B<this.length;B++){var A=this.words[B]|0;A+=m,m=A>>>26,A&=67108863,this.words[B]=A}return m!==0&&(this.words[B]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(h){var p=h<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var y;if(this.length>1)y=1;else{p&&(h=-h),r(h<=67108863,"Number is too big");var x=this.words[0]|0;y=x===h?0:x<h?-1:1}return this.negative!==0?-y|0:y},n.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var p=this.ucmp(h);return this.negative!==0?-p|0:p},n.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var p=0,y=this.length-1;y>=0;y--){var x=this.words[y]|0,m=h.words[y]|0;if(x!==m){x<m?p=-1:x>m&&(p=1);break}}return p},n.prototype.gtn=function(h){return this.cmpn(h)===1},n.prototype.gt=function(h){return this.cmp(h)===1},n.prototype.gten=function(h){return this.cmpn(h)>=0},n.prototype.gte=function(h){return this.cmp(h)>=0},n.prototype.ltn=function(h){return this.cmpn(h)===-1},n.prototype.lt=function(h){return this.cmp(h)===-1},n.prototype.lten=function(h){return this.cmpn(h)<=0},n.prototype.lte=function(h){return this.cmp(h)<=0},n.prototype.eqn=function(h){return this.cmpn(h)===0},n.prototype.eq=function(h){return this.cmp(h)===0},n.red=function(h){return new z(h)},n.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(h){return this.red=h,this},n.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},n.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},n.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},n.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},n.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},n.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},n.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},n.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var R={k256:null,p224:null,p192:null,p25519:null};function P(E,h){this.name=E,this.p=new n(h,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var h=new n(null);return h.words=new Array(Math.ceil(this.n/13)),h},P.prototype.ireduce=function(h){var p=h,y;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),y=p.bitLength();while(y>this.n);var x=y<this.n?-1:p.ucmp(this.p);return x===0?(p.words[0]=0,p.length=1):x>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},P.prototype.split=function(h,p){h.iushrn(this.n,0,p)},P.prototype.imulK=function(h){return h.imul(this.k)};function O(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(O,P),O.prototype.split=function(h,p){for(var y=4194303,x=Math.min(h.length,9),m=0;m<x;m++)p.words[m]=h.words[m];if(p.length=x,h.length<=9){h.words[0]=0,h.length=1;return}var B=h.words[9];for(p.words[p.length++]=B&y,m=10;m<h.length;m++){var A=h.words[m]|0;h.words[m-10]=(A&y)<<4|B>>>22,B=A}B>>>=22,h.words[m-10]=B,B===0&&h.length>10?h.length-=10:h.length-=9},O.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var p=0,y=0;y<h.length;y++){var x=h.words[y]|0;p+=x*977,h.words[y]=p&67108863,p=x*64+(p/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function q(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,P);function D(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,P),G.prototype.imulK=function(h){for(var p=0,y=0;y<h.length;y++){var x=(h.words[y]|0)*19+p,m=x&67108863;x>>>=26,h.words[y]=m,p=x}return p!==0&&(h.words[h.length++]=p),h},n._prime=function(h){if(R[h])return R[h];var p;if(h==="k256")p=new O;else if(h==="p224")p=new q;else if(h==="p192")p=new D;else if(h==="p25519")p=new G;else throw new Error("Unknown prime "+h);return R[h]=p,p};function z(E){if(typeof E=="string"){var h=n._prime(E);this.m=h.p,this.prime=h}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}z.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},z.prototype._verify2=function(h,p){r((h.negative|p.negative)==0,"red works only with positives"),r(h.red&&h.red===p.red,"red works only with red numbers")},z.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},z.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},z.prototype.add=function(h,p){this._verify2(h,p);var y=h.add(p);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},z.prototype.iadd=function(h,p){this._verify2(h,p);var y=h.iadd(p);return y.cmp(this.m)>=0&&y.isub(this.m),y},z.prototype.sub=function(h,p){this._verify2(h,p);var y=h.sub(p);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},z.prototype.isub=function(h,p){this._verify2(h,p);var y=h.isub(p);return y.cmpn(0)<0&&y.iadd(this.m),y},z.prototype.shl=function(h,p){return this._verify1(h),this.imod(h.ushln(p))},z.prototype.imul=function(h,p){return this._verify2(h,p),this.imod(h.imul(p))},z.prototype.mul=function(h,p){return this._verify2(h,p),this.imod(h.mul(p))},z.prototype.isqr=function(h){return this.imul(h,h.clone())},z.prototype.sqr=function(h){return this.mul(h,h)},z.prototype.sqrt=function(h){if(h.isZero())return h.clone();var p=this.m.andln(3);if(r(p%2==1),p===3){var y=this.m.add(new n(1)).iushrn(2);return this.pow(h,y)}for(var x=this.m.subn(1),m=0;!x.isZero()&&x.andln(1)===0;)m++,x.iushrn(1);r(!x.isZero());var B=new n(1).toRed(this),A=B.redNeg(),w=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);this.pow(l,w).cmp(A)!==0;)l.redIAdd(A);for(var S=this.pow(l,x),U=this.pow(h,x.addn(1).iushrn(1)),V=this.pow(h,x),j=m;V.cmp(B)!==0;){for(var W=V,Z=0;W.cmp(B)!==0;Z++)W=W.redSqr();r(Z<j);var X=this.pow(S,new n(1).iushln(j-Z-1));U=U.redMul(X),S=X.redSqr(),V=V.redMul(S),j=Z}return U},z.prototype.invm=function(h){var p=h._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},z.prototype.pow=function(h,p){if(p.isZero())return new n(1).toRed(this);if(p.cmpn(1)===0)return h.clone();var y=4,x=new Array(1<<y);x[0]=new n(1).toRed(this),x[1]=h;for(var m=2;m<x.length;m++)x[m]=this.mul(x[m-1],h);var B=x[0],A=0,w=0,l=p.bitLength()%26;for(l===0&&(l=26),m=p.length-1;m>=0;m--){for(var S=p.words[m],U=l-1;U>=0;U--){var V=S>>U&1;if(B!==x[0]&&(B=this.sqr(B)),V===0&&A===0){w=0;continue}A<<=1,A|=V,w++,!(w!==y&&(m!==0||U!==0))&&(B=this.mul(B,x[A]),w=0,A=0)}l=26}return B},z.prototype.convertTo=function(h){var p=h.umod(this.m);return p===h?p.clone():p},z.prototype.convertFrom=function(h){var p=h.clone();return p.red=null,p},n.mont=function(h){return new Q(h)};function Q(E){z.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,z),Q.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},Q.prototype.convertFrom=function(h){var p=this.imod(h.mul(this.rinv));return p.red=null,p},Q.prototype.imul=function(h,p){if(h.isZero()||p.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(p),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(x).iushrn(this.shift),B=m;return m.cmp(this.m)>=0?B=m.isub(this.m):m.cmpn(0)<0&&(B=m.iadd(this.m)),B._forceRed(this)},Q.prototype.mul=function(h,p){if(h.isZero()||p.isZero())return new n(0)._forceRed(this);var y=h.mul(p),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=y.isub(x).iushrn(this.shift),B=m;return m.cmp(this.m)>=0?B=m.isub(this.m):m.cmpn(0)<0&&(B=m.iadd(this.m)),B._forceRed(this)},Q.prototype.invm=function(h){var p=this.imod(h._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof qo=="undefined"||qo,w2)});var di=T((Bw,S2)=>{S2.exports=E2;function E2(t,e){if(!t)throw new Error(e||"Assertion failed")}E2.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var Ko=T(_2=>{"use strict";var v0=_2;function n5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),a=n>>8,s=n&255;a?r.push(a,s):r.push(s)}return r}v0.toArray=n5;function A2(t){return t.length===1?"0"+t:t}v0.zero2=A2;function B2(t){for(var e="",r=0;r<t.length;r++)e+=A2(t[r].toString(16));return e}v0.toHex=B2;v0.encode=function(e,r){return r==="hex"?B2(e):e}});var Ut=T(k2=>{"use strict";var or=k2,a5=kr(),s5=di(),x0=Ko();or.assert=s5;or.toArray=x0.toArray;or.zero2=x0.zero2;or.toHex=x0.toHex;or.encode=x0.encode;function o5(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,a=t.clone(),s=0;s<i.length;s++){var o,f=a.andln(n-1);a.isOdd()?(f>(n>>1)-1?o=(n>>1)-f:o=f,a.isubn(o)):o=0,i[s]=o,a.iushrn(1)}return i}or.getNAF=o5;function f5(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,a;t.cmpn(-i)>0||e.cmpn(-n)>0;){var s=t.andln(3)+i&3,o=e.andln(3)+n&3;s===3&&(s=-1),o===3&&(o=-1);var f;(s&1)==0?f=0:(a=t.andln(7)+i&7,(a===3||a===5)&&o===2?f=-s:f=s),r[0].push(f);var u;(o&1)==0?u=0:(a=e.andln(7)+n&7,(a===3||a===5)&&s===2?u=-o:u=o),r[1].push(u),2*i===f+1&&(i=1-i),2*n===u+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}or.getJSF=f5;function u5(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}or.cachedProperty=u5;function c5(t){return typeof t=="string"?or.toArray(t,"hex"):t}or.parseBytes=c5;function h5(t){return new a5(t,"hex","le")}or.intFromLE=h5});var zo=T((Cw,Fo)=>{var Oo;Fo.exports=function(e){return Oo||(Oo=new li(null)),Oo.generate(e)};function li(t){this.rand=t}Fo.exports.Rand=li;li.prototype.generate=function(e){return this._rand(e)};li.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?li.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?li.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(li.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Uo=Wn(),typeof Uo.randomBytes!="function")throw new Error("Not supported");li.prototype._rand=function(e){return Uo.randomBytes(e)}}catch(t){}var Uo});var aa=T((Tw,I2)=>{"use strict";var zi=kr(),na=Ut(),g0=na.getNAF,d5=na.getJSF,m0=na.assert;function pi(t,e){this.type=t,this.p=new zi(e.p,16),this.red=e.prime?zi.red(e.prime):zi.mont(this.p),this.zero=new zi(0).toRed(this.red),this.one=new zi(1).toRed(this.red),this.two=new zi(2).toRed(this.red),this.n=e.n&&new zi(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}I2.exports=pi;pi.prototype.point=function(){throw new Error("Not implemented")};pi.prototype.validate=function(){throw new Error("Not implemented")};pi.prototype._fixedNafMul=function(e,r){m0(e.precomputed);var i=e._getDoubles(),n=g0(r,1,this._bitLength),a=(1<<i.step+1)-(i.step%2==0?2:1);a/=3;var s=[],o,f;for(o=0;o<n.length;o+=i.step){f=0;for(var u=o+i.step-1;u>=o;u--)f=(f<<1)+n[u];s.push(f)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),b=a;b>0;b--){for(o=0;o<s.length;o++)f=s[o],f===b?d=d.mixedAdd(i.points[o]):f===-b&&(d=d.mixedAdd(i.points[o].neg()));c=c.add(d)}return c.toP()};pi.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var a=n.points,s=g0(r,i,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var u=0;f>=0&&s[f]===0;f--)u++;if(f>=0&&u++,o=o.dblp(u),f<0)break;var c=s[f];m0(c!==0),e.type==="affine"?c>0?o=o.mixedAdd(a[c-1>>1]):o=o.mixedAdd(a[-c-1>>1].neg()):c>0?o=o.add(a[c-1>>1]):o=o.add(a[-c-1>>1].neg())}return e.type==="affine"?o.toP():o};pi.prototype._wnafMulAdd=function(e,r,i,n,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,u=0,c,d,b;for(c=0;c<n;c++){b=r[c];var g=b._getNAFPoints(e);s[c]=g.wnd,o[c]=g.points}for(c=n-1;c>=1;c-=2){var v=c-1,_=c;if(s[v]!==1||s[_]!==1){f[v]=g0(i[v],s[v],this._bitLength),f[_]=g0(i[_],s[_],this._bitLength),u=Math.max(f[v].length,u),u=Math.max(f[_].length,u);continue}var I=[r[v],null,null,r[_]];r[v].y.cmp(r[_].y)===0?(I[1]=r[v].add(r[_]),I[2]=r[v].toJ().mixedAdd(r[_].neg())):r[v].y.cmp(r[_].y.redNeg())===0?(I[1]=r[v].toJ().mixedAdd(r[_]),I[2]=r[v].add(r[_].neg())):(I[1]=r[v].toJ().mixedAdd(r[_]),I[2]=r[v].toJ().mixedAdd(r[_].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],R=d5(i[v],i[_]);for(u=Math.max(R[0].length,u),f[v]=new Array(u),f[_]=new Array(u),d=0;d<u;d++){var P=R[0][d]|0,O=R[1][d]|0;f[v][d]=C[(P+1)*3+(O+1)],f[_][d]=0,o[v]=I}}var q=this.jpoint(null,null,null),D=this._wnafT4;for(c=u;c>=0;c--){for(var G=0;c>=0;){var z=!0;for(d=0;d<n;d++)D[d]=f[d][c]|0,D[d]!==0&&(z=!1);if(!z)break;G++,c--}if(c>=0&&G++,q=q.dblp(G),c<0)break;for(d=0;d<n;d++){var Q=D[d];Q!==0&&(Q>0?b=o[d][Q-1>>1]:Q<0&&(b=o[d][-Q-1>>1].neg()),b.type==="affine"?q=q.mixedAdd(b):q=q.add(b))}}for(c=0;c<n;c++)o[c]=null;return a?q:q.toP()};function Zt(t,e){this.curve=t,this.type=e,this.precomputed=null}pi.BasePoint=Zt;Zt.prototype.eq=function(){throw new Error("Not implemented")};Zt.prototype.validate=function(){return this.curve.validate(this)};pi.prototype.decodePoint=function(e,r){e=na.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?m0(e[e.length-1]%2==0):e[0]===7&&m0(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};Zt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Zt.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};Zt.prototype.encode=function(e,r){return na.encode(this._encode(r),e)};Zt.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Zt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Zt.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)n=n.dbl();i.push(n)}return{step:e,points:i}};Zt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),a=1;a<i;a++)r[a]=r[a-1].add(n);return{wnd:e,points:r}};Zt.prototype._getBeta=function(){return null};Zt.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var sa=T((Mw,Vo)=>{typeof Object.create=="function"?Vo.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Vo.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var T2=T((Rw,C2)=>{"use strict";var l5=Ut(),Me=kr(),Ho=sa(),Bn=aa(),p5=l5.assert;function Qt(t){Bn.call(this,"short",t),this.a=new Me(t.a,16).toRed(this.red),this.b=new Me(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ho(Qt,Bn);C2.exports=Qt;Qt.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Me(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Me(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?i=a[0]:(i=a[1],p5(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new Me(o.a,16),b:new Me(o.b,16)}}):s=this._getEndoBasis(i),{beta:r,lambda:i,basis:s}}};Qt.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Me.mont(e),i=new Me(2).toRed(r).redInvm(),n=i.redNeg(),a=new Me(3).toRed(r).redNeg().redSqrt().redMul(i),s=n.redAdd(a).fromRed(),o=n.redSub(a).fromRed();return[s,o]};Qt.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),a=new Me(1),s=new Me(0),o=new Me(0),f=new Me(1),u,c,d,b,g,v,_,I=0,C,R;i.cmpn(0)!==0;){var P=n.div(i);C=n.sub(P.mul(i)),R=o.sub(P.mul(a));var O=f.sub(P.mul(s));if(!d&&C.cmp(r)<0)u=_.neg(),c=a,d=C.neg(),b=R;else if(d&&++I==2)break;_=C,n=i,i=C,o=a,a=R,f=s,s=O}g=C.neg(),v=R;var q=d.sqr().add(b.sqr()),D=g.sqr().add(v.sqr());return D.cmp(q)>=0&&(g=u,v=c),d.negative&&(d=d.neg(),b=b.neg()),g.negative&&(g=g.neg(),v=v.neg()),[{a:d,b},{a:g,b:v}]};Qt.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],a=n.b.mul(e).divRound(this.n),s=i.b.neg().mul(e).divRound(this.n),o=a.mul(i.a),f=s.mul(n.a),u=a.mul(i.b),c=s.mul(n.b),d=e.sub(o).sub(f),b=u.add(c).neg();return{k1:d,k2:b}};Qt.prototype.pointFromX=function(e,r){e=new Me(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var a=n.fromRed().isOdd();return(r&&!a||!r&&a)&&(n=n.redNeg()),this.point(e,n)};Qt.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(a).cmpn(0)===0};Qt.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),f=e[s],u=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[s*2]=f,n[s*2+1]=u,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,n,a,s*2,i),d=0;d<s*2;d++)n[d]=null,a[d]=null;return c};function mt(t,e,r,i){Bn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Me(e,16),this.y=new Me(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ho(mt,Bn.BasePoint);Qt.prototype.point=function(e,r,i){return new mt(this,e,r,i)};Qt.prototype.pointFromJSON=function(e,r){return mt.fromJSON(this,e,r)};mt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(a){return i.point(a.x.redMul(i.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};mt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};mt.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function a(o){return e.point(o[0],o[1],i)}var s=r[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(a))}},n};mt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};mt.prototype.isInfinity=function(){return this.inf};mt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};mt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),a=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};mt.prototype.getX=function(){return this.x.fromRed()};mt.prototype.getY=function(){return this.y.fromRed()};mt.prototype.mul=function(e){return e=new Me(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};mt.prototype.mulAdd=function(e,r,i){var n=[this,r],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)};mt.prototype.jmulAdd=function(e,r,i){var n=[this,r],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)};mt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};mt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(a){return a.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};mt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function At(t,e,r,i){Bn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Me(0)):(this.x=new Me(e,16),this.y=new Me(r,16),this.z=new Me(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ho(At,Bn.BasePoint);Qt.prototype.jpoint=function(e,r,i){return new At(this,e,r,i)};At.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};At.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};At.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),a=e.x.redMul(i),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(i.redMul(this.z)),f=n.redSub(a),u=s.redSub(o);if(f.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),d=c.redMul(f),b=n.redMul(c),g=u.redSqr().redIAdd(d).redISub(b).redISub(b),v=u.redMul(b.redISub(g)).redISub(s.redMul(d)),_=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(g,v,_)};At.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=i.redSub(n),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),d=i.redMul(u),b=f.redSqr().redIAdd(c).redISub(d).redISub(d),g=f.redMul(d.redISub(b)).redISub(a.redMul(c)),v=this.z.redMul(o);return this.curve.jpoint(b,g,v)};At.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,u=f.redSqr().redSqr(),c=o.redAdd(o);for(r=0;r<e;r++){var d=s.redSqr(),b=c.redSqr(),g=b.redSqr(),v=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(u)),_=s.redMul(b),I=v.redSqr().redISub(_.redAdd(_)),C=_.redISub(I),R=v.redMul(C);R=R.redIAdd(R).redISub(g);var P=c.redMul(f);r+1<e&&(u=u.redMul(g)),s=I,f=P,c=R}return this.curve.jpoint(s,c.redMul(a),f)};At.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};At.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var f=n.redAdd(n).redIAdd(n),u=f.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,r=f.redMul(o.redISub(u)).redISub(c),i=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),b=this.y.redSqr(),g=b.redSqr(),v=this.x.redAdd(b).redSqr().redISub(d).redISub(g);v=v.redIAdd(v);var _=d.redAdd(d).redIAdd(d),I=_.redSqr(),C=g.redIAdd(g);C=C.redIAdd(C),C=C.redIAdd(C),e=I.redISub(v).redISub(v),r=_.redMul(v.redISub(e)).redISub(C),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};At.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var f=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=f.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=f.redMul(o.redISub(u)).redISub(c),i=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),b=this.y.redSqr(),g=this.x.redMul(b),v=this.x.redSub(d).redMul(this.x.redAdd(d));v=v.redAdd(v).redIAdd(v);var _=g.redIAdd(g);_=_.redIAdd(_);var I=_.redAdd(_);e=v.redSqr().redISub(I),i=this.y.redAdd(this.z).redSqr().redISub(b).redISub(d);var C=b.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=v.redMul(_.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,i)};At.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,a=n.redSqr().redSqr(),s=r.redSqr(),o=i.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(o),d=f.redSqr().redISub(c.redAdd(c)),b=c.redISub(d),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var v=f.redMul(b).redISub(g),_=i.redAdd(i).redMul(n);return this.curve.jpoint(d,v,_)};At.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),u=n.redIAdd(n);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(u),d=r.redMul(c);d=d.redIAdd(d),d=d.redIAdd(d);var b=this.x.redMul(f).redISub(d);b=b.redIAdd(b),b=b.redIAdd(b);var g=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var v=this.z.redAdd(o).redSqr().redISub(i).redISub(f);return this.curve.jpoint(b,g,v)};At.prototype.mul=function(e,r){return e=new Me(e,r),this.curve._wnafMul(this,e)};At.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),a=i.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)===0};At.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),a=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(a),this.x.cmp(i)===0)return!0}};At.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};At.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var P2=T((Pw,M2)=>{"use strict";var kn=kr(),R2=sa(),w0=aa(),b5=Ut();function In(t){w0.call(this,"mont",t),this.a=new kn(t.a,16).toRed(this.red),this.b=new kn(t.b,16).toRed(this.red),this.i4=new kn(4).toRed(this.red).redInvm(),this.two=new kn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}R2(In,w0);M2.exports=In;In.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),a=n.redSqrt();return a.redSqr().cmp(n)===0};function wt(t,e,r){w0.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new kn(e,16),this.z=new kn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R2(wt,w0.BasePoint);In.prototype.decodePoint=function(e,r){return this.point(b5.toArray(e,r),1)};In.prototype.point=function(e,r){return new wt(this,e,r)};In.prototype.pointFromJSON=function(e){return wt.fromJSON(this,e)};wt.prototype.precompute=function(){};wt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};wt.fromJSON=function(e,r){return new wt(e,r[0],r[1]||e.one)};wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};wt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};wt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),a=r.redSub(n),s=r.redMul(n),o=a.redMul(n.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};wt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};wt.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(i),f=a.redMul(n),u=r.z.redMul(o.redAdd(f).redSqr()),c=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(u,c)};wt.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(i=i.diffAdd(n,a),n=n.dbl()):(n=i.diffAdd(n,a),i=i.dbl());return n};wt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};wt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};wt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};wt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};wt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var D2=T((Nw,N2)=>{"use strict";var y5=Ut(),Wr=kr(),L2=sa(),S0=aa(),v5=y5.assert;function Ir(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,S0.call(this,"edwards",t),this.a=new Wr(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Wr(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Wr(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),v5(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}L2(Ir,S0);N2.exports=Ir;Ir.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Ir.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Ir.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Ir.prototype.pointFromX=function(e,r){e=new Wr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),a=this.one.redSub(this.c2.redMul(this.d).redMul(i)),s=n.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(e,o)};Ir.prototype.pointFromY=function(e,r){e=new Wr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),a=i.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Ir.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(a)===0};function Be(t,e,r,i,n){S0.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Wr(e,16),this.y=new Wr(r,16),this.z=i?new Wr(i,16):this.curve.one,this.t=n&&new Wr(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}L2(Be,S0.BasePoint);Ir.prototype.pointFromJSON=function(e){return Be.fromJSON(this,e)};Ir.prototype.point=function(e,r,i,n){return new Be(this,e,r,i,n)};Be.fromJSON=function(e,r){return new Be(e,r[0],r[1],r[2])};Be.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Be.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Be.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=n.redAdd(r),o=s.redSub(i),f=n.redSub(r),u=a.redMul(o),c=s.redMul(f),d=a.redMul(f),b=o.redMul(s);return this.curve.point(u,c,b,d)};Be.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,a,s,o,f,u;if(this.curve.twisted){o=this.curve._mulA(r);var c=o.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(c.redSub(this.curve.two)),a=c.redMul(o.redSub(i)),s=c.redSqr().redSub(c).redSub(c)):(f=this.z.redSqr(),u=c.redSub(f).redISub(f),n=e.redSub(r).redISub(i).redMul(u),a=c.redMul(o.redSub(i)),s=c.redMul(u))}else o=r.redAdd(i),f=this.curve._mulC(this.z).redSqr(),u=o.redSub(f).redSub(f),n=this.curve._mulC(e.redISub(o)).redMul(u),a=this.curve._mulC(o).redMul(r.redISub(i)),s=o.redMul(u);return this.curve.point(n,a,s)};Be.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Be.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=i.redSub(r),o=a.redSub(n),f=a.redAdd(n),u=i.redAdd(r),c=s.redMul(o),d=f.redMul(u),b=s.redMul(u),g=o.redMul(f);return this.curve.point(c,d,g,b)};Be.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(n).redMul(a),o=i.redSub(s),f=i.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(a),c=r.redMul(o).redMul(u),d,b;return this.curve.twisted?(d=r.redMul(f).redMul(a.redSub(this.curve._mulA(n))),b=o.redMul(f)):(d=r.redMul(f).redMul(a.redSub(n)),b=this.curve._mulC(o).redMul(f)),this.curve.point(c,d,b)};Be.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Be.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Be.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Be.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Be.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Be.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Be.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Be.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Be.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Be.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Be.prototype.toP=Be.prototype.normalize;Be.prototype.mixedAdd=Be.prototype.add});var Go=T(q2=>{"use strict";var E0=q2;E0.base=aa();E0.short=T2();E0.mont=P2();E0.edwards=D2()});var fr=T(Se=>{"use strict";var x5=di(),g5=sa();Se.inherits=g5;function m5(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function w5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var a=t.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):m5(t,n)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Se.toArray=w5;function S5(t){for(var e="",r=0;r<t.length;r++)e+=K2(t[r].toString(16));return e}Se.toHex=S5;function F2(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Se.htonl=F2;function E5(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=F2(n)),r+=O2(n.toString(16))}return r}Se.toHex32=E5;function K2(t){return t.length===1?"0"+t:t}Se.zero2=K2;function O2(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Se.zero8=O2;function _5(t,e,r,i){var n=r-e;x5(n%4==0);for(var a=new Array(n/4),s=0,o=e;s<a.length;s++,o+=4){var f;i==="big"?f=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:f=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=f>>>0}return a}Se.join32=_5;function A5(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var a=t[i];e==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}Se.split32=A5;function B5(t,e){return t>>>e|t<<32-e}Se.rotr32=B5;function k5(t,e){return t<<e|t>>>32-e}Se.rotl32=k5;function I5(t,e){return t+e>>>0}Se.sum32=I5;function C5(t,e,r){return t+e+r>>>0}Se.sum32_3=C5;function T5(t,e,r,i){return t+e+r+i>>>0}Se.sum32_4=T5;function M5(t,e,r,i,n){return t+e+r+i+n>>>0}Se.sum32_5=M5;function R5(t,e,r,i){var n=t[e],a=t[e+1],s=i+a>>>0,o=(s<i?1:0)+r+n;t[e]=o>>>0,t[e+1]=s}Se.sum64=R5;function P5(t,e,r,i){var n=e+i>>>0,a=(n<e?1:0)+t+r;return a>>>0}Se.sum64_hi=P5;function N5(t,e,r,i){var n=e+i;return n>>>0}Se.sum64_lo=N5;function L5(t,e,r,i,n,a,s,o){var f=0,u=e;u=u+i>>>0,f+=u<e?1:0,u=u+a>>>0,f+=u<a?1:0,u=u+o>>>0,f+=u<o?1:0;var c=t+r+n+s+f;return c>>>0}Se.sum64_4_hi=L5;function D5(t,e,r,i,n,a,s,o){var f=e+i+a+o;return f>>>0}Se.sum64_4_lo=D5;function q5(t,e,r,i,n,a,s,o,f,u){var c=0,d=e;d=d+i>>>0,c+=d<e?1:0,d=d+a>>>0,c+=d<a?1:0,d=d+o>>>0,c+=d<o?1:0,d=d+u>>>0,c+=d<u?1:0;var b=t+r+n+s+f+c;return b>>>0}Se.sum64_5_hi=q5;function K5(t,e,r,i,n,a,s,o,f,u){var c=e+i+a+o+u;return c>>>0}Se.sum64_5_lo=K5;function F5(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Se.rotr64_hi=F5;function O5(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Se.rotr64_lo=O5;function U5(t,e,r){return t>>>r}Se.shr64_hi=U5;function z5(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Se.shr64_lo=z5});var Cn=T(U2=>{"use strict";var z2=fr(),V5=di();function _0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}U2.BlockHash=_0;_0.prototype.update=function(e,r){if(e=z2.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=z2.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};_0.prototype.digest=function(e){return this.update(this._pad()),V5(this.pending===null),this._digest(e)};_0.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var a=1;a<i;a++)n[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=e&255}else for(n[a++]=e&255,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,s=8;s<this.padLength;s++)n[a++]=0;return n}});var jo=T(Jr=>{"use strict";var H5=fr(),Cr=H5.rotr32;function G5(t,e,r,i){if(t===0)return V2(e,r,i);if(t===1||t===3)return G2(e,r,i);if(t===2)return H2(e,r,i)}Jr.ft_1=G5;function V2(t,e,r){return t&e^~t&r}Jr.ch32=V2;function H2(t,e,r){return t&e^t&r^e&r}Jr.maj32=H2;function G2(t,e,r){return t^e^r}Jr.p32=G2;function j5(t){return Cr(t,2)^Cr(t,13)^Cr(t,22)}Jr.s0_256=j5;function Y5(t){return Cr(t,6)^Cr(t,11)^Cr(t,25)}Jr.s1_256=Y5;function W5(t){return Cr(t,7)^Cr(t,18)^t>>>3}Jr.g0_256=W5;function J5(t){return Cr(t,17)^Cr(t,19)^t>>>10}Jr.g1_256=J5});var W2=T((Fw,j2)=>{"use strict";var Tn=fr(),$5=Cn(),Z5=jo(),Yo=Tn.rotl32,oa=Tn.sum32,Q5=Tn.sum32_5,X5=Z5.ft_1,Y2=$5.BlockHash,eg=[1518500249,1859775393,2400959708,3395469782];function Tr(){if(!(this instanceof Tr))return new Tr;Y2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Tn.inherits(Tr,Y2);j2.exports=Tr;Tr.blockSize=512;Tr.outSize=160;Tr.hmacStrength=80;Tr.padLength=64;Tr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Yo(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4];for(n=0;n<i.length;n++){var c=~~(n/20),d=Q5(Yo(a,5),X5(c,s,o,f),u,i[n],eg[c]);u=f,f=o,o=Yo(s,30),s=a,a=d}this.h[0]=oa(this.h[0],a),this.h[1]=oa(this.h[1],s),this.h[2]=oa(this.h[2],o),this.h[3]=oa(this.h[3],f),this.h[4]=oa(this.h[4],u)};Tr.prototype._digest=function(e){return e==="hex"?Tn.toHex32(this.h,"big"):Tn.split32(this.h,"big")}});var Wo=T((Ow,J2)=>{"use strict";var Mn=fr(),tg=Cn(),Rn=jo(),rg=di(),ur=Mn.sum32,ig=Mn.sum32_4,ng=Mn.sum32_5,ag=Rn.ch32,sg=Rn.maj32,og=Rn.s0_256,fg=Rn.s1_256,ug=Rn.g0_256,cg=Rn.g1_256,$2=tg.BlockHash,hg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Mr(){if(!(this instanceof Mr))return new Mr;$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=hg,this.W=new Array(64)}Mn.inherits(Mr,$2);J2.exports=Mr;Mr.blockSize=512;Mr.outSize=256;Mr.hmacStrength=192;Mr.padLength=64;Mr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=ig(cg(i[n-2]),i[n-7],ug(i[n-15]),i[n-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],b=this.h[7];for(rg(this.k.length===i.length),n=0;n<i.length;n++){var g=ng(b,fg(u),ag(u,c,d),this.k[n],i[n]),v=ur(og(a),sg(a,s,o));b=d,d=c,c=u,u=ur(f,g),f=o,o=s,s=a,a=ur(g,v)}this.h[0]=ur(this.h[0],a),this.h[1]=ur(this.h[1],s),this.h[2]=ur(this.h[2],o),this.h[3]=ur(this.h[3],f),this.h[4]=ur(this.h[4],u),this.h[5]=ur(this.h[5],c),this.h[6]=ur(this.h[6],d),this.h[7]=ur(this.h[7],b)};Mr.prototype._digest=function(e){return e==="hex"?Mn.toHex32(this.h,"big"):Mn.split32(this.h,"big")}});var X2=T((Uw,Z2)=>{"use strict";var Jo=fr(),Q2=Wo();function $r(){if(!(this instanceof $r))return new $r;Q2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Jo.inherits($r,Q2);Z2.exports=$r;$r.blockSize=512;$r.outSize=224;$r.hmacStrength=192;$r.padLength=64;$r.prototype._digest=function(e){return e==="hex"?Jo.toHex32(this.h.slice(0,7),"big"):Jo.split32(this.h.slice(0,7),"big")}});var Qo=T((zw,ep)=>{"use strict";var Dt=fr(),dg=Cn(),lg=di(),Rr=Dt.rotr64_hi,Pr=Dt.rotr64_lo,tp=Dt.shr64_hi,rp=Dt.shr64_lo,bi=Dt.sum64,$o=Dt.sum64_hi,Zo=Dt.sum64_lo,pg=Dt.sum64_4_hi,bg=Dt.sum64_4_lo,yg=Dt.sum64_5_hi,vg=Dt.sum64_5_lo,ip=dg.BlockHash,xg=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function cr(){if(!(this instanceof cr))return new cr;ip.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=xg,this.W=new Array(160)}Dt.inherits(cr,ip);ep.exports=cr;cr.blockSize=1024;cr.outSize=512;cr.hmacStrength=192;cr.padLength=128;cr.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var a=wg(i[n-4],i[n-3]),s=Sg(i[n-4],i[n-3]),o=i[n-14],f=i[n-13],u=gg(i[n-30],i[n-29]),c=mg(i[n-30],i[n-29]),d=i[n-32],b=i[n-31];i[n]=pg(a,s,o,f,u,c,d,b),i[n+1]=bg(a,s,o,f,u,c,d,b)}};cr.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],u=this.h[5],c=this.h[6],d=this.h[7],b=this.h[8],g=this.h[9],v=this.h[10],_=this.h[11],I=this.h[12],C=this.h[13],R=this.h[14],P=this.h[15];lg(this.k.length===i.length);for(var O=0;O<i.length;O+=2){var q=R,D=P,G=Cg(b,g),z=Tg(b,g),Q=Eg(b,g,v,_,I,C),E=_g(b,g,v,_,I,C),h=this.k[O],p=this.k[O+1],y=i[O],x=i[O+1],m=yg(q,D,G,z,Q,E,h,p,y,x),B=vg(q,D,G,z,Q,E,h,p,y,x);q=kg(n,a),D=Ig(n,a),G=Ag(n,a,s,o,f,u),z=Bg(n,a,s,o,f,u);var A=$o(q,D,G,z),w=Zo(q,D,G,z);R=I,P=C,I=v,C=_,v=b,_=g,b=$o(c,d,m,B),g=Zo(d,d,m,B),c=f,d=u,f=s,u=o,s=n,o=a,n=$o(m,B,A,w),a=Zo(m,B,A,w)}bi(this.h,0,n,a),bi(this.h,2,s,o),bi(this.h,4,f,u),bi(this.h,6,c,d),bi(this.h,8,b,g),bi(this.h,10,v,_),bi(this.h,12,I,C),bi(this.h,14,R,P)};cr.prototype._digest=function(e){return e==="hex"?Dt.toHex32(this.h,"big"):Dt.split32(this.h,"big")};function Eg(t,e,r,i,n){var a=t&r^~t&n;return a<0&&(a+=4294967296),a}function _g(t,e,r,i,n,a){var s=e&i^~e&a;return s<0&&(s+=4294967296),s}function Ag(t,e,r,i,n){var a=t&r^t&n^r&n;return a<0&&(a+=4294967296),a}function Bg(t,e,r,i,n,a){var s=e&i^e&a^i&a;return s<0&&(s+=4294967296),s}function kg(t,e){var r=Rr(t,e,28),i=Rr(e,t,2),n=Rr(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function Ig(t,e){var r=Pr(t,e,28),i=Pr(e,t,2),n=Pr(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function Cg(t,e){var r=Rr(t,e,14),i=Rr(t,e,18),n=Rr(e,t,9),a=r^i^n;return a<0&&(a+=4294967296),a}function Tg(t,e){var r=Pr(t,e,14),i=Pr(t,e,18),n=Pr(e,t,9),a=r^i^n;return a<0&&(a+=4294967296),a}function gg(t,e){var r=Rr(t,e,1),i=Rr(t,e,8),n=tp(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function mg(t,e){var r=Pr(t,e,1),i=Pr(t,e,8),n=rp(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function wg(t,e){var r=Rr(t,e,19),i=Rr(e,t,29),n=tp(t,e,6),a=r^i^n;return a<0&&(a+=4294967296),a}function Sg(t,e){var r=Pr(t,e,19),i=Pr(e,t,29),n=rp(t,e,6),a=r^i^n;return a<0&&(a+=4294967296),a}});var sp=T((Vw,np)=>{"use strict";var Xo=fr(),ap=Qo();function Zr(){if(!(this instanceof Zr))return new Zr;ap.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xo.inherits(Zr,ap);np.exports=Zr;Zr.blockSize=1024;Zr.outSize=384;Zr.hmacStrength=192;Zr.padLength=128;Zr.prototype._digest=function(e){return e==="hex"?Xo.toHex32(this.h.slice(0,12),"big"):Xo.split32(this.h.slice(0,12),"big")}});var op=T(Pn=>{"use strict";Pn.sha1=W2();Pn.sha224=X2();Pn.sha256=Wo();Pn.sha384=sp();Pn.sha512=Qo()});var lp=T(fp=>{"use strict";var Vi=fr(),Mg=Cn(),A0=Vi.rotl32,up=Vi.sum32,fa=Vi.sum32_3,cp=Vi.sum32_4,hp=Mg.BlockHash;function Nr(){if(!(this instanceof Nr))return new Nr;hp.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Vi.inherits(Nr,hp);fp.ripemd160=Nr;Nr.blockSize=512;Nr.outSize=160;Nr.hmacStrength=192;Nr.padLength=64;Nr.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=i,u=n,c=a,d=s,b=o,g=0;g<80;g++){var v=up(A0(cp(i,dp(g,n,a,s),e[Ng[g]+r],Rg(g)),Dg[g]),o);i=o,o=s,s=A0(a,10),a=n,n=v,v=up(A0(cp(f,dp(79-g,u,c,d),e[Lg[g]+r],Pg(g)),qg[g]),b),f=b,b=d,d=A0(c,10),c=u,u=v}v=fa(this.h[1],a,d),this.h[1]=fa(this.h[2],s,b),this.h[2]=fa(this.h[3],o,f),this.h[3]=fa(this.h[4],i,u),this.h[4]=fa(this.h[0],n,c),this.h[0]=v};Nr.prototype._digest=function(e){return e==="hex"?Vi.toHex32(this.h,"little"):Vi.split32(this.h,"little")};function dp(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function Rg(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Pg(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Ng=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Lg=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Dg=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],qg=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var bp=T((jw,pp)=>{"use strict";var Kg=fr(),Fg=di();function Nn(t,e,r){if(!(this instanceof Nn))return new Nn(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Kg.toArray(e,r))}pp.exports=Nn;Nn.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Fg(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Nn.prototype.update=function(e,r){return this.inner.update(e,r),this};Nn.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var B0=T(yp=>{var Bt=yp;Bt.utils=fr();Bt.common=Cn();Bt.sha=op();Bt.ripemd=lp();Bt.hmac=bp();Bt.sha1=Bt.sha.sha1;Bt.sha256=Bt.sha.sha256;Bt.sha224=Bt.sha.sha224;Bt.sha384=Bt.sha.sha384;Bt.sha512=Bt.sha.sha512;Bt.ripemd160=Bt.ripemd.ripemd160});var xp=T((Ww,vp)=>{vp.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var k0=T(gp=>{"use strict";var ef=gp,yi=B0(),tf=Go(),Og=Ut(),mp=Og.assert;function wp(t){t.type==="short"?this.curve=new tf.short(t):t.type==="edwards"?this.curve=new tf.edwards(t):this.curve=new tf.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,mp(this.g.validate(),"Invalid curve"),mp(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}ef.PresetCurve=wp;function vi(t,e){Object.defineProperty(ef,t,{configurable:!0,enumerable:!0,get:function(){var r=new wp(e);return Object.defineProperty(ef,t,{configurable:!0,enumerable:!0,value:r}),r}})}vi("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:yi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});vi("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:yi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});vi("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:yi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});vi("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:yi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});vi("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:yi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});vi("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yi.sha256,gRed:!1,g:["9"]});vi("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:yi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var rf;try{rf=xp()}catch(t){rf=void 0}vi("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:yi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",rf]})});var _p=T(($w,Sp)=>{"use strict";var Ug=B0(),Hi=Ko(),Ep=di();function xi(t){if(!(this instanceof xi))return new xi(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Hi.toArray(t.entropy,t.entropyEnc||"hex"),r=Hi.toArray(t.nonce,t.nonceEnc||"hex"),i=Hi.toArray(t.pers,t.persEnc||"hex");Ep(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}Sp.exports=xi;xi.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};xi.prototype._hmac=function(){return new Ug.hmac(this.hash,this.K)};xi.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};xi.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=Hi.toArray(e,r),i=Hi.toArray(i,n),Ep(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};xi.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=Hi.toArray(i,n||"hex"),this._update(i));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(i),this._reseed++,Hi.encode(s,r)}});var Bp=T((Zw,Ap)=>{"use strict";var zg=kr(),Vg=Ut(),nf=Vg.assert;function Ct(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Ap.exports=Ct;Ct.fromPublic=function(e,r,i){return r instanceof Ct?r:new Ct(e,{pub:r,pubEnc:i})};Ct.fromPrivate=function(e,r,i){return r instanceof Ct?r:new Ct(e,{priv:r,privEnc:i})};Ct.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ct.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ct.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ct.prototype._importPrivate=function(e,r){this.priv=new zg(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ct.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?nf(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&nf(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ct.prototype.derive=function(e){return e.validate()||nf(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ct.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Ct.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ct.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Cp=T((Qw,kp)=>{"use strict";var I0=kr(),af=Ut(),Hg=af.assert;function C0(t,e){if(t instanceof C0)return t;this._importDER(t,e)||(Hg(t.r&&t.s,"Signature without r or s"),this.r=new I0(t.r,16),this.s=new I0(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}kp.exports=C0;function Gg(){this.place=0}function sf(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,s=e.place;a<i;a++,s++)n<<=8,n|=t[s],n>>>=0;return n<=127?!1:(e.place=s,n)}function Ip(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}C0.prototype._importDER=function(e,r){e=af.toArray(e,r);var i=new Gg;if(e[i.place++]!==48)return!1;var n=sf(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var a=sf(e,i);if(a===!1)return!1;var s=e.slice(i.place,a+i.place);if(i.place+=a,e[i.place++]!==2)return!1;var o=sf(e,i);if(o===!1||e.length!==o+i.place)return!1;var f=e.slice(i.place,o+i.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new I0(s),this.s=new I0(f),this.recoveryParam=null,!0};function of(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}C0.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=Ip(r),i=Ip(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];of(n,r.length),n=n.concat(r),n.push(2),of(n,i.length);var a=n.concat(i),s=[48];return of(s,a.length),s=s.concat(a),af.encode(s,e)}});var Pp=T((Xw,Tp)=>{"use strict";var Gi=kr(),Mp=_p(),jg=Ut(),ff=k0(),Yg=zo(),Rp=jg.assert,uf=Bp(),T0=Cp();function Xt(t){if(!(this instanceof Xt))return new Xt(t);typeof t=="string"&&(Rp(Object.prototype.hasOwnProperty.call(ff,t),"Unknown curve "+t),t=ff[t]),t instanceof ff.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Tp.exports=Xt;Xt.prototype.keyPair=function(e){return new uf(this,e)};Xt.prototype.keyFromPrivate=function(e,r){return uf.fromPrivate(this,e,r)};Xt.prototype.keyFromPublic=function(e,r){return uf.fromPublic(this,e,r)};Xt.prototype.genKeyPair=function(e){e||(e={});for(var r=new Mp({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Yg(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Gi(2));;){var a=new Gi(r.generate(i));if(!(a.cmp(n)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Xt.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Xt.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new Gi(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),f=new Mp({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new Gi(1)),c=0;;c++){var d=n.k?n.k(c):new Gi(f.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var b=this.g.mul(d);if(!b.isInfinity()){var g=b.getX(),v=g.umod(this.n);if(v.cmpn(0)!==0){var _=d.invm(this.n).mul(v.mul(r.getPrivate()).iadd(e));if(_=_.umod(this.n),_.cmpn(0)!==0){var I=(b.getY().isOdd()?1:0)|(g.cmp(v)!==0?2:0);return n.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),I^=1),new T0({r:v,s:_,recoveryParam:I})}}}}}};Xt.prototype.verify=function(e,r,i,n){e=this._truncateToN(new Gi(e,16)),i=this.keyFromPublic(i,n),r=new T0(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),f=o.mul(e).umod(this.n),u=o.mul(a).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(f,i.getPublic(),u),c.isInfinity()?!1:c.eqXToP(a)):(c=this.g.mulAdd(f,i.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(a)===0)};Xt.prototype.recoverPubKey=function(t,e,r,i){Rp((3&r)===r,"The recovery param is more than two bits"),e=new T0(e,i);var n=this.n,a=new Gi(t),s=e.r,o=e.s,f=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var c=e.r.invm(n),d=n.sub(a).mul(c).umod(n),b=o.mul(c).umod(n);return this.g.mulAdd(d,s,b)};Xt.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new T0(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(t,e,n)}catch(s){continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var qp=T((eS,Np)=>{"use strict";var ua=Ut(),Lp=ua.assert,Dp=ua.parseBytes,Ln=ua.cachedProperty;function St(t,e){this.eddsa=t,this._secret=Dp(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Dp(e.pub)}St.fromPublic=function(e,r){return r instanceof St?r:new St(e,{pub:r})};St.fromSecret=function(e,r){return r instanceof St?r:new St(e,{secret:r})};St.prototype.secret=function(){return this._secret};Ln(St,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Ln(St,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Ln(St,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});Ln(St,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Ln(St,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Ln(St,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});St.prototype.sign=function(e){return Lp(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};St.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};St.prototype.getSecret=function(e){return Lp(this._secret,"KeyPair is public only"),ua.encode(this.secret(),e)};St.prototype.getPublic=function(e){return ua.encode(this.pubBytes(),e)};Np.exports=St});var Fp=T((tS,Kp)=>{"use strict";var Wg=kr(),M0=Ut(),Jg=M0.assert,R0=M0.cachedProperty,$g=M0.parseBytes;function ji(t,e){this.eddsa=t,typeof e!="object"&&(e=$g(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Jg(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Wg&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}R0(ji,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});R0(ji,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});R0(ji,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});R0(ji,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ji.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ji.prototype.toHex=function(){return M0.encode(this.toBytes(),"hex").toUpperCase()};Kp.exports=ji});var Hp=T((rS,Op)=>{"use strict";var Zg=B0(),Qg=k0(),Dn=Ut(),Xg=Dn.assert,Up=Dn.parseBytes,zp=qp(),Vp=Fp();function qt(t){if(Xg(t==="ed25519","only tested with ed25519 so far"),!(this instanceof qt))return new qt(t);t=Qg[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Zg.sha512}Op.exports=qt;qt.prototype.sign=function(e,r){e=Up(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),a=this.g.mul(n),s=this.encodePoint(a),o=this.hashInt(s,i.pubBytes(),e).mul(i.priv()),f=n.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};qt.prototype.verify=function(e,r,i){e=Up(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),a=this.hashInt(r.Rencoded(),n.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(n.pub().mul(a));return o.eq(s)};qt.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Dn.intFromLE(e.digest()).umod(this.curve.n)};qt.prototype.keyFromPublic=function(e){return zp.fromPublic(this,e)};qt.prototype.keyFromSecret=function(e){return zp.fromSecret(this,e)};qt.prototype.makeSignature=function(e){return e instanceof Vp?e:new Vp(this,e)};qt.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};qt.prototype.decodePoint=function(e){e=Dn.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&~128),n=(e[r]&128)!=0,a=Dn.intFromLE(i);return this.curve.pointFromY(a,n)};qt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};qt.prototype.decodeInt=function(e){return Dn.intFromLE(e)};qt.prototype.isPoint=function(e){return e instanceof this.pointClass}});var jp=T(Gp=>{"use strict";var Yi=Gp;Yi.version=g2().version;Yi.utils=Ut();Yi.rand=zo();Yi.curve=Go();Yi.curves=k0();Yi.ec=Pp();Yi.eddsa=Hp()});var Wp=T((nS,Yp)=>{var em=jp().ec,Lr=new em("secp256k1"),he=Lr.curve,Ee=he.n.constructor;function tm(t,e){let r=new Ee(e);if(r.cmp(he.p)>=0)return null;r=r.toRed(he.red);let i=r.redSqr().redIMul(r).redIAdd(he.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),Lr.keyPair({pub:{x:r,y:i}})}function rm(t,e,r){let i=new Ee(e),n=new Ee(r);if(i.cmp(he.p)>=0||n.cmp(he.p)>=0||(i=i.toRed(he.red),n=n.toRed(he.red),(t===6||t===7)&&n.isOdd()!==(t===7)))return null;let a=i.redSqr().redIMul(i);return n.redSqr().redISub(a.redIAdd(he.b)).isZero()?Lr.keyPair({pub:{x:i,y:n}}):null}function gi(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:tm(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:rm(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Wi(t,e){let r=e.encode(null,t.length===33);for(let i=0;i<t.length;++i)t[i]=r[i]}Yp.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Ee(t);return e.cmp(he.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new Ee(t),r=he.n.sub(e).umod(he.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new Ee(e);if(r.cmp(he.n)>=0||(r.iadd(new Ee(t)),r.cmp(he.n)>=0&&r.isub(he.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new Ee(e);if(r.cmp(he.n)>=0||r.isZero())return 1;r.imul(new Ee(t)),r.cmp(he.n)>=0&&(r=r.umod(he.n));let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify(t){return gi(t)===null?1:0},publicKeyCreate(t,e){let r=new Ee(e);if(r.cmp(he.n)>=0||r.isZero())return 1;let i=Lr.keyFromPrivate(e).getPublic();return Wi(t,i),0},publicKeyConvert(t,e){let r=gi(e);if(r===null)return 1;let i=r.getPublic();return Wi(t,i),0},publicKeyNegate(t,e){let r=gi(e);if(r===null)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),Wi(t,i),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let n=0;n<e.length;++n)if(r[n]=gi(e[n]),r[n]===null)return 1;let i=r[0].getPublic();for(let n=1;n<r.length;++n)i=i.add(r[n].pub);return i.isInfinity()?2:(Wi(t,i),0)},publicKeyTweakAdd(t,e,r){let i=gi(e);if(i===null)return 1;if(r=new Ee(r),r.cmp(he.n)>=0)return 2;let n=i.getPublic().add(he.g.mul(r));return n.isInfinity()?2:(Wi(t,n),0)},publicKeyTweakMul(t,e,r){let i=gi(e);if(i===null)return 1;if(r=new Ee(r),r.cmp(he.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return Wi(t,n),0},signatureNormalize(t){let e=new Ee(t.subarray(0,32)),r=new Ee(t.subarray(32,64));return e.cmp(he.n)>=0||r.cmp(he.n)>=0?1:(r.cmp(Lr.nh)===1&&t.set(he.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),i=e.subarray(32,64);if(new Ee(r).cmp(he.n)>=0||new Ee(i).cmp(he.n)>=0)return 1;let{output:n}=t,a=n.subarray(4,4+33);a[0]=0,a.set(r,1);let s=33,o=0;for(;s>1&&a[o]===0&&!(a[o+1]&128);--s,++o);if(a=a.subarray(o),a[0]&128||s>1&&a[0]===0&&!(a[1]&128))return 1;let f=n.subarray(6+33,6+33+33);f[0]=0,f.set(i,1);let u=33,c=0;for(;u>1&&f[c]===0&&!(f[c+1]&128);--u,++c);return f=f.subarray(c),f[0]&128||u>1&&f[0]===0&&!(f[1]&128)?1:(t.outputlen=6+s+u,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=a.length,n.set(a,4),n[4+s]=2,n[5+s]=f.length,n.set(f,6+s),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let i=e[5+r];if(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let n=e.subarray(4,4+r);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let a=e.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let s=new Ee(n);s.cmp(he.n)>=0&&(s=new Ee(0));let o=new Ee(e.subarray(6+r));return o.cmp(he.n)>=0&&(o=new Ee(0)),t.set(s.toArrayLike(Uint8Array,"be",32),0),t.set(o.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,i,n){if(n){let o=n;n=f=>{let u=o(e,r,null,i,f);if(!(u instanceof Uint8Array&&u.length===32))throw new Error("This is the way");return new Ee(u)}}let a=new Ee(r);if(a.cmp(he.n)>=0||a.isZero())return 1;let s;try{s=Lr.sign(e,r,{canonical:!0,k:n,pers:i})}catch(o){return 1}return t.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),t.recid=s.recoveryParam,0},ecdsaVerify(t,e,r){let i={r:t.subarray(0,32),s:t.subarray(32,64)},n=new Ee(i.r),a=new Ee(i.s);if(n.cmp(he.n)>=0||a.cmp(he.n)>=0)return 1;if(a.cmp(Lr.nh)===1||n.isZero()||a.isZero())return 3;let s=gi(r);if(s===null)return 2;let o=s.getPublic();return Lr.verify(e,i,o)?0:3},ecdsaRecover(t,e,r,i){let n={r:e.slice(0,32),s:e.slice(32,64)},a=new Ee(n.r),s=new Ee(n.s);if(a.cmp(he.n)>=0||s.cmp(he.n)>=0)return 1;if(a.isZero()||s.isZero())return 2;let o;try{o=Lr.recoverPubKey(i,n,r)}catch(f){return 2}return Wi(t,o),0},ecdh(t,e,r,i,n,a,s){let o=gi(e);if(o===null)return 1;let f=new Ee(r);if(f.cmp(he.n)>=0||f.isZero())return 2;let u=o.getPublic().mul(f);if(n===void 0){let c=u.encode(null,!0),d=Lr.hash().update(c).digest();for(let b=0;b<32;++b)t[b]=d[b]}else{a||(a=new Uint8Array(32));let c=u.getX().toArray("be",32);for(let v=0;v<32;++v)a[v]=c[v];s||(s=new Uint8Array(32));let d=u.getY().toArray("be",32);for(let v=0;v<32;++v)s[v]=d[v];let b=n(a,s,i);if(!(b instanceof Uint8Array&&b.length===t.length))return 2;t.set(b)}return 0}}});var $p=T((aS,Jp)=>{Jp.exports=v2()(Wp())});var eb=T((sS,Zp)=>{"use strict";var hr=$p(),Qp=Qn(),Xp="sha2-256";Zp.exports=t=>{let e=32;function r(){let c;do c=t(32);while(!hr.privateKeyVerify(c));return c}async function i(c,d){let b=await Qp.digest(d,Xp),g=hr.ecdsaSign(b,c);return hr.signatureExport(g.signature)}async function n(c,d,b){let g=await Qp.digest(b,Xp);return d=hr.signatureImport(d),hr.ecdsaVerify(d,g,c)}function a(c){if(!hr.publicKeyVerify(c))throw new Error("Invalid public key");return hr.publicKeyConvert(c,!0)}function s(c){return hr.publicKeyConvert(c,!1)}function o(c){if(!hr.privateKeyVerify(c))throw new Error("Invalid private key")}function f(c){if(!hr.publicKeyVerify(c))throw new Error("Invalid public key")}function u(c){return o(c),hr.publicKeyCreate(c)}return{generateKey:r,privateKeyLength:e,hashAndSign:i,hashAndVerify:n,compressPublicKey:a,decompressPublicKey:s,validatePrivateKey:o,validatePublicKey:f,computePublicKey:u}}});var nb=T((oS,tb)=>{"use strict";var rb=Qn(),im=lr(),ib=Ti(),nm=Ft(),am=h0();tb.exports=(t,e,r)=>{r=r||eb()(e);class i{constructor(u){r.validatePublicKey(u),this._key=u}verify(u,c){return r.hashAndVerify(this._key,c,u)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return ib(this.bytes,u.bytes)}hash(){return rb.multihashing(this.bytes,"sha2-256")}}class n{constructor(u,c){this._key=u,this._publicKey=c||r.computePublicKey(u),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(u){return r.hashAndSign(this._key,u)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(u){return ib(this.bytes,u.bytes)}hash(){return rb.multihashing(this.bytes,"sha2-256")}async id(){let u=await this.public.hash();return nm(u,"base58btc")}async export(u,c="libp2p-key"){if(c==="libp2p-key")return am.export(this.bytes,u);throw im(new Error(`export format '${c}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function a(f){return new n(f)}function s(f){return new i(f)}async function o(){let f=await r.generateKey();return new n(f)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:a,unmarshalSecp256k1PublicKey:s,generateKeyPair:o}}});var sb=T((fS,ab)=>{"use strict";ab.exports={SHA1:20,SHA256:32,SHA512:64}});var ub=T(ob=>{"use strict";var fb=Zn(),sm=sb(),om={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},fm=async(t,e)=>{let r=await fb.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};ob.create=async function(t,e){let r=om[t],i=await fb.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(n){return fm(i,n)},length:sm[t]}}});var pb=T((cS,cb)=>{"use strict";var hb=lr(),db=Ur(),um=Gt(),cm=ub(),lb={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};cb.exports=async(t,e,r)=>{let i=lb[t];if(!i){let R=Object.keys(lb).join(" / ");throw hb(new Error(`unknown cipher type '${t}'. Must be ${R}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw hb(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,a=i.ivSize,s=20,o=um("key expansion"),f=2*(a+n+s),u=await cm.create(e,r),c=await u.digest(o),d=[],b=0;for(;b<f;){let R=await u.digest(db([c,o])),P=R.length;b+P>f&&(P=f-b),d.push(R),b+=P,c=await u.digest(c)}let g=f/2,v=db(d),_=v.slice(0,g),I=v.slice(g,f),C=R=>({iv:R.slice(0,a),cipherKey:R.slice(a,a+n),macKey:R.slice(a+n)});return{k1:C(_),k2:C(I)}}});var yb=T((hS,bb)=>{"use strict";var hm=lr();bb.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw hm(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var Sb=T(vb=>{"use strict";var dm=lr(),ca=Zn(),{base64urlToBuffer:xb}=c0(),lm=yb(),cf=Ft(),pm=Ur(),bm=Ti(),gb={"P-256":256,"P-384":384,"P-521":521};vb.generateEphmeralKeyPair=async function(t){lm(Object.keys(gb),t);let e=await ca.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(n,a)=>{let s;a?s=await ca.get().subtle.importKey("jwk",vm(t,a),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):s=e.privateKey;let o=[await ca.get().subtle.importKey("jwk",mb(t,n),{name:"ECDH",namedCurve:t},!1,[]),s],f=await ca.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:o[0]},o[1],gb[t]);return new Uint8Array(f,f.byteOffset,f.byteLength)},i=await ca.get().subtle.exportKey("jwk",e.publicKey);return{key:ym(i),genSharedKey:r}};var wb={"P-256":32,"P-384":48,"P-521":66};function ym(t){let e=wb[t.crv];return pm([Uint8Array.from([4]),xb(t.x,e),xb(t.y,e)],1+e*2)}function mb(t,e){let r=wb[t];if(bm(!e.slice(0,1),Uint8Array.from([4])))throw dm(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:cf(e.slice(1,r+1),"base64url"),y:cf(e.slice(1+r),"base64url"),ext:!0}}var vm=(t,e)=>({...mb(t,e.public),d:cf(e.private,"base64url")})});var _b=T((lS,Eb)=>{"use strict";var xm=Sb();Eb.exports=async t=>xm.generateEphmeralKeyPair(t)});var kb=T((pS,Ab)=>{"use strict";var Dr=Ha();ln();w1();var hf=xe(),ha=lr(),gm=Gt(),mm=B1(),er={rsa:f2(),ed25519:b2(),secp256k1:nb()(Dr,Da())},P0={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function qn(t){let e=er[t.toLowerCase()];if(!e){let r=Object.keys(er).join(" / ");throw ha(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var wm=async(t,e)=>qn(t).generateKeyPair(e),Sm=async(t,e,r)=>{let i=qn(t);if(t.toLowerCase()!=="ed25519")throw ha(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,r)},Em=t=>{let e=Dr.PublicKey.decode(t),r=e.Data;switch(e.Type){case Dr.KeyType.RSA:return er.rsa.unmarshalRsaPublicKey(r);case Dr.KeyType.Ed25519:return er.ed25519.unmarshalEd25519PublicKey(r);case Dr.KeyType.Secp256k1:if(er.secp256k1)return er.secp256k1.unmarshalSecp256k1PublicKey(r);throw ha(new Error(P0.message),P0.code);default:qn(e.Type)}},_m=(t,e)=>(e=(e||"rsa").toLowerCase(),qn(e),t.bytes),Bb=async t=>{let e=Dr.PrivateKey.decode(t),r=e.Data;switch(e.Type){case Dr.KeyType.RSA:return er.rsa.unmarshalRsaPrivateKey(r);case Dr.KeyType.Ed25519:return er.ed25519.unmarshalEd25519PrivateKey(r);case Dr.KeyType.Secp256k1:if(er.secp256k1)return er.secp256k1.unmarshalSecp256k1PrivateKey(r);throw ha(new Error(P0.message),P0.code);default:qn(e.Type)}},Am=(t,e)=>(e=(e||"rsa").toLowerCase(),qn(e),t.bytes),Bm=async(t,e)=>{try{let n=await mm.import(t,e);return Bb(n)}catch(n){}let r=hf.pki.decryptRsaPrivateKey(t,e);if(r===null)throw ha(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=hf.asn1.toDer(hf.pki.privateKeyToAsn1(r));return i=gm(i.getBytes(),"ascii"),er.rsa.unmarshalRsaPrivateKey(i)};Ab.exports={supportedKeys:er,keysPBM:Dr,keyStretcher:pb(),generateEphemeralKeyPair:_b(),generateKeyPair:wm,generateKeyPairFromSeed:Sm,unmarshalPublicKey:Em,marshalPublicKey:_m,unmarshalPrivateKey:Bb,marshalPrivateKey:Am,import:Bm}});var Ib=T((bS,df)=>{"use strict";function km(t,{className:e,symbolName:r}){let i=Symbol.for(r),n={[e]:class extends t{constructor(...a){super(...a);Object.defineProperty(this,i,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return n[`is${e}`]=a=>!!(a&&a[i]),n}function Im(t,{className:e,symbolName:r,withoutNew:i}){let n=Symbol.for(r),a={[e]:function(...s){if(i&&!(this instanceof a))return new a(...s);let o=t.call(this,...s)||this;return o&&!o[n]&&Object.defineProperty(o,n,{value:!0}),o}}[e];return a.prototype=Object.create(t.prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,Symbol.toStringTag,{get(){return e}}),a[`is${e}`]=s=>!!(s&&s[n]),a}df.exports=km;df.exports.proto=Im});var Mb=T((yS,Cb)=>{"use strict";var Kn=Ia(),Tb=Kn.Reader,Cm=Kn.Writer,lt=Kn.util,da=Kn.roots.default||(Kn.roots.default={});da.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.id=lt.newBuffer([]),t.prototype.pubKey=lt.newBuffer([]),t.prototype.privKey=lt.newBuffer([]),t.encode=function(r,i){return i||(i=Cm.create()),i.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&i.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&i.uint32(26).bytes(r.privKey),i},t.decode=function(r,i){r instanceof Tb||(r=Tb.create(r));for(var n=i===void 0?r.len:r.pos+i,a=new da.PeerIdProto;r.pos<n;){var s=r.uint32();switch(s>>>3){case 1:a.id=r.bytes();break;case 2:a.pubKey=r.bytes();break;case 3:a.privKey=r.bytes();break;default:r.skipType(s&7);break}}if(!a.hasOwnProperty("id"))throw lt.ProtocolError("missing required 'id'",{instance:a});return a},t.fromObject=function(r){if(r instanceof da.PeerIdProto)return r;var i=new da.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?lt.base64.decode(r.id,i.id=lt.newBuffer(lt.base64.length(r.id)),0):r.id.length&&(i.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?lt.base64.decode(r.pubKey,i.pubKey=lt.newBuffer(lt.base64.length(r.pubKey)),0):r.pubKey.length&&(i.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?lt.base64.decode(r.privKey,i.privKey=lt.newBuffer(lt.base64.length(r.privKey)),0):r.privKey.length&&(i.privKey=r.privKey)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.id="":(n.id=[],i.bytes!==Array&&(n.id=lt.newBuffer(n.id))),i.bytes===String?n.pubKey="":(n.pubKey=[],i.bytes!==Array&&(n.pubKey=lt.newBuffer(n.pubKey))),i.bytes===String?n.privKey="":(n.privKey=[],i.bytes!==Array&&(n.privKey=lt.newBuffer(n.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(n.id=i.bytes===String?lt.base64.encode(r.id,0,r.id.length):i.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(n.pubKey=i.bytes===String?lt.base64.encode(r.pubKey,0,r.pubKey.length):i.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(n.privKey=i.bytes===String?lt.base64.encode(r.privKey,0,r.privKey.length):i.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Kn.util.toJSONOptions)},t}();Cb.exports=da});var bf=T((zt,Rb)=>{"use strict";var Ji=Ci(),lf=il(),qr=kb(),Tm=Ib(),{PeerIdProto:Pb}=Mb(),$i=Ti(),la=Gt(),Mm=Ft(),Nb=class{constructor(e,r,i){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&i&&!$i(r.public.bytes,i.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=Ji.toB58String(this.id),this._privKey=r,this._pubKey=i}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=Ji.decode(this.id);e.name==="identity"&&(this._pubKey=qr.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return qr.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return qr.marshalPrivateKey(this.privKey)}marshal(e){return Pb.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:Lb(this.marshalPrivKey()),pubKey:Lb(this.marshalPubKey())}}toHexString(){return Ji.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=new lf(1,"libp2p-key",this.id,"base32");Object.defineProperty(this,"_idCIDString",{value:e.toBaseEncodedString("base32"),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return $i(this.id,e);if(e.id)return $i(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&$i(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(Ji.decode(this.id).name==="identity")return!0}catch(e){}return!1}},Kr=Tm(Nb,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});zt=Rb.exports=Kr;var pa=t=>t.bytes.length<=42?Ji.encode(t.bytes,"identity"):t.hash(),pf=async(t,e)=>{let r=await pa(e);return new Kr(r,t,e)};zt.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await qr.generateKeyPair(t.keyType,t.bits);return pf(e,e.public)};zt.createFromHexString=t=>new Kr(Ji.fromHexString(t));zt.createFromBytes=t=>new Kr(t);zt.createFromB58String=t=>zt.createFromCID(t);var Rm=t=>t.codec==="libp2p-key"||t.codec==="dag-pb";zt.createFromCID=t=>{if(t=lf.isCID(t)?t:new lf(t),!Rm(t))throw new Error("Supplied PeerID CID has invalid multicodec: "+t.codec);return new Kr(t.multihash)};zt.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=la(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await qr.unmarshalPublicKey(e);return pf(null,r)};zt.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=la(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await qr.unmarshalPrivateKey(t);return pf(e,e.public)};zt.createFromJSON=async t=>{let e=Ji.fromB58String(t.id),r=t.privKey&&la(t.privKey,"base64pad"),i=t.pubKey&&la(t.pubKey,"base64pad"),n=i&&await qr.unmarshalPublicKey(i);if(!r)return new Kr(e,null,n);let a=await qr.unmarshalPrivateKey(r),s=await pa(a.public),o;if(n&&(o=await pa(n)),n&&!$i(s,o))throw new Error("Public and private key do not match");if(e&&!$i(s,e))throw new Error("Id and private key do not match");return new Kr(e,a,n)};zt.createFromProtobuf=async t=>{typeof t=="string"&&(t=la(t,"base16"));let{id:e,privKey:r,pubKey:i}=Pb.decode(t);r=r?await qr.unmarshalPrivateKey(r):!1,i=i?await qr.unmarshalPublicKey(i):!1;let n,a;if(r&&(a=await pa(r.public)),i&&(n=await pa(i)),r){if(i&&!$i(a,n))throw new Error("Public and private key do not match");return new Kr(a,r,r.public)}if(i)return new Kr(n,null,i);if(e)return new Kr(e);throw new Error("Protobuf did not contain any usable key material")};zt.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function Lb(t){if(t)return Mm(t,"base64pad")}});var Kb=T((vS,Db)=>{"use strict";var Pm=Da(),Nm=Ft(),qb=Gt(),Lm=bf(),Dm=Ci(),qm=()=>Pm(8),Km=(t,e)=>{let r=Lm.createFromB58String(t).id,i=new Uint8Array(r.length+e.length);return i.set(r,0),i.set(e,r.length),i},Fm=t=>Dm.encode(t,"sha2-256"),Om=(t,e)=>{let r;Array.isArray(e)?r=i=>e.indexOf(i)>-1:r=i=>e.has(i);for(let i of t)if(r(i))return!0;return!1},Um=t=>Array.isArray(t)?t:[t],zm=(t,e)=>{let r=Object.assign({},t);return t.from instanceof Uint8Array&&(r.from=Nm(t.from,"base58btc")),e&&(r.receivedFrom=e),r},Vm=t=>{let e=Object.assign({},t);return typeof t.from=="string"&&(e.from=qb(t.from,"base58btc")),typeof t.data=="string"&&(e.data=qb(t.data)),e};Db.exports={randomSeqno:qm,msgId:Km,noSignMsgId:Fm,anyMatch:Om,ensureArray:Um,normalizeInRpcMessage:zm,normalizeOutRpcMessage:Vm}});var Vb=T((xS,Fb)=>{"use strict";var yf=bf(),{RPC:Ob}=ms(),Ub=Ur(),Hm=Gt(),vf=Hm("libp2p-pubsub:");async function Gm(t,e){let r=Ub([vf,Ob.Message.encode(e).finish()]),i=await t.privKey.sign(r);return{...e,signature:i,key:t.pubKey.bytes}}async function jm(t){if(!t.signature)throw new Error("Message must contain a signature to be verified");let e=Ub([vf,Ob.Message.encode({...t,from:yf.createFromCID(t.from).toBytes(),signature:void 0,key:void 0}).finish()]);return(await zb(t)).verify(e,t.signature)}async function zb(t){if(!t.from)throw new Error("Could not get the public key from the originator id");let e=yf.createFromCID(t.from);if(t.key){let r=await yf.createFromPubKey(t.key);if(r.equals(e))return r.pubKey;throw new Error("Public Key does not match the originator")}else{if(e.pubKey)return e.pubKey;throw new Error("Could not get the public key from the originator id")}}Fb.exports={messagePublicKey:zb,signMessage:Gm,SignPrefix:vf,verifySignature:jm}});var xf=T((gS,Hb)=>{"use strict";var Gb=ma(),Ym=is(),Kt=lr(),{pipe:Wm}=as(),Jm=Tu(),{codes:dr}=Ru(),{RPC:jb}=ms(),$m=Zh(),{SignaturePolicy:Qr}=Xh(),Xr=Kb(),{signMessage:Zm,verifySignature:Qm}=Vb(),N0=class extends Ym{constructor({debugName:e,multicodecs:r,libp2p:i,globalSignaturePolicy:n=Qr.StrictSign,canRelayMessage:a=!1,emitSelf:s=!1}){if(typeof e!="string")throw new Error("a debugname `string` is required");if(!r)throw new Error("multicodecs are required");if(!i)throw new Error("libp2p is required");super();if(this.log=Object.assign(Gb(e),{err:Gb(`${e}:error`)}),this.multicodecs=Xr.ensureArray(r),this._libp2p=i,this.registrar=i.registrar,this.peerId=i.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!Qr[n])throw Kt(new Error("Invalid global signature policy"),dr.ERR_INVALID_SIGNATURE_POLICY);this.globalSignaturePolicy=n,this.canRelayMessage=a,this.emitSelf=s,this.topicValidators=new Map,this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){if(this.started)return;this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream);let e=new Jm({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}});this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0}stop(){!this.started||(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:r,connection:i}){let n=i.remotePeer,a=n.toB58String(),s=this._addPeer(n,e),o=s.attachInboundStream(r);this._processMessages(a,o,s)}async _onPeerConnected(e,r){let i=e.toB58String();this.log("connected",i);try{let{stream:n,protocol:a}=await r.newStream(this.multicodecs);await this._addPeer(e,a).attachOutboundStream(n)}catch(n){this.log.err(n)}this._sendSubscriptions(i,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,r){let i=e.toB58String();this.log("connection ended",i,r?r.message:""),this._removePeer(e)}_addPeer(e,r){let i=e.toB58String(),n=this.peers.get(i);if(n)return n;this.log("new peer",i);let a=new $m({id:e,protocol:r});return this.peers.set(i,a),a.once("close",()=>this._removePeer(e)),a}_removePeer(e){if(!e)return;let r=e.toB58String(),i=this.peers.get(r);if(!!i){i.removeAllListeners(),i.close(),this.log("delete peer",r),this.peers.delete(r);for(let n of this.topics.values())n.delete(r);return i}}async _processMessages(e,r,i){try{await Wm(r,async n=>{for await(let a of n){let s=a instanceof Uint8Array?a:a.slice(),o=this._decodeRpc(s);this._processRpc(e,i,o)}})}catch(n){this._onPeerDisconnected(i.id,n)}}_processRpc(e,r,i){this.log("rpc from",e);let n=i.subscriptions,a=i.msgs;return n.length&&(n.forEach(s=>{this._processRpcSubOpt(e,s)}),this.emit("pubsub:subscription-change",r.id,n)),this._acceptFrom(e)?(a.length&&a.forEach(s=>{if(!(this.canRelayMessage||s.topicIDs&&s.topicIDs.some(f=>this.subscriptions.has(f)))){this.log("received message we didn't subscribe to. Dropping.");return}let o=Xr.normalizeInRpcMessage(s,e);this._processRpcMessage(o)}),!0):(this.log("received message from unacceptable peer %s",e),!1)}_processRpcSubOpt(e,r){let i=r.topicID;if(!i)return;let n=this.topics.get(i);n||(n=new Set,this.topics.set(i,n)),r.subscribe?n.add(e):n.delete(e)}async _processRpcMessage(e){if(!(this.peerId.toB58String()===e.from&&!this.emitSelf)){try{await this.validate(e)}catch(r){this.log("Message is invalid, dropping it. %O",r);return}this._emitMessage(e),this._publish(Xr.normalizeOutRpcMessage(e))}}_emitMessage(e){e.topicIDs.forEach(r=>{this.subscriptions.has(r)&&this.emit(r,e)})}getMsgId(e){let r=this.globalSignaturePolicy;switch(r){case Qr.StrictSign:return Xr.msgId(e.from,e.seqno);case Qr.StrictNoSign:return Xr.noSignMsgId(e.data);default:throw Kt(new Error("Cannot get message id: unhandled signature policy: "+r),dr.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return jb.decode(e)}_encodeRpc(e){return jb.encode(e).finish()}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable){let n=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(n);return}i.write(this._encodeRpc(r))}_sendSubscriptions(e,r,i){return this._sendRpc(e,{subscriptions:r.map(n=>({topicID:n,subscribe:i}))})}async validate(e){let r=this.globalSignaturePolicy;switch(r){case Qr.StrictNoSign:if(e.from)throw Kt(new Error("StrictNoSigning: from should not be present"),dr.ERR_UNEXPECTED_FROM);if(e.signature)throw Kt(new Error("StrictNoSigning: signature should not be present"),dr.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw Kt(new Error("StrictNoSigning: key should not be present"),dr.ERR_UNEXPECTED_KEY);if(e.seqno)throw Kt(new Error("StrictNoSigning: seqno should not be present"),dr.ERR_UNEXPECTED_SEQNO);break;case Qr.StrictSign:if(!e.signature)throw Kt(new Error("StrictSigning: Signing required and no signature was present"),dr.ERR_MISSING_SIGNATURE);if(!e.seqno)throw Kt(new Error("StrictSigning: Signing required and no seqno was present"),dr.ERR_MISSING_SEQNO);if(!await Qm(e))throw Kt(new Error("StrictSigning: Invalid message signature"),dr.ERR_INVALID_SIGNATURE);break;default:throw Kt(new Error("Cannot validate message: unhandled signature policy: "+r),dr.ERR_UNHANDLED_SIGNATURE_POLICY)}for(let i of e.topicIDs){let n=this.topicValidators.get(i);n&&await n(i,e)}}_buildMessage(e){let r=this.globalSignaturePolicy;switch(r){case Qr.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=Xr.randomSeqno(),Zm(this.peerId,Xr.normalizeOutRpcMessage(e));case Qr.StrictNoSign:return Promise.resolve(e);default:throw Kt(new Error("Cannot build message: unhandled signature policy: "+r),dr.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw Kt(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||typeof e!="string")throw Kt(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");let r=this.topics.get(e);return r?Array.from(r):[]}async publish(e,r){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,r);let n={receivedFrom:this.peerId.toB58String(),data:r,topicIDs:[e]},a=await this._buildMessage(n),s=Xr.normalizeInRpcMessage(a);this.emitSelf&&this._emitMessage(s),await this._publish(s)}_publish(e){throw Kt(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(e){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(e)||(this.subscriptions.add(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!0)))}unsubscribe(e){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(e)&&this.listenerCount(e)===0&&(this.subscriptions.delete(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}};N0.utils=Xr;N0.SignaturePolicy=Qr;Hb.exports=N0});var Jb=T((mS,Yb)=>{"use strict";var Wb=ma(),Xm=Object.assign(Wb("libp2p:floodsub"),{error:Wb("libp2p:floodsub:err")});Yb.exports={log:Xm,multicodec:"/floodsub/1.0.0"}});var a9=T((wS,gf)=>{"use strict";var e9="libp2p:floodsub",t9=zf(),r9=Ft(),i9=xf(),{utils:n9}=xf(),{multicodec:$b}=Jb(),Zb=class extends i9{constructor(e,r={}){super({debugName:e9,multicodecs:$b,libp2p:e,canRelayMessage:!0,...r});this.seenCache=new t9}async _processRpcMessage(e){let r=this.getMsgId(e),i=r9(r,"base64");this.seenCache.has(i)||(this.seenCache.put(i),await super._processRpcMessage(e))}_publish(e){return this._forwardMessage(e),Promise.resolve()}_forwardMessage(e){e.topicIDs.forEach(r=>{let i=this.topics.get(r);!i||i.forEach(n=>{this.log("publish msgs on topics",e.topicIDs,n),n!==this.peerId.toB58String()&&this._sendRpc(n,{msgs:[n9.normalizeOutRpcMessage(e)]})})})}};gf.exports=Zb;gf.exports.multicodec=$b});return a9();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pFloodsub}));
