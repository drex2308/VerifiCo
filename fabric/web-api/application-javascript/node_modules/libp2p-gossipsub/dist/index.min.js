(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pGossipsub = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pGossipsub=(()=>{var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Fc=C((zw,qc)=>{var gn=1e3,vn=gn*60,xn=vn*60,qi=xn*24,Kg=qi*7,Ug=qi*365.25;qc.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return zg(t);if(r==="number"&&isFinite(t))return e.long?Vg(t):Gg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function zg(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*Ug;case"weeks":case"week":case"w":return r*Kg;case"days":case"day":case"d":return r*qi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*xn;case"minutes":case"minute":case"mins":case"min":case"m":return r*vn;case"seconds":case"second":case"secs":case"sec":case"s":return r*gn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Gg(t){var e=Math.abs(t);return e>=qi?Math.round(t/qi)+"d":e>=xn?Math.round(t/xn)+"h":e>=vn?Math.round(t/vn)+"m":e>=gn?Math.round(t/gn)+"s":t+"ms"}function Vg(t){var e=Math.abs(t);return e>=qi?Ws(t,e,qi,"day"):e>=xn?Ws(t,e,xn,"hour"):e>=vn?Ws(t,e,vn,"minute"):e>=gn?Ws(t,e,gn,"second"):t+" ms"}function Ws(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var Uc=C((Gw,Kc)=>{function Hg(t){r.debug=r,r.default=r,r.coerce=o,r.disable=s,r.enable=n,r.enabled=a,r.humanize=Fc(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let h=0;for(let b=0;b<u.length;b++)h=(h<<5)-h+u.charCodeAt(b),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(u){let h,b=null;function g(...y){if(!g.enabled)return;let S=g,I=Number(new Date),B=I-(h||I);S.diff=B,S.prev=h,S.curr=I,h=I,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let R=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(F,L)=>{if(F==="%%")return"%";R++;let D=r.formatters[L];if(typeof D=="function"){let j=y[R];F=D.call(S,j),y.splice(R,1),R--}return F}),r.formatArgs.call(S,y),(S.log||r.log).apply(S,y)}return g.namespace=u,g.useColors=r.useColors(),g.color=r.selectColor(u),g.extend=i,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>b===null?r.enabled(u):b,set:y=>{b=y}}),typeof r.init=="function"&&r.init(g),g}function i(u,h){let b=r(this.namespace+(typeof h=="undefined"?":":h)+u);return b.log=this.log,b}function n(u){r.save(u),r.names=[],r.skips=[];let h,b=(typeof u=="string"?u:"").split(/[\s,]+/),g=b.length;for(h=0;h<g;h++)!b[h]||(u=b[h].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let h,b;for(h=0,b=r.skips.length;h<b;h++)if(r.skips[h].test(u))return!1;for(h=0,b=r.names.length;h<b;h++)if(r.names[h].test(u))return!0;return!1}function f(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function o(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Kc.exports=Hg});var Js=C((Wt,Ys)=>{Wt.formatArgs=jg;Wt.save=Wg;Wt.load=Yg;Wt.useColors=Jg;Wt.storage=Zg();Wt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Jg(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function jg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ys.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}Wt.log=console.debug||console.log||(()=>{});function Wg(t){try{t?Wt.storage.setItem("debug",t):Wt.storage.removeItem("debug")}catch(e){}}function Yg(){let t;try{t=Wt.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Zg(){try{return localStorage}catch(t){}}Ys.exports=Uc()(Wt);var{formatters:Xg}=Ys.exports;Xg.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Yo=C((Vw,Wo)=>{"use strict";var mn=typeof Reflect=="object"?Reflect:null,zc=mn&&typeof mn.apply=="function"?mn.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},Zs;mn&&typeof mn.ownKeys=="function"?Zs=mn.ownKeys:Object.getOwnPropertySymbols?Zs=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Zs=function(e){return Object.getOwnPropertyNames(e)};function Qg(t){console&&console.warn&&console.warn(t)}var Gc=Number.isNaN||function(e){return e!==e};function _e(){_e.init.call(this)}Wo.exports=_e;Wo.exports.once=$g;_e.EventEmitter=_e;_e.prototype._events=void 0;_e.prototype._eventsCount=0;_e.prototype._maxListeners=void 0;var Vc=10;function Xs(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(_e,"defaultMaxListeners",{enumerable:!0,get:function(){return Vc},set:function(t){if(typeof t!="number"||t<0||Gc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Vc=t}});_e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};_e.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Gc(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Hc(t){return t._maxListeners===void 0?_e.defaultMaxListeners:t._maxListeners}_e.prototype.getMaxListeners=function(){return Hc(this)};_e.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var f=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw f.context=a,f}var o=s[e];if(o===void 0)return!1;if(typeof o=="function")zc(o,this,r);else for(var c=o.length,u=jc(o,c),i=0;i<c;++i)zc(u[i],this,r);return!0};function Wc(t,e,r,i){var n,s,a;if(Xs(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),n=Hc(t),n>0&&a.length>n&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=a.length,Qg(f)}return t}_e.prototype.addListener=function(e,r){return Wc(this,e,r,!1)};_e.prototype.on=_e.prototype.addListener;_e.prototype.prependListener=function(e,r){return Wc(this,e,r,!0)};function ev(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Yc(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=ev.bind(i);return n.listener=r,i.wrapFn=n,n}_e.prototype.once=function(e,r){return Xs(r),this.on(e,Yc(this,e,r)),this};_e.prototype.prependOnceListener=function(e,r){return Xs(r),this.prependListener(e,Yc(this,e,r)),this};_e.prototype.removeListener=function(e,r){var i,n,s,a,f;if(Xs(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(s=-1,a=i.length-1;a>=0;a--)if(i[a]===r||i[a].listener===r){f=i[a].listener,s=a;break}if(s<0)return this;s===0?i.shift():tv(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this};_e.prototype.off=_e.prototype.removeListener;_e.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),a;for(n=0;n<s.length;++n)a=s[n],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function Jc(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?rv(n):jc(n,n.length)}_e.prototype.listeners=function(e){return Jc(this,e,!0)};_e.prototype.rawListeners=function(e){return Jc(this,e,!1)};_e.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Zc.call(t,e)};_e.prototype.listenerCount=Zc;function Zc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}_e.prototype.eventNames=function(){return this._eventsCount>0?Zs(this._events):[]};function jc(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function tv(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function rv(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function $g(t,e){return new Promise(function(r,i){function n(a){t.removeListener(e,s),i(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}Xc(t,e,s,{once:!0}),e!=="error"&&iv(t,n,{once:!0})})}function iv(t,e,r){typeof t.on=="function"&&Xc(t,"error",e,r)}function Xc(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(s){i.once&&t.removeEventListener(e,n),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var eu=C((Hw,Qc)=>{"use strict";function $c(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function nv(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return $c(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),$c(new n,r)}}Qc.exports=nv});var Zo=C((jw,wn)=>{var tu=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},Jo=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),Qs=t=>t&&typeof t.sink=="function"&&Jo(t.source),sv=t=>e=>(t.sink(e),t.source),ru=(...t)=>{if(Qs(t[0])){let e=t[0];t[0]=()=>e.source}else if(Jo(t[0])){let e=t[0];t[0]=()=>e}if(t.length>1&&Qs(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)Qs(t[e])&&(t[e]=sv(t[e]));return tu(...t)};wn.exports=ru;wn.exports.pipe=ru;wn.exports.rawPipe=tu;wn.exports.isIterable=Jo;wn.exports.isDuplex=Qs});var ou=C((Ww,iu)=>{"use strict";var nu=()=>{},su=Symbol.for("@libp2p/js-interfaces/topology"),au=class{constructor({min:e=0,max:r=Infinity,handlers:i={}}){this.min=e,this.max=r,this._onConnect=i.onConnect||nu,this._onDisconnect=i.onDisconnect||nu,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[su](){return!0}static isTopology(e){return Boolean(e&&e[su])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};iu.exports=au});var hu=C((Yw,fu)=>{"use strict";var av=ou(),cu=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),uu=class extends av{constructor({min:e,max:r,multicodecs:i,handlers:n}){super({min:e,max:r,handlers:n});if(!i)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if(typeof n.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof n.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(i)?i:[i],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[cu](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[cu])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:r,protocols:i}of e)if(this.multicodecs.filter(n=>i.includes(n)).length){this.peers.add(r.toB58String());let n=this._registrar.getConnection(r);n&&this._onConnect(r,n)}else this.peers.delete(r.toB58String())}_onProtocolChange({peerId:e,protocols:r}){let i=this.peers.has(e.toB58String()),n=r.filter(s=>this.multicodecs.includes(s));i&&n.length===0&&this._onDisconnect(e);for(let s of r)if(this.multicodecs.includes(s)){let a=this._registrar.peerStore.get(e);this._updatePeers([a]);return}}_onPeerConnect(e){let r=e.remotePeer,i=this._registrar.peerStore.protoBook.get(r);!i||this.multicodecs.find(n=>i.includes(n))&&(this.peers.add(r.toB58String()),this._onConnect(r,e))}};fu.exports=uu});var $s=C(lu=>{"use strict";lu.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}});var pu=C((Zw,du)=>{"use strict";du.exports=ov;function ov(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(f,o){r[i]=function(u){if(s)if(s=!1,u)o(u);else{for(var h=new Array(arguments.length-1),b=0;b<h.length;)h[b++]=arguments[b];f.apply(null,h)}};try{t.apply(e||null,r)}catch(c){s&&(s=!1,o(c))}})}});var vu=C(bu=>{"use strict";var ea=bu;ea.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var _n=new Array(64),yu=new Array(123);for(var _r=0;_r<64;)yu[_n[_r]=_r<26?_r+65:_r<52?_r+71:_r<62?_r-4:_r-59|43]=_r++;ea.encode=function(e,r,i){for(var n=null,s=[],a=0,f=0,o;r<i;){var c=e[r++];switch(f){case 0:s[a++]=_n[c>>2],o=(c&3)<<4,f=1;break;case 1:s[a++]=_n[o|c>>4],o=(c&15)<<2,f=2;break;case 2:s[a++]=_n[o|c>>6],s[a++]=_n[c&63],f=0;break}a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0)}return f&&(s[a++]=_n[o],s[a++]=61,f===1&&(s[a++]=61)),n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var gu="invalid encoding";ea.decode=function(e,r,i){for(var n=i,s=0,a,f=0;f<e.length;){var o=e.charCodeAt(f++);if(o===61&&s>1)break;if((o=yu[o])===void 0)throw Error(gu);switch(s){case 0:a=o,s=1;break;case 1:r[i++]=a<<2|(o&48)>>4,a=o,s=2;break;case 2:r[i++]=(a&15)<<4|(o&60)>>2,a=o,s=3;break;case 3:r[i++]=(a&3)<<6|o,s=0;break}}if(s===1)throw Error(gu);return i-n};ea.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var mu=C((Qw,xu)=>{"use strict";xu.exports=ta;function ta(){this._listeners={}}ta.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};ta.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};ta.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var Bu=C(($w,wu)=>{"use strict";wu.exports=_u(_u);function _u(t){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(o,c,u){e[0]=o,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3]}function s(o,c,u){e[0]=o,c[u]=r[3],c[u+1]=r[2],c[u+2]=r[1],c[u+3]=r[0]}t.writeFloatLE=i?n:s,t.writeFloatBE=i?s:n;function a(o,c){return r[0]=o[c],r[1]=o[c+1],r[2]=o[c+2],r[3]=o[c+3],e[0]}function f(o,c){return r[3]=o[c],r[2]=o[c+1],r[1]=o[c+2],r[0]=o[c+3],e[0]}t.readFloatLE=i?a:f,t.readFloatBE=i?f:a}():function(){function e(i,n,s,a){var f=n<0?1:0;if(f&&(n=-n),n===0)i(1/n>0?0:2147483648,s,a);else if(isNaN(n))i(2143289344,s,a);else if(n>34028234663852886e22)i((f<<31|2139095040)>>>0,s,a);else if(n<11754943508222875e-54)i((f<<31|Math.round(n/1401298464324817e-60))>>>0,s,a);else{var o=Math.floor(Math.log(n)/Math.LN2),c=Math.round(n*Math.pow(2,-o)*8388608)&8388607;i((f<<31|o+127<<23|c)>>>0,s,a)}}t.writeFloatLE=e.bind(null,Eu),t.writeFloatBE=e.bind(null,Su);function r(i,n,s){var a=i(n,s),f=(a>>31)*2+1,o=a>>>23&255,c=a&8388607;return o===255?c?NaN:f*Infinity:o===0?f*1401298464324817e-60*c:f*Math.pow(2,o-150)*(c+8388608)}t.readFloatLE=r.bind(null,Iu),t.readFloatBE=r.bind(null,Au)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(o,c,u){e[0]=o,c[u]=r[0],c[u+1]=r[1],c[u+2]=r[2],c[u+3]=r[3],c[u+4]=r[4],c[u+5]=r[5],c[u+6]=r[6],c[u+7]=r[7]}function s(o,c,u){e[0]=o,c[u]=r[7],c[u+1]=r[6],c[u+2]=r[5],c[u+3]=r[4],c[u+4]=r[3],c[u+5]=r[2],c[u+6]=r[1],c[u+7]=r[0]}t.writeDoubleLE=i?n:s,t.writeDoubleBE=i?s:n;function a(o,c){return r[0]=o[c],r[1]=o[c+1],r[2]=o[c+2],r[3]=o[c+3],r[4]=o[c+4],r[5]=o[c+5],r[6]=o[c+6],r[7]=o[c+7],e[0]}function f(o,c){return r[7]=o[c],r[6]=o[c+1],r[5]=o[c+2],r[4]=o[c+3],r[3]=o[c+4],r[2]=o[c+5],r[1]=o[c+6],r[0]=o[c+7],e[0]}t.readDoubleLE=i?a:f,t.readDoubleBE=i?f:a}():function(){function e(i,n,s,a,f,o){var c=a<0?1:0;if(c&&(a=-a),a===0)i(0,f,o+n),i(1/a>0?0:2147483648,f,o+s);else if(isNaN(a))i(0,f,o+n),i(2146959360,f,o+s);else if(a>17976931348623157e292)i(0,f,o+n),i((c<<31|2146435072)>>>0,f,o+s);else{var u;if(a<22250738585072014e-324)u=a/5e-324,i(u>>>0,f,o+n),i((c<<31|u/4294967296)>>>0,f,o+s);else{var h=Math.floor(Math.log(a)/Math.LN2);h===1024&&(h=1023),u=a*Math.pow(2,-h),i(u*4503599627370496>>>0,f,o+n),i((c<<31|h+1023<<20|u*1048576&1048575)>>>0,f,o+s)}}}t.writeDoubleLE=e.bind(null,Eu,0,4),t.writeDoubleBE=e.bind(null,Su,4,0);function r(i,n,s,a,f){var o=i(a,f+n),c=i(a,f+s),u=(c>>31)*2+1,h=c>>>20&2047,b=4294967296*(c&1048575)+o;return h===2047?b?NaN:u*Infinity:h===0?u*5e-324*b:u*Math.pow(2,h-1075)*(b+4503599627370496)}t.readDoubleLE=r.bind(null,Iu,0,4),t.readDoubleBE=r.bind(null,Au,4,0)}(),t}function Eu(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Su(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Iu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Au(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var ku=C((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Tu=C(Cu=>{"use strict";var Xo=Cu;Xo.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)==55296&&(e.charCodeAt(n+1)&64512)==56320?(++n,r+=4):r+=3;return r};Xo.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var s=null,a=[],f=0,o;r<i;)o=e[r++],o<128?a[f++]=o:o>191&&o<224?a[f++]=(o&31)<<6|e[r++]&63:o>239&&o<365?(o=((o&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[f++]=55296+(o>>10),a[f++]=56320+(o&1023)):a[f++]=(o&15)<<12|(e[r++]&63)<<6|e[r++]&63,f>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),f=0);return s?(f&&s.push(String.fromCharCode.apply(String,a.slice(0,f))),s.join("")):String.fromCharCode.apply(String,a.slice(0,f))};Xo.write=function(e,r,i){for(var n=i,s,a,f=0;f<e.length;++f)s=e.charCodeAt(f),s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):(s&64512)==55296&&((a=e.charCodeAt(f+1))&64512)==56320?(s=65536+((s&1023)<<10)+(a&1023),++f,r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128);return i-n}});var Mu=C((t_,Ru)=>{"use strict";Ru.exports=fv;function fv(t,e,r){var i=r||8192,n=i>>>1,s=null,a=i;return function(o){if(o<1||o>n)return t(o);a+o>i&&(s=t(i),a=0);var c=e.call(s,a,a+=o);return a&7&&(a=(a|7)+1),c}}});var Du=C((r_,Pu)=>{"use strict";Pu.exports=mt;var hs=bi();function mt(t,e){this.lo=t>>>0,this.hi=e>>>0}var Fi=mt.zero=new mt(0,0);Fi.toNumber=function(){return 0};Fi.zzEncode=Fi.zzDecode=function(){return this};Fi.length=function(){return 1};var cv=mt.zeroHash="\0\0\0\0\0\0\0\0";mt.fromNumber=function(e){if(e===0)return Fi;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new mt(i,n)};mt.from=function(e){if(typeof e=="number")return mt.fromNumber(e);if(hs.isString(e))if(hs.Long)e=hs.Long.fromString(e);else return mt.fromNumber(parseInt(e,10));return e.low||e.high?new mt(e.low>>>0,e.high>>>0):Fi};mt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};mt.prototype.toLong=function(e){return hs.Long?new hs.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var yi=String.prototype.charCodeAt;mt.fromHash=function(e){return e===cv?Fi:new mt((yi.call(e,0)|yi.call(e,1)<<8|yi.call(e,2)<<16|yi.call(e,3)<<24)>>>0,(yi.call(e,4)|yi.call(e,5)<<8|yi.call(e,6)<<16|yi.call(e,7)<<24)>>>0)};mt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};mt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};mt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};mt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var bi=C(Qo=>{"use strict";var Z=Qo;Z.asPromise=pu();Z.base64=vu();Z.EventEmitter=mu();Z.float=Bu();Z.inquire=ku();Z.utf8=Tu();Z.pool=Mu();Z.LongBits=Du();Z.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);Z.global=Z.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||Qo;Z.emptyArray=Object.freeze?Object.freeze([]):[];Z.emptyObject=Object.freeze?Object.freeze({}):{};Z.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Z.isString=function(e){return typeof e=="string"||e instanceof String};Z.isObject=function(e){return e&&typeof e=="object"};Z.isset=Z.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};Z.Buffer=function(){try{var t=Z.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}();Z._Buffer_from=null;Z._Buffer_allocUnsafe=null;Z.newBuffer=function(e){return typeof e=="number"?Z.Buffer?Z._Buffer_allocUnsafe(e):new Z.Array(e):Z.Buffer?Z._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};Z.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;Z.Long=Z.global.dcodeIO&&Z.global.dcodeIO.Long||Z.global.Long||Z.inquire("long");Z.key2Re=/^true|false|0|1$/;Z.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Z.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Z.longToHash=function(e){return e?Z.LongBits.from(e).toHash():Z.LongBits.zeroHash};Z.longFromHash=function(e,r){var i=Z.LongBits.fromHash(e);return Z.Long?Z.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function Ou(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}Z.merge=Ou;Z.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Nu(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&Ou(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}Z.newError=Nu;Z.ProtocolError=Nu("ProtocolError");Z.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(r[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};Z.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};Z.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Z._configure=function(){var t=Z.Buffer;if(!t){Z._Buffer_from=Z._Buffer_allocUnsafe=null;return}Z._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},Z._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var s0=C((n_,Lu)=>{"use strict";Lu.exports=be;var Qt=bi(),$o,ra=Qt.LongBits,qu=Qt.base64,Fu=Qt.utf8;function ls(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function e0(){}function uv(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function be(){this.len=0,this.head=new ls(e0,0,0),this.tail=this.head,this.states=null}var Ku=function(){return Qt.Buffer?function(){return(be.create=function(){return new $o})()}:function(){return new be}};be.create=Ku();be.alloc=function(e){return new Qt.Array(e)};Qt.Array!==Array&&(be.alloc=Qt.pool(be.alloc,Qt.Array.prototype.subarray));be.prototype._push=function(e,r,i){return this.tail=this.tail.next=new ls(e,r,i),this.len+=r,this};function t0(t,e,r){e[r]=t&255}function hv(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function r0(t,e){this.len=t,this.next=void 0,this.val=e}r0.prototype=Object.create(ls.prototype);r0.prototype.fn=hv;be.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new r0((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};be.prototype.int32=function(e){return e<0?this._push(i0,10,ra.fromNumber(e)):this.uint32(e)};be.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function i0(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}be.prototype.uint64=function(e){var r=ra.from(e);return this._push(i0,r.length(),r)};be.prototype.int64=be.prototype.uint64;be.prototype.sint64=function(e){var r=ra.from(e).zzEncode();return this._push(i0,r.length(),r)};be.prototype.bool=function(e){return this._push(t0,1,e?1:0)};function n0(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}be.prototype.fixed32=function(e){return this._push(n0,4,e>>>0)};be.prototype.sfixed32=be.prototype.fixed32;be.prototype.fixed64=function(e){var r=ra.from(e);return this._push(n0,4,r.lo)._push(n0,4,r.hi)};be.prototype.sfixed64=be.prototype.fixed64;be.prototype.float=function(e){return this._push(Qt.float.writeFloatLE,4,e)};be.prototype.double=function(e){return this._push(Qt.float.writeDoubleLE,8,e)};var lv=Qt.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};be.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(t0,1,0);if(Qt.isString(e)){var i=be.alloc(r=qu.length(e));qu.decode(e,i,0),e=i}return this.uint32(r)._push(lv,r,e)};be.prototype.string=function(e){var r=Fu.length(e);return r?this.uint32(r)._push(Fu.write,r,e):this._push(t0,1,0)};be.prototype.fork=function(){return this.states=new uv(this),this.head=this.tail=new ls(e0,0,0),this.len=0,this};be.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ls(e0,0,0),this.len=0),this};be.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};be.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};be._configure=function(t){$o=t,be.create=Ku(),$o._configure()}});var Gu=C((s_,Uu)=>{"use strict";Uu.exports=Er;var zu=s0();(Er.prototype=Object.create(zu.prototype)).constructor=Er;var gi=bi();function Er(){zu.call(this)}Er._configure=function(){Er.alloc=gi._Buffer_allocUnsafe,Er.writeBytesBuffer=gi.Buffer&&gi.Buffer.prototype instanceof Uint8Array&&gi.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};Er.prototype.bytes=function(e){gi.isString(e)&&(e=gi._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Er.writeBytesBuffer,r,e),this};function dv(t,e,r){t.length<40?gi.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Er.prototype.string=function(e){var r=gi.Buffer.byteLength(e);return this.uint32(r),r&&this._push(dv,r,e),this};Er._configure()});var f0=C((a_,Vu)=>{"use strict";Vu.exports=qe;var Sr=bi(),a0,Hu=Sr.LongBits,pv=Sr.utf8;function cr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function qe(t){this.buf=t,this.pos=0,this.len=t.length}var ju=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new qe(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new qe(e);throw Error("illegal buffer")},Wu=function(){return Sr.Buffer?function(r){return(qe.create=function(n){return Sr.Buffer.isBuffer(n)?new a0(n):ju(n)})(r)}:ju};qe.create=Wu();qe.prototype._slice=Sr.Array.prototype.subarray||Sr.Array.prototype.slice;qe.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,cr(this,10);return e}}();qe.prototype.int32=function(){return this.uint32()|0};qe.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function o0(){var t=new Hu(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw cr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw cr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}qe.prototype.bool=function(){return this.uint32()!==0};function ia(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}qe.prototype.fixed32=function(){if(this.pos+4>this.len)throw cr(this,4);return ia(this.buf,this.pos+=4)};qe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw cr(this,4);return ia(this.buf,this.pos+=4)|0};function Yu(){if(this.pos+8>this.len)throw cr(this,8);return new Hu(ia(this.buf,this.pos+=4),ia(this.buf,this.pos+=4))}qe.prototype.float=function(){if(this.pos+4>this.len)throw cr(this,4);var e=Sr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};qe.prototype.double=function(){if(this.pos+8>this.len)throw cr(this,4);var e=Sr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};qe.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw cr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};qe.prototype.string=function(){var e=this.bytes();return pv.read(e,0,e.length)};qe.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw cr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw cr(this);while(this.buf[this.pos++]&128);return this};qe.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};qe._configure=function(t){a0=t,qe.create=Wu(),a0._configure();var e=Sr.Long?"toLong":"toNumber";Sr.merge(qe.prototype,{int64:function(){return o0.call(this)[e](!1)},uint64:function(){return o0.call(this)[e](!0)},sint64:function(){return o0.call(this).zzDecode()[e](!1)},fixed64:function(){return Yu.call(this)[e](!0)},sfixed64:function(){return Yu.call(this)[e](!1)}})}});var Qu=C((o_,Ju)=>{"use strict";Ju.exports=Ki;var Zu=f0();(Ki.prototype=Object.create(Zu.prototype)).constructor=Ki;var Xu=bi();function Ki(t){Zu.call(this,t)}Ki._configure=function(){Xu.Buffer&&(Ki.prototype._slice=Xu.Buffer.prototype.slice)};Ki.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ki._configure()});var eh=C((f_,$u)=>{"use strict";$u.exports=ds;var c0=bi();(ds.prototype=Object.create(c0.EventEmitter.prototype)).constructor=ds;function ds(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");c0.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}ds.prototype.rpcCall=function t(e,r,i,n,s){if(!n)throw TypeError("request must be specified");var a=this;if(!s)return c0.asPromise(t,a,e,r,i,n);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(o,c){if(o)return a.emit("error",o,e),s(o);if(c===null){a.end(!0);return}if(!(c instanceof i))try{c=i[a.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return a.emit("error",u,e),s(u)}return a.emit("data",c,e),s(null,c)})}catch(f){a.emit("error",f,e),setTimeout(function(){s(f)},0);return}};ds.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var rh=C(th=>{"use strict";var bv=th;bv.Service=eh()});var nh=C((u_,ih)=>{"use strict";ih.exports={}});var oh=C(sh=>{"use strict";var Kt=sh;Kt.build="minimal";Kt.Writer=s0();Kt.BufferWriter=Gu();Kt.Reader=f0();Kt.BufferReader=Qu();Kt.util=bi();Kt.rpc=rh();Kt.roots=nh();Kt.configure=ah;function ah(){Kt.util._configure(),Kt.Writer._configure(Kt.BufferWriter),Kt.Reader._configure(Kt.BufferReader)}ah()});var En=C((l_,fh)=>{"use strict";fh.exports=oh()});var h0=C((d_,ch)=>{"use strict";var vi=En(),Sn=vi.Reader,u0=vi.Writer,ye=vi.util,vt=vi.roots["libp2p-pubsub-rpc"]||(vi.roots["libp2p-pubsub-rpc"]={});vt.RPC=function(){function t(e){if(this.subscriptions=[],this.msgs=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.subscriptions=ye.emptyArray,t.prototype.msgs=ye.emptyArray,t.encode=function(r,i){if(i||(i=u0.create()),r.subscriptions!=null&&r.subscriptions.length)for(var n=0;n<r.subscriptions.length;++n)vt.RPC.SubOpts.encode(r.subscriptions[n],i.uint32(10).fork()).ldelim();if(r.msgs!=null&&r.msgs.length)for(var n=0;n<r.msgs.length;++n)vt.RPC.Message.encode(r.msgs[n],i.uint32(18).fork()).ldelim();return i},t.decode=function(r,i){r instanceof Sn||(r=Sn.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new vt.RPC;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.subscriptions&&s.subscriptions.length||(s.subscriptions=[]),s.subscriptions.push(vt.RPC.SubOpts.decode(r,r.uint32()));break;case 2:s.msgs&&s.msgs.length||(s.msgs=[]),s.msgs.push(vt.RPC.Message.decode(r,r.uint32()));break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof vt.RPC)return r;var i=new vt.RPC;if(r.subscriptions){if(!Array.isArray(r.subscriptions))throw TypeError(".RPC.subscriptions: array expected");i.subscriptions=[];for(var n=0;n<r.subscriptions.length;++n){if(typeof r.subscriptions[n]!="object")throw TypeError(".RPC.subscriptions: object expected");i.subscriptions[n]=vt.RPC.SubOpts.fromObject(r.subscriptions[n])}}if(r.msgs){if(!Array.isArray(r.msgs))throw TypeError(".RPC.msgs: array expected");i.msgs=[];for(var n=0;n<r.msgs.length;++n){if(typeof r.msgs[n]!="object")throw TypeError(".RPC.msgs: object expected");i.msgs[n]=vt.RPC.Message.fromObject(r.msgs[n])}}return i},t.toObject=function(r,i){i||(i={});var n={};if((i.arrays||i.defaults)&&(n.subscriptions=[],n.msgs=[]),r.subscriptions&&r.subscriptions.length){n.subscriptions=[];for(var s=0;s<r.subscriptions.length;++s)n.subscriptions[s]=vt.RPC.SubOpts.toObject(r.subscriptions[s],i)}if(r.msgs&&r.msgs.length){n.msgs=[];for(var s=0;s<r.msgs.length;++s)n.msgs[s]=vt.RPC.Message.toObject(r.msgs[s],i)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,vi.util.toJSONOptions)},t.SubOpts=function(){function e(r){if(r)for(var i=Object.keys(r),n=0;n<i.length;++n)r[i[n]]!=null&&(this[i[n]]=r[i[n]])}return e.prototype.subscribe=!1,e.prototype.topicID="",e.encode=function(i,n){return n||(n=u0.create()),i.subscribe!=null&&Object.hasOwnProperty.call(i,"subscribe")&&n.uint32(8).bool(i.subscribe),i.topicID!=null&&Object.hasOwnProperty.call(i,"topicID")&&n.uint32(18).string(i.topicID),n},e.decode=function(i,n){i instanceof Sn||(i=Sn.create(i));for(var s=n===void 0?i.len:i.pos+n,a=new vt.RPC.SubOpts;i.pos<s;){var f=i.uint32();switch(f>>>3){case 1:a.subscribe=i.bool();break;case 2:a.topicID=i.string();break;default:i.skipType(f&7);break}}return a},e.fromObject=function(i){if(i instanceof vt.RPC.SubOpts)return i;var n=new vt.RPC.SubOpts;return i.subscribe!=null&&(n.subscribe=Boolean(i.subscribe)),i.topicID!=null&&(n.topicID=String(i.topicID)),n},e.toObject=function(i,n){n||(n={});var s={};return n.defaults&&(s.subscribe=!1,s.topicID=""),i.subscribe!=null&&i.hasOwnProperty("subscribe")&&(s.subscribe=i.subscribe),i.topicID!=null&&i.hasOwnProperty("topicID")&&(s.topicID=i.topicID),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,vi.util.toJSONOptions)},e}(),t.Message=function(){function e(r){if(this.topicIDs=[],r)for(var i=Object.keys(r),n=0;n<i.length;++n)r[i[n]]!=null&&(this[i[n]]=r[i[n]])}return e.prototype.from=ye.newBuffer([]),e.prototype.data=ye.newBuffer([]),e.prototype.seqno=ye.newBuffer([]),e.prototype.topicIDs=ye.emptyArray,e.prototype.signature=ye.newBuffer([]),e.prototype.key=ye.newBuffer([]),e.encode=function(i,n){if(n||(n=u0.create()),i.from!=null&&Object.hasOwnProperty.call(i,"from")&&n.uint32(10).bytes(i.from),i.data!=null&&Object.hasOwnProperty.call(i,"data")&&n.uint32(18).bytes(i.data),i.seqno!=null&&Object.hasOwnProperty.call(i,"seqno")&&n.uint32(26).bytes(i.seqno),i.topicIDs!=null&&i.topicIDs.length)for(var s=0;s<i.topicIDs.length;++s)n.uint32(34).string(i.topicIDs[s]);return i.signature!=null&&Object.hasOwnProperty.call(i,"signature")&&n.uint32(42).bytes(i.signature),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&n.uint32(50).bytes(i.key),n},e.decode=function(i,n){i instanceof Sn||(i=Sn.create(i));for(var s=n===void 0?i.len:i.pos+n,a=new vt.RPC.Message;i.pos<s;){var f=i.uint32();switch(f>>>3){case 1:a.from=i.bytes();break;case 2:a.data=i.bytes();break;case 3:a.seqno=i.bytes();break;case 4:a.topicIDs&&a.topicIDs.length||(a.topicIDs=[]),a.topicIDs.push(i.string());break;case 5:a.signature=i.bytes();break;case 6:a.key=i.bytes();break;default:i.skipType(f&7);break}}return a},e.fromObject=function(i){if(i instanceof vt.RPC.Message)return i;var n=new vt.RPC.Message;if(i.from!=null&&(typeof i.from=="string"?ye.base64.decode(i.from,n.from=ye.newBuffer(ye.base64.length(i.from)),0):i.from.length&&(n.from=i.from)),i.data!=null&&(typeof i.data=="string"?ye.base64.decode(i.data,n.data=ye.newBuffer(ye.base64.length(i.data)),0):i.data.length&&(n.data=i.data)),i.seqno!=null&&(typeof i.seqno=="string"?ye.base64.decode(i.seqno,n.seqno=ye.newBuffer(ye.base64.length(i.seqno)),0):i.seqno.length&&(n.seqno=i.seqno)),i.topicIDs){if(!Array.isArray(i.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");n.topicIDs=[];for(var s=0;s<i.topicIDs.length;++s)n.topicIDs[s]=String(i.topicIDs[s])}return i.signature!=null&&(typeof i.signature=="string"?ye.base64.decode(i.signature,n.signature=ye.newBuffer(ye.base64.length(i.signature)),0):i.signature.length&&(n.signature=i.signature)),i.key!=null&&(typeof i.key=="string"?ye.base64.decode(i.key,n.key=ye.newBuffer(ye.base64.length(i.key)),0):i.key.length&&(n.key=i.key)),n},e.toObject=function(i,n){n||(n={});var s={};if((n.arrays||n.defaults)&&(s.topicIDs=[]),n.defaults&&(n.bytes===String?s.from="":(s.from=[],n.bytes!==Array&&(s.from=ye.newBuffer(s.from))),n.bytes===String?s.data="":(s.data=[],n.bytes!==Array&&(s.data=ye.newBuffer(s.data))),n.bytes===String?s.seqno="":(s.seqno=[],n.bytes!==Array&&(s.seqno=ye.newBuffer(s.seqno))),n.bytes===String?s.signature="":(s.signature=[],n.bytes!==Array&&(s.signature=ye.newBuffer(s.signature))),n.bytes===String?s.key="":(s.key=[],n.bytes!==Array&&(s.key=ye.newBuffer(s.key)))),i.from!=null&&i.hasOwnProperty("from")&&(s.from=n.bytes===String?ye.base64.encode(i.from,0,i.from.length):n.bytes===Array?Array.prototype.slice.call(i.from):i.from),i.data!=null&&i.hasOwnProperty("data")&&(s.data=n.bytes===String?ye.base64.encode(i.data,0,i.data.length):n.bytes===Array?Array.prototype.slice.call(i.data):i.data),i.seqno!=null&&i.hasOwnProperty("seqno")&&(s.seqno=n.bytes===String?ye.base64.encode(i.seqno,0,i.seqno.length):n.bytes===Array?Array.prototype.slice.call(i.seqno):i.seqno),i.topicIDs&&i.topicIDs.length){s.topicIDs=[];for(var a=0;a<i.topicIDs.length;++a)s.topicIDs[a]=i.topicIDs[a]}return i.signature!=null&&i.hasOwnProperty("signature")&&(s.signature=n.bytes===String?ye.base64.encode(i.signature,0,i.signature.length):n.bytes===Array?Array.prototype.slice.call(i.signature):i.signature),i.key!=null&&i.hasOwnProperty("key")&&(s.key=n.bytes===String?ye.base64.encode(i.key,0,i.key.length):n.bytes===Array?Array.prototype.slice.call(i.key):i.key),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,vi.util.toJSONOptions)},e}(),t}();ch.exports=vt});var hh=C(na=>{"use strict";na.byteLength=yv;na.toByteArray=gv;na.fromByteArray=vv;var Ir=[],$t=[],xv=typeof Uint8Array!="undefined"?Uint8Array:Array,l0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var In=0,mv=l0.length;In<mv;++In)Ir[In]=l0[In],$t[l0.charCodeAt(In)]=In;$t["-".charCodeAt(0)]=62;$t["_".charCodeAt(0)]=63;function uh(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function yv(t){var e=uh(t),r=e[0],i=e[1];return(r+i)*3/4-i}function wv(t,e,r){return(e+r)*3/4-r}function gv(t){var e,r=uh(t),i=r[0],n=r[1],s=new xv(wv(t,i,n)),a=0,f=n>0?i-4:i,o;for(o=0;o<f;o+=4)e=$t[t.charCodeAt(o)]<<18|$t[t.charCodeAt(o+1)]<<12|$t[t.charCodeAt(o+2)]<<6|$t[t.charCodeAt(o+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return n===2&&(e=$t[t.charCodeAt(o)]<<2|$t[t.charCodeAt(o+1)]>>4,s[a++]=e&255),n===1&&(e=$t[t.charCodeAt(o)]<<10|$t[t.charCodeAt(o+1)]<<4|$t[t.charCodeAt(o+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function _v(t){return Ir[t>>18&63]+Ir[t>>12&63]+Ir[t>>6&63]+Ir[t&63]}function Ev(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),n.push(_v(i));return n.join("")}function vv(t){for(var e,r=t.length,i=r%3,n=[],s=16383,a=0,f=r-i;a<f;a+=s)n.push(Ev(t,a,a+s>f?f:a+s));return i===1?(e=t[r-1],n.push(Ir[e>>2]+Ir[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(Ir[e>>10]+Ir[e>>4&63]+Ir[e<<2&63]+"=")),n.join("")}});var lh=C(d0=>{d0.read=function(t,e,r,i,n){var s,a,f=n*8-i-1,o=(1<<f)-1,c=o>>1,u=-7,h=r?n-1:0,b=r?-1:1,g=t[e+h];for(h+=b,s=g&(1<<-u)-1,g>>=-u,u+=f;u>0;s=s*256+t[e+h],h+=b,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=i;u>0;a=a*256+t[e+h],h+=b,u-=8);if(s===0)s=1-c;else{if(s===o)return a?NaN:(g?-1:1)*Infinity;a=a+Math.pow(2,i),s=s-c}return(g?-1:1)*a*Math.pow(2,s-i)};d0.write=function(t,e,r,i,n,s){var a,f,o,c=s*8-n-1,u=(1<<c)-1,h=u>>1,b=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:s-1,y=i?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(f=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(o=Math.pow(2,-a))<1&&(a--,o*=2),a+h>=1?e+=b/o:e+=b*Math.pow(2,1-h),e*o>=2&&(a++,o/=2),a+h>=u?(f=0,a=u):a+h>=1?(f=(e*o-1)*Math.pow(2,n),a=a+h):(f=e*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;t[r+g]=f&255,g+=y,f/=256,n-=8);for(a=a<<n|f,c+=n;c>0;t[r+g]=a&255,g+=y,a/=256,c-=8);t[r+g-y]|=S*128}});var zi=C(An=>{"use strict";var p0=hh(),Bn=lh(),dh=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;An.Buffer=O;An.SlowBuffer=Sv;An.INSPECT_MAX_BYTES=50;var sa=2147483647;An.kMaxLength=sa;O.TYPED_ARRAY_SUPPORT=Iv();!O.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Iv(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(t){return!1}}Object.defineProperty(O.prototype,"parent",{enumerable:!0,get:function(){if(!!O.isBuffer(this))return this.buffer}});Object.defineProperty(O.prototype,"offset",{enumerable:!0,get:function(){if(!!O.isBuffer(this))return this.byteOffset}});function Zr(t){if(t>sa)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,O.prototype),e}function O(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b0(t)}return ph(t,e,r)}O.poolSize=8192;function ph(t,e,r){if(typeof t=="string")return Av(t,e);if(ArrayBuffer.isView(t))return Bv(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Ar(t,ArrayBuffer)||t&&Ar(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ar(t,SharedArrayBuffer)||t&&Ar(t.buffer,SharedArrayBuffer)))return y0(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return O.from(i,e,r);let n=kv(t);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return O.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}O.from=function(t,e,r){return ph(t,e,r)};Object.setPrototypeOf(O.prototype,Uint8Array.prototype);Object.setPrototypeOf(O,Uint8Array);function bh(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Cv(t,e,r){return bh(t),t<=0?Zr(t):e!==void 0?typeof r=="string"?Zr(t).fill(e,r):Zr(t).fill(e):Zr(t)}O.alloc=function(t,e,r){return Cv(t,e,r)};function b0(t){return bh(t),Zr(t<0?0:g0(t)|0)}O.allocUnsafe=function(t){return b0(t)};O.allocUnsafeSlow=function(t){return b0(t)};function Av(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!O.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=yh(t,e)|0,i=Zr(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function v0(t){let e=t.length<0?0:g0(t.length)|0,r=Zr(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function Bv(t){if(Ar(t,Uint8Array)){let e=new Uint8Array(t);return y0(e.buffer,e.byteOffset,e.byteLength)}return v0(t)}function y0(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,O.prototype),i}function kv(t){if(O.isBuffer(t)){let e=g0(t.length)|0,r=Zr(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||x0(t.length)?Zr(0):v0(t);if(t.type==="Buffer"&&Array.isArray(t.data))return v0(t.data)}function g0(t){if(t>=sa)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+sa.toString(16)+" bytes");return t|0}function Sv(t){return+t!=t&&(t=0),O.alloc(+t)}O.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==O.prototype};O.compare=function(e,r){if(Ar(e,Uint8Array)&&(e=O.from(e,e.offset,e.byteLength)),Ar(r,Uint8Array)&&(r=O.from(r,r.offset,r.byteLength)),!O.isBuffer(e)||!O.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,n=r.length;for(let s=0,a=Math.min(i,n);s<a;++s)if(e[s]!==r[s]){i=e[s],n=r[s];break}return i<n?-1:n<i?1:0};O.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};O.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return O.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;let n=O.allocUnsafe(r),s=0;for(i=0;i<e.length;++i){let a=e[i];if(Ar(a,Uint8Array))s+a.length>n.length?(O.isBuffer(a)||(a=O.from(a)),a.copy(n,s)):Uint8Array.prototype.set.call(n,a,s);else if(O.isBuffer(a))a.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return n};function yh(t,e){if(O.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Ar(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return m0(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return gh(t).length;default:if(n)return i?-1:m0(t).length;e=(""+e).toLowerCase(),n=!0}}O.byteLength=yh;function Ov(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Pv(this,e,r);case"utf8":case"utf-8":return vh(this,e,r);case"ascii":return Rv(this,e,r);case"latin1":case"binary":return Mv(this,e,r);case"base64":return Tv(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dv(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}O.prototype._isBuffer=!0;function Ui(t,e,r){let i=t[e];t[e]=t[r],t[r]=i}O.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Ui(this,r,r+1);return this};O.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Ui(this,r,r+3),Ui(this,r+1,r+2);return this};O.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Ui(this,r,r+7),Ui(this,r+1,r+6),Ui(this,r+2,r+5),Ui(this,r+3,r+4);return this};O.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?vh(this,0,e):Ov.apply(this,arguments)};O.prototype.toLocaleString=O.prototype.toString;O.prototype.equals=function(e){if(!O.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:O.compare(this,e)===0};O.prototype.inspect=function(){let e="",r=An.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};dh&&(O.prototype[dh]=O.prototype.inspect);O.prototype.compare=function(e,r,i,n,s){if(Ar(e,Uint8Array)&&(e=O.from(e,e.offset,e.byteLength)),!O.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),r<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&r>=i)return 0;if(n>=s)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let a=s-n,f=i-r,o=Math.min(a,f),c=this.slice(n,s),u=e.slice(r,i);for(let h=0;h<o;++h)if(c[h]!==u[h]){a=c[h],f=u[h];break}return a<f?-1:f<a?1:0};function mh(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,x0(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=O.from(e,i)),O.isBuffer(e))return e.length===0?-1:xh(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):xh(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function xh(t,e,r,i,n){let s=1,a=t.length,f=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function o(u,h){return s===1?u[h]:u.readUInt16BE(h*s)}let c;if(n){let u=-1;for(c=r;c<a;c++)if(o(t,c)===o(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===f)return u*s}else u!==-1&&(c-=c-u),u=-1}else for(r+f>a&&(r=a-f),c=r;c>=0;c--){let u=!0;for(let h=0;h<f;h++)if(o(t,c+h)!==o(e,h)){u=!1;break}if(u)return c}return-1}O.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};O.prototype.indexOf=function(e,r,i){return mh(this,e,r,i,!0)};O.prototype.lastIndexOf=function(e,r,i){return mh(this,e,r,i,!1)};function Nv(t,e,r,i){r=Number(r)||0;let n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let a;for(a=0;a<i;++a){let f=parseInt(e.substr(a*2,2),16);if(x0(f))return a;t[r+a]=f}return a}function Lv(t,e,r,i){return aa(m0(e,t.length-r),t,r,i)}function Fv(t,e,r,i){return aa(qv(e),t,r,i)}function Kv(t,e,r,i){return aa(gh(e),t,r,i)}function zv(t,e,r,i){return aa(Uv(e,t.length-r),t,r,i)}O.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return Nv(this,e,r,i);case"utf8":case"utf-8":return Lv(this,e,r,i);case"ascii":case"latin1":case"binary":return Fv(this,e,r,i);case"base64":return Kv(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zv(this,e,r,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}};O.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Tv(t,e,r){return e===0&&r===t.length?p0.fromByteArray(t):p0.fromByteArray(t.slice(e,r))}function vh(t,e,r){r=Math.min(t.length,r);let i=[],n=e;for(;n<r;){let s=t[n],a=null,f=s>239?4:s>223?3:s>191?2:1;if(n+f<=r){let o,c,u,h;switch(f){case 1:s<128&&(a=s);break;case 2:o=t[n+1],(o&192)==128&&(h=(s&31)<<6|o&63,h>127&&(a=h));break;case 3:o=t[n+1],c=t[n+2],(o&192)==128&&(c&192)==128&&(h=(s&15)<<12|(o&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:o=t[n+1],c=t[n+2],u=t[n+3],(o&192)==128&&(c&192)==128&&(u&192)==128&&(h=(s&15)<<18|(o&63)<<12|(c&63)<<6|u&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,f=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|a&1023),i.push(a),n+=f}return Gv(i)}var wh=4096;function Gv(t){let e=t.length;if(e<=wh)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=wh));return r}function Rv(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function Mv(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function Pv(t,e,r){let i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let s=e;s<r;++s)n+=Vv[t[s]];return n}function Dv(t,e,r){let i=t.slice(e,r),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}O.prototype.slice=function(e,r){let i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);let n=this.subarray(e,r);return Object.setPrototypeOf(n,O.prototype),n};function wt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}O.prototype.readUintLE=O.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=this[e],s=1,a=0;for(;++a<r&&(s*=256);)n+=this[e+a]*s;return n};O.prototype.readUintBE=O.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=this[e+--r],s=1;for(;r>0&&(s*=256);)n+=this[e+--r]*s;return n};O.prototype.readUint8=O.prototype.readUInt8=function(e,r){return e=e>>>0,r||wt(e,1,this.length),this[e]};O.prototype.readUint16LE=O.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||wt(e,2,this.length),this[e]|this[e+1]<<8};O.prototype.readUint16BE=O.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||wt(e,2,this.length),this[e]<<8|this[e+1]};O.prototype.readUint32LE=O.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};O.prototype.readUint32BE=O.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};O.prototype.readBigUInt64LE=xi(function(e){e=e>>>0,kn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});O.prototype.readBigUInt64BE=xi(function(e){e=e>>>0,kn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});O.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=this[e],s=1,a=0;for(;++a<r&&(s*=256);)n+=this[e+a]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*r)),n};O.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||wt(e,r,this.length);let n=r,s=1,a=this[e+--n];for(;n>0&&(s*=256);)a+=this[e+--n]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a};O.prototype.readInt8=function(e,r){return e=e>>>0,r||wt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};O.prototype.readInt16LE=function(e,r){e=e>>>0,r||wt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};O.prototype.readInt16BE=function(e,r){e=e>>>0,r||wt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};O.prototype.readInt32LE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};O.prototype.readInt32BE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};O.prototype.readBigInt64LE=xi(function(e){e=e>>>0,kn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});O.prototype.readBigInt64BE=xi(function(e){e=e>>>0,kn(e,"offset");let r=this[e],i=this[e+7];(r===void 0||i===void 0)&&ps(e,this.length-8);let n=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});O.prototype.readFloatLE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),Bn.read(this,e,!0,23,4)};O.prototype.readFloatBE=function(e,r){return e=e>>>0,r||wt(e,4,this.length),Bn.read(this,e,!1,23,4)};O.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||wt(e,8,this.length),Bn.read(this,e,!0,52,8)};O.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||wt(e,8,this.length),Bn.read(this,e,!1,52,8)};function Ut(t,e,r,i,n,s){if(!O.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}O.prototype.writeUintLE=O.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let f=Math.pow(2,8*i)-1;Ut(this,e,r,i,f,0)}let s=1,a=0;for(this[r]=e&255;++a<i&&(s*=256);)this[r+a]=e/s&255;return r+i};O.prototype.writeUintBE=O.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){let f=Math.pow(2,8*i)-1;Ut(this,e,r,i,f,0)}let s=i-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+i};O.prototype.writeUint8=O.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,1,255,0),this[r]=e&255,r+1};O.prototype.writeUint16LE=O.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};O.prototype.writeUint16BE=O.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};O.prototype.writeUint32LE=O.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};O.prototype.writeUint32BE=O.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Eh(t,e,r,i,n){_h(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function Sh(t,e,r,i,n){_h(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}O.prototype.writeBigUInt64LE=xi(function(e,r=0){return Eh(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeBigUInt64BE=xi(function(e,r=0){return Sh(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});O.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let o=Math.pow(2,8*i-1);Ut(this,e,r,i,o-1,-o)}let s=0,a=1,f=0;for(this[r]=e&255;++s<i&&(a*=256);)e<0&&f===0&&this[r+s-1]!==0&&(f=1),this[r+s]=(e/a>>0)-f&255;return r+i};O.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){let o=Math.pow(2,8*i-1);Ut(this,e,r,i,o-1,-o)}let s=i-1,a=1,f=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&f===0&&this[r+s+1]!==0&&(f=1),this[r+s]=(e/a>>0)-f&255;return r+i};O.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};O.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};O.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};O.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};O.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||Ut(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};O.prototype.writeBigInt64LE=xi(function(e,r=0){return Eh(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});O.prototype.writeBigInt64BE=xi(function(e,r=0){return Sh(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ih(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ah(t,e,r,i,n){return e=+e,r=r>>>0,n||Ih(t,e,r,4,34028234663852886e22,-34028234663852886e22),Bn.write(t,e,r,i,23,4),r+4}O.prototype.writeFloatLE=function(e,r,i){return Ah(this,e,r,!0,i)};O.prototype.writeFloatBE=function(e,r,i){return Ah(this,e,r,!1,i)};function Bh(t,e,r,i,n){return e=+e,r=r>>>0,n||Ih(t,e,r,8,17976931348623157e292,-17976931348623157e292),Bn.write(t,e,r,i,52,8),r+8}O.prototype.writeDoubleLE=function(e,r,i){return Bh(this,e,r,!0,i)};O.prototype.writeDoubleBE=function(e,r,i){return Bh(this,e,r,!1,i)};O.prototype.copy=function(e,r,i,n){if(!O.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),s};O.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!O.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let a=e.charCodeAt(0);(n==="utf8"&&a<128||n==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<i;++s)this[s]=e;else{let a=O.isBuffer(e)?e:O.from(e,n),f=a.length;if(f===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=a[s%f]}return this};var Cn={};function w0(t,e,r){Cn[t]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}w0("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);w0("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);w0("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=kh(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=kh(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function kh(t){let e="",r=t.length,i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Hv(t,e,r){kn(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&ps(e,t.length-(r+1))}function _h(t,e,r,i,n,s){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",f;throw s>3?e===0||e===BigInt(0)?f=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:f=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:f=`>= ${e}${a} and <= ${r}${a}`,new Cn.ERR_OUT_OF_RANGE("value",f,t)}Hv(i,n,s)}function kn(t,e){if(typeof t!="number")throw new Cn.ERR_INVALID_ARG_TYPE(e,"number",t)}function ps(t,e,r){throw Math.floor(t)!==t?(kn(t,r),new Cn.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Cn.ERR_BUFFER_OUT_OF_BOUNDS:new Cn.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var jv=/[^+/0-9A-Za-z-_]/g;function Wv(t){if(t=t.split("=")[0],t=t.trim().replace(jv,""),t.length<2)return"";for(;t.length%4!=0;)t=t+"=";return t}function m0(t,e){e=e||Infinity;let r,i=t.length,n=null,s=[];for(let a=0;a<i;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function qv(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Uv(t,e){let r,i,n,s=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),i=r>>8,n=r%256,s.push(n),s.push(i);return s}function gh(t){return p0.toByteArray(Wv(t))}function aa(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Ar(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function x0(t){return t!==t}var Vv=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function xi(t){return typeof BigInt=="undefined"?Yv:t}function Yv(){throw new Error("BigInt not supported")}});var _0=C((v_,Ch)=>{"use strict";var{Buffer:ur}=zi(),Th=Symbol.for("BufferList");function ke(t){if(!(this instanceof ke))return new ke(t);ke._init.call(this,t)}ke._init=function(e){Object.defineProperty(this,Th,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};ke.prototype._new=function(e){return new ke(e)};ke.prototype._offset=function(e){if(e===0)return[0,0];let r=0;for(let i=0;i<this._bufs.length;i++){let n=r+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-r];r=n}};ke.prototype._reverseOffset=function(t){let e=t[0],r=t[1];for(let i=0;i<e;i++)r+=this._bufs[i].length;return r};ke.prototype.get=function(e){if(e>this.length||e<0)return;let r=this._offset(e);return this._bufs[r[0]][r[1]]};ke.prototype.slice=function(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};ke.prototype.copy=function(e,r,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||ur.alloc(0);let s=!!e,a=this._offset(i),f=n-i,o=f,c=s&&r||0,u=a[1];if(i===0&&n===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:ur.concat(this._bufs,this.length);for(let h=0;h<this._bufs.length;h++)this._bufs[h].copy(e,c),c+=this._bufs[h].length;return e}if(o<=this._bufs[a[0]].length-u)return s?this._bufs[a[0]].copy(e,r,u,u+o):this._bufs[a[0]].slice(u,u+o);s||(e=ur.allocUnsafe(f));for(let h=a[0];h<this._bufs.length;h++){let b=this._bufs[h].length-u;if(o>b)this._bufs[h].copy(e,c,u),c+=b;else{this._bufs[h].copy(e,c,u,u+o),c+=b;break}o-=b,u&&(u=0)}return e.length>c?e.slice(0,c):e};ke.prototype.shallowSlice=function(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();let i=this._offset(e),n=this._offset(r),s=this._bufs.slice(i[0],n[0]+1);return n[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),i[1]!==0&&(s[0]=s[0].slice(i[1])),this._new(s)};ke.prototype.toString=function(e,r,i){return this.slice(r,i).toString(e)};ke.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};ke.prototype.duplicate=function(){let e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};ke.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(ur.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(ur.from(e));return this};ke.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};ke.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=ur.from([t]):typeof t=="string"?t=ur.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=ur.from(t.buffer,t.byteOffset,t.byteLength):ur.isBuffer(t)||(t=ur.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],s=i[1];for(;n<this._bufs.length;n++){let a=this._bufs[n];for(;s<a.length;)if(a.length-s>=t.length){let o=a.indexOf(t,s);if(o!==-1)return this._reverseOffset([n,o]);s=a.length-t.length+1}else{let o=this._reverseOffset([n,s]);if(this._match(o,t))return o;s++}s=0}return-1};ke.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){let t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in t)(function(r){t[r]===null?ke.prototype[r]=function(i,n){return this.slice(i,i+n)[r](0,n)}:ke.prototype[r]=function(i=0){return this.slice(i,i+t[r])[r](0)}})(e)})();ke.prototype._isBufferList=function(e){return e instanceof ke||ke.isBufferList(e)};ke.isBufferList=function(e){return e!=null&&e[Th]};Ch.exports=ke});var Ph=C((x_,Rh)=>{Rh.exports=E0;var Mh=128,Jv=127,Zv=~Jv,Xv=Math.pow(2,31);function E0(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw E0.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var i=r;t>=Xv;)e[r++]=t&255|Mh,t/=128;for(;t&Zv;)e[r++]=t&255|Mh,t>>>=7;return e[r]=t|0,E0.bytes=r-i+1,e}});var Nh=C((m_,Dh)=>{Dh.exports=S0;var Qv=128,Oh=127;function S0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a||i>49)throw S0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&Oh)<<i:(s&Oh)*Math.pow(2,i),i+=7}while(s>=Qv);return S0.bytes=n-e,r}});var qh=C((w_,Lh)=>{var $v=Math.pow(2,7),e3=Math.pow(2,14),t3=Math.pow(2,21),r3=Math.pow(2,28),i3=Math.pow(2,35),n3=Math.pow(2,42),s3=Math.pow(2,49),a3=Math.pow(2,56),o3=Math.pow(2,63);Lh.exports=function(t){return t<$v?1:t<e3?2:t<t3?3:t<r3?4:t<i3?5:t<n3?6:t<s3?7:t<a3?8:t<o3?9:10}});var oa=C((__,Fh)=>{Fh.exports={encode:Ph(),decode:Nh(),encodingLength:qh()}});var I0=C((E_,Kh)=>{"use strict";var Uh=oa(),{Buffer:f3}=zi(),zh=(t,e,r)=>{let i=Uh.encode(t,e,r);return zh.bytes=Uh.encode.bytes,e||f3.from(i)};Kh.exports=zh});var Yh=C((S_,fa)=>{"use strict";var{Buffer:Gh}=zi(),Vh=_0(),Hh=I0(),A0=8,jh=10*1024;function Wh(t){t=t||{};let e=Math.max(t.poolSize||jh,t.minPoolSize||A0),r=t.lengthEncoder||Hh;return async function*(n){let s=Gh.alloc(e),a=0;for await(let f of n){r(f.length,s,a);let o=s.slice(a,a+r.bytes);a+=r.bytes,s.length-a<A0&&(s=Gh.alloc(e),a=0),yield new Vh().append(o).append(f)}}}Wh.single=(t,e)=>{e=e||{};let r=e.lengthEncoder||Hh;return new Vh([r(t.length),t.slice()])};fa.exports=Wh;fa.exports.MIN_POOL_SIZE=A0;fa.exports.DEFAULT_POOL_SIZE=jh});var B0=C((I_,Jh)=>{"use strict";var Zh=oa(),{Buffer:c3}=zi(),u3=t=>new Proxy({},{get:(e,r)=>r[0]==="l"?t[r]:t.get(parseInt(r))}),Xh=t=>{let e=Zh.decode(c3.isBuffer(t)?t:u3(t));return Xh.bytes=Zh.decode.bytes,e};Jh.exports=Xh});var tl=C((A_,ca)=>{"use strict";var{Buffer:h3}=zi(),k0=_0(),l3=B0(),Qh=8,$h=1024*1024*4,el=h3.alloc(0),mi={LENGTH:"readLength",DATA:"readData"},d3={[mi.LENGTH]:(t,e,r,i)=>{e=e.append(t);let n;try{n=i.lengthDecoder(e)}catch(s){if(e.length>i.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:mi.LENGTH,buffer:e,chunk:void 0,state:void 0,data:void 0};throw s}if(n>i.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return t=e.shallowSlice(i.lengthDecoder.bytes),e=new k0,i.onLength&&i.onLength(n),n<=0?(i.onData&&i.onData(el),{mode:mi.LENGTH,chunk:t,buffer:e,data:el}):{mode:mi.DATA,chunk:t,buffer:e,state:{dataLength:n},data:void 0}},[mi.DATA]:(t,e,r,i)=>{if(e=e.append(t),!r)throw new Error("state is required");if(e.length<r.dataLength)return{mode:mi.DATA,buffer:e,state:r,chunk:void 0,data:void 0};let{dataLength:n}=r,s=e.shallowSlice(0,n),a=e.length>n?e.shallowSlice(n):void 0;return e=new k0,i.onData&&i.onData(s),{mode:mi.LENGTH,chunk:a,buffer:e,state:void 0,data:s}}};function C0(t){t=t||{};let e={lengthDecoder:t.lengthDecoder||l3,maxLengthLength:t.maxLengthLength||Qh,maxDataLength:t.maxDataLength||$h,onLength:t.onLength,onData:t.onData};return async function*(i){let n=new k0,s=mi.LENGTH,a;for await(let f of i){let o=f;for(;o;){let c=d3[s](o,n,a,e);s=c.mode,o=c.chunk,n=c.buffer,a=c.state,c.data&&(yield c.data)}}if(n.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}C0.fromReader=(t,e)=>{let r=1,i={[Symbol.asyncIterator](){return this},next:async()=>{try{return await t.next(r)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{r=1}}};return C0({...e||{},onLength:s=>{r=s}})(i)};ca.exports=C0;ca.exports.MAX_LENGTH_LENGTH=Qh;ca.exports.MAX_DATA_LENGTH=$h});var nl=C((B_,rl)=>{"use strict";var{Buffer:p3}=zi(),il=(t,e,r)=>(e=e||p3.allocUnsafe(4),e.writeInt32BE(t,r),e);il.bytes=4;rl.exports=il});var ol=C((k_,sl)=>{"use strict";var al=t=>{if(t.length<4)throw RangeError("Could not decode int32BE");return t.readInt32BE(0)};al.bytes=4;sl.exports=al});var fl=C(Gi=>{"use strict";Gi.encode=Yh();Gi.decode=tl();Gi.varintEncode=I0();Gi.varintDecode=B0();Gi.int32BEEncode=nl();Gi.int32BEDecode=ol()});var ul=C((R_,cl)=>{cl.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var dl=C((P_,hl)=>{var ll=ul();hl.exports=class{constructor(e){this.hwm=e||16,this.head=new ll(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let r=this.head;this.head=r.next=new ll(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var bl=C((D_,pl)=>{var T0=dl();pl.exports=t=>{t=t||{};let e;typeof t=="function"?(e=t,t={}):e=t.onEnd;let r=new T0,i,n,s,a=()=>{if(!r.isEmpty()){if(t.writev){let S,I=[];for(;!r.isEmpty();){if(S=r.shift(),S.error)throw S.error;I.push(S.value)}return{done:S.done,value:I}}let y=r.shift();if(y.error)throw y.error;return y}return s?{done:!0}:new Promise((y,S)=>{n=I=>(n=null,I.error?S(I.error):t.writev&&!I.done?y({done:I.done,value:[I.value]}):y(I),i)})},f=y=>n?n(y):(r.push(y),i),o=y=>(r=new T0,n?n({error:y}):(r.push({error:y}),i)),c=y=>s?i:f({done:!1,value:y}),u=y=>s?i:(s=!0,y?o(y):f({done:!0})),h=()=>(r=new T0,u(),{done:!0}),b=y=>(u(y),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:a,return:h,throw:b,push:c,end:u},!e)return i;let g=i;return i={[Symbol.asyncIterator](){return this},next(){return g.next()},throw(y){return g.throw(y),e&&(e(y),e=null),{done:!0}},return(){return g.return(),e&&(e(),e=null),{done:!0}},push:c,end(y){return g.end(y),e&&(e(y),e=null),i}},i}});var gl=C((O_,yl)=>{yl.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var xl=C((L_,vl)=>{vl.exports=class extends Error{constructor(e,r){super(e||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var El=C((q_,Vi)=>{var b3=gl(),R0=xl(),ml=(t,e,r)=>M0(t,Array.isArray(e)?e:[{signal:e,options:r}]),M0=(t,e)=>{t=b3(t),e=e.map(({signal:i,options:n})=>({signal:i,options:n||{}}));async function*r(){let i,n=()=>{i&&i()};for(let{signal:s}of e)s.addEventListener("abort",n);for(;;){let s;try{for(let{signal:f,options:o}of e)if(f.aborted){let{abortMessage:c,abortCode:u}=o;throw new R0(c,u)}let a=new Promise((f,o)=>{i=()=>{let{options:c}=e.find(({signal:b})=>b.aborted),{abortMessage:u,abortCode:h}=c;o(new R0(u,h))}});s=await Promise.race([a,t.next()]),i=null}catch(a){for(let{signal:c}of e)c.removeEventListener("abort",n);let f=e.find(({signal:c})=>c.aborted),o=a.type==="aborted"&&f;if(o&&f.options.onAbort&&await f.options.onAbort(t),typeof t.return=="function"&&await t.return(),o&&f.options.returnOnAbort)return;throw a}if(s.done)break;yield s.value}for(let{signal:s}of e)s.removeEventListener("abort",n)}return r()},_l=(t,e,r)=>wl(t,Array.isArray(e)?e:[{signal:e,options:r}]),wl=(t,e)=>r=>t(M0(r,e)),g3=(t,e,r)=>y3(t,Array.isArray(e)?e:[{signal:e,options:r}]),y3=(t,e)=>({sink:wl(t.sink,e),source:M0(t.source,e)});Vi.exports=ml;Vi.exports.AbortError=R0;Vi.exports.source=ml;Vi.exports.sink=_l;Vi.exports.transform=_l;Vi.exports.duplex=g3});var Il=C((F_,ua)=>{"use strict";var{AbortController:Sl,AbortSignal:v3}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;ua.exports=Sl;ua.exports.AbortSignal=v3;ua.exports.default=Sl});var Rl=C((K_,Al)=>{"use strict";var Bl=Js(),x3=Object.assign(Bl("libp2p-pubsub:peer-streams"),{error:Bl("libp2p-pubsub:peer-streams:err")}),m3=Yo(),kl=fl(),w3=bl(),{pipe:Cl}=Zo(),{source:_3}=El(),E3=Il().default,Tl=class extends m3{constructor({id:e,protocol:r}){super();this.id=e,this.protocol=r,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new E3,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){let r=this.id.toB58String();throw new Error("No writable connection to "+r)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=_3(Cl(this._rawInboundStream,kl.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){let r=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=w3({onEnd:i=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,i&&this.emit("close")}}),Cl(this.outboundStream,kl.encode(),this._rawOutboundStream).catch(i=>{x3.error(i)}),r||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}};Al.exports=Tl});var Pl=C(Ml=>{"use strict";var S3={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"};Ml.SignaturePolicy=S3});var Ol=C((z_,Dl)=>{"use strict";var ha=65536;function I3(t){let e=new Uint8Array(t),r=0;if(t>0)if(t>ha)for(;r<t;)r+ha>t?(crypto.getRandomValues(e.subarray(r,r+(t-r))),r+=t-r):(crypto.getRandomValues(e.subarray(r,r+ha)),r+=ha);else crypto.getRandomValues(e);return e}Dl.exports=I3});var Xr=C((G_,Nl)=>{"use strict";function Ll(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function A3(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Ll(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),Ll(new n,r)}}Nl.exports=A3});var la=C((V_,ql)=>{"use strict";var B3=Ol(),k3=Xr();ql.exports=function(t){if(isNaN(t)||t<=0)throw k3(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return B3(t)}});var Kl=C((H_,Fl)=>{"use strict";function C3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var n=t.charAt(i),s=n.charCodeAt(0);if(e[s]!==255)throw new TypeError(n+" is ambiguous");e[s]=i}var a=t.length,f=t.charAt(0),o=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var y=0,S=0,I=0,B=g.length;I!==B&&g[I]===0;)I++,y++;for(var R=(B-I)*c+1>>>0,M=new Uint8Array(R);I!==B;){for(var F=g[I],L=0,D=R-1;(F!==0||L<S)&&D!==-1;D--,L++)F+=256*M[D]>>>0,M[D]=F%a>>>0,F=F/a>>>0;if(F!==0)throw new Error("Non-zero carry");S=L,I++}for(var j=R-S;j!==R&&M[j]===0;)j++;for(var G=f.repeat(y);j<R;++j)G+=t.charAt(M[j]);return G}function h(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var y=0;if(g[y]!==" "){for(var S=0,I=0;g[y]===f;)S++,y++;for(var B=(g.length-y)*o+1>>>0,R=new Uint8Array(B);g[y];){var M=e[g.charCodeAt(y)];if(M===255)return;for(var F=0,L=B-1;(M!==0||F<I)&&L!==-1;L--,F++)M+=a*R[L]>>>0,R[L]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");I=F,y++}if(g[y]!==" "){for(var D=B-I;D!==B&&R[D]===0;)D++;for(var j=new Uint8Array(S+(B-D)),G=S;D!==B;)j[G++]=R[D++];return j}}}function b(g){var y=h(g);if(y)return y;throw new Error("Non-base"+a+" character")}return{encode:u,decodeUnsafe:h,decode:b}}Fl.exports=C3});var da=C((j_,Ul)=>{"use strict";var T3=new TextDecoder,R3=t=>T3.decode(t),M3=new TextEncoder,P3=t=>M3.encode(t);function D3(t,e){let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}Ul.exports={decodeText:R3,encodeText:P3,concat:D3}});var Vl=C((W_,zl)=>{"use strict";var{encodeText:O3}=da(),Gl=class{constructor(e,r,i,n){this.name=e,this.code=r,this.codeBuf=O3(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};zl.exports=Gl});var jl=C((Y_,Hl)=>{"use strict";var N3=(t,e,r)=>{let i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let n=t.length;for(;t[n-1]==="=";)--n;let s=new Uint8Array(n*r/8|0),a=0,f=0,o=0;for(let c=0;c<n;++c){let u=i[t[c]];if(u===void 0)throw new SyntaxError("Invalid character "+t[c]);f=f<<r|u,a+=r,a>=8&&(a-=8,s[o++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return s},L3=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",a=0,f=0;for(let o=0;o<t.length;++o)for(f=f<<8|t[o],a+=8;a>r;)a-=r,s+=e[n&f>>a];if(a&&(s+=e[n&f<<r-a]),i)for(;s.length*r&7;)s+="=";return s},q3=t=>e=>({encode(r){return L3(r,e,t)},decode(r){return N3(r,e,t)}});Hl.exports={rfc4648:q3}});var Zl=C((J_,Wl)=>{"use strict";var bs=Kl(),F3=Vl(),{rfc4648:Tt}=jl(),{decodeText:K3,encodeText:U3}=da(),z3=()=>({encode:K3,decode:U3}),Yl=[["identity","\0",z3,""],["base2","0",Tt(1),"01"],["base8","7",Tt(3),"01234567"],["base10","9",bs,"0123456789"],["base16","f",Tt(4),"0123456789abcdef"],["base16upper","F",Tt(4),"0123456789ABCDEF"],["base32hex","v",Tt(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Tt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Tt(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Tt(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Tt(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Tt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Tt(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Tt(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Tt(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",bs,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",bs,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",bs,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",bs,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Tt(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Jl=Yl.reduce((t,e)=>(t[e[0]]=new F3(e[0],e[1],e[2],e[3]),t),{}),G3=Yl.reduce((t,e)=>(t[e[1]]=Jl[e[0]],t),{});Wl.exports={names:Jl,codes:G3}});var ji=C((Qr,Xl)=>{"use strict";var Tn=Zl(),{encodeText:V3,decodeText:pa,concat:Ql}=da();function j3(t,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:i}=Hi(t);return H3(r,e),Ql([i,e],i.length+e.length)}function W3(t,e){let r=Hi(t),i=V3(r.encode(e));return Ql([r.codeBuf,i],r.codeBuf.length+i.length)}function Y3(t){t instanceof Uint8Array&&(t=pa(t));let e=t[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(t=t.toLowerCase()),Hi(t[0]).decode(t.substring(1))}function J3(t){if(t instanceof Uint8Array&&(t=pa(t)),Object.prototype.toString.call(t)!=="[object String]")return!1;try{return Hi(t[0]).name}catch(e){return!1}}function H3(t,e){Hi(t).decode(pa(e))}function Hi(t){if(Object.prototype.hasOwnProperty.call(Tn.names,t))return Tn.names[t];if(Object.prototype.hasOwnProperty.call(Tn.codes,t))return Tn.codes[t];throw new Error(`Unsupported encoding: ${t}`)}function Z3(t){return t instanceof Uint8Array&&(t=pa(t)),Hi(t[0])}Qr=Xl.exports=j3;Qr.encode=W3;Qr.decode=Y3;Qr.isEncoded=J3;Qr.encoding=Hi;Qr.encodingFromData=Z3;var X3=Object.freeze(Tn.names),Q3=Object.freeze(Tn.codes);Qr.names=X3;Qr.codes=Q3});var Yt=C((Z_,$l)=>{"use strict";var{encoding:$3}=ji(),e4=new TextDecoder("utf8");function t4(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function r4(t,e="utf8"){return e==="utf8"||e==="utf-8"?e4.decode(t):e==="ascii"?t4(t):$3(e).encode(t)}$l.exports=r4});var Jt=C((X_,ed)=>{"use strict";var{encoding:i4}=ji(),n4=new TextEncoder;function s4(t){let e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function a4(t,e="utf8"){return e==="utf8"||e==="utf-8"?n4.encode(t):e==="ascii"?s4(t):i4(e).decode(t)}ed.exports=a4});var nd=C((Q_,td)=>{td.exports=rd;var id=128,o4=127,f4=~o4,c4=Math.pow(2,31);function rd(t,e,r){e=e||[],r=r||0;for(var i=r;t>=c4;)e[r++]=t&255|id,t/=128;for(;t&f4;)e[r++]=t&255|id,t>>>=7;return e[r]=t|0,rd.bytes=r-i+1,e}});var od=C(($_,sd)=>{sd.exports=P0;var u4=128,ad=127;function P0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a)throw P0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&ad)<<i:(s&ad)*Math.pow(2,i),i+=7}while(s>=u4);return P0.bytes=n-e,r}});var cd=C((eE,fd)=>{var h4=Math.pow(2,7),l4=Math.pow(2,14),d4=Math.pow(2,21),p4=Math.pow(2,28),b4=Math.pow(2,35),y4=Math.pow(2,42),g4=Math.pow(2,49),v4=Math.pow(2,56),x4=Math.pow(2,63);fd.exports=function(t){return t<h4?1:t<l4?2:t<d4?3:t<p4?4:t<b4?5:t<y4?6:t<g4?7:t<v4?8:t<x4?9:10}});var hd=C((tE,ud)=>{ud.exports={encode:nd(),decode:od(),encodingLength:cd()}});var dd=C((rE,ld)=>{"use strict";var m4=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});ld.exports={names:m4}});var Br=C((iE,pd)=>{"use strict";function w4(t,e){e||(e=t.reduce((n,s)=>n+s.length,0));let r=new Uint8Array(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}pd.exports=w4});var Wi=C((nE,bd)=>{"use strict";var yd=ji(),Rn=hd(),{names:ys}=dd(),ba=Yt(),_4=Jt(),E4=Br(),Mn={};for(let t in ys){let e=t;Mn[ys[e]]=e}Object.freeze(Mn);function S4(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return ba(t,"base16")}function I4(t){return _4(t,"base16")}function A4(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return ba(yd.encode("base58btc",t)).slice(1)}function B4(t){let e=t instanceof Uint8Array?ba(t):t;return yd.decode("z"+e)}function vd(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=Rn.decode(t);if(!gd(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice(Rn.decode.bytes);let r=Rn.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice(Rn.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${ba(t,"base16")}`);return{code:e,name:Mn[e],length:r,digest:t}}function k4(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=xd(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");let n=Rn.encode(i),s=Rn.encode(r);return E4([n,s,t],n.length+s.length+t.length)}function xd(t){let e=t;if(typeof t=="string"){if(ys[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=ys[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Mn[e]===void 0&&!D0(e))throw new Error(`Unrecognized function code: ${e}`);return e}function D0(t){return t>0&&t<16}function gd(t){return!!(D0(t)||Mn[t])}function md(t){vd(t)}function C4(t){return md(t),t.subarray(0,2)}bd.exports={names:ys,codes:Mn,toHexString:S4,fromHexString:I4,toB58String:A4,fromB58String:B4,decode:vd,encode:k4,coerceCode:xd,isAppCode:D0,validate:md,prefix:C4,isValidCode:gd}});var Sd=C((sE,wd)=>{wd.exports=_d;var Ed=128,T4=127,R4=~T4,M4=Math.pow(2,31);function _d(t,e,r){e=e||[],r=r||0;for(var i=r;t>=M4;)e[r++]=t&255|Ed,t/=128;for(;t&R4;)e[r++]=t&255|Ed,t>>>=7;return e[r]=t|0,_d.bytes=r-i+1,e}});var Bd=C((aE,Id)=>{Id.exports=O0;var P4=128,Ad=127;function O0(t,e){var r=0,e=e||0,i=0,n=e,s,a=t.length;do{if(n>=a)throw O0.bytes=0,new RangeError("Could not decode varint");s=t[n++],r+=i<28?(s&Ad)<<i:(s&Ad)*Math.pow(2,i),i+=7}while(s>=P4);return O0.bytes=n-e,r}});var Cd=C((oE,kd)=>{var D4=Math.pow(2,7),O4=Math.pow(2,14),N4=Math.pow(2,21),L4=Math.pow(2,28),q4=Math.pow(2,35),F4=Math.pow(2,42),K4=Math.pow(2,49),U4=Math.pow(2,56),z4=Math.pow(2,63);kd.exports=function(t){return t<D4?1:t<O4?2:t<N4?3:t<L4?4:t<q4?5:t<F4?6:t<K4?7:t<U4?8:t<z4?9:10}});var N0=C((fE,Td)=>{Td.exports={encode:Sd(),decode:Bd(),encodingLength:Cd()}});var L0=C((cE,Rd)=>{"use strict";var Md=N0(),G4=Yt(),V4=Jt();Rd.exports={numberToUint8Array:H4,uint8ArrayToNumber:Pd,varintUint8ArrayEncode:j4,varintEncode:W4};function Pd(t){return parseInt(G4(t,"base16"),16)}function H4(t){let e=t.toString(16);return e.length%2==1&&(e="0"+e),V4(e,"base16")}function j4(t){return Uint8Array.from(Md.encode(Pd(t)))}function W4(t){return Uint8Array.from(Md.encode(t))}});var Od=C((uE,Dd)=>{"use strict";var Y4=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});Dd.exports={baseTable:Y4}});var Ld=C((hE,Nd)=>{"use strict";var{baseTable:q0}=Od(),J4=L0().varintEncode,F0={},K0={},ya={};for(let t in q0){let e=t,r=q0[e];F0[e]=J4(r);let i=e.toUpperCase().replace(/-/g,"_");K0[i]=r,ya[r]||(ya[r]=e)}Object.freeze(F0);Object.freeze(K0);Object.freeze(ya);var Z4=Object.freeze(q0);Nd.exports={nameToVarint:F0,constantToCode:K0,nameToCode:Z4,codeToName:ya}});var Wd=C((lE,qd)=>{"use strict";var ga=N0(),X4=Br(),Fd=L0(),{nameToVarint:va,constantToCode:Q4,nameToCode:Kd,codeToName:U0}=Ld();function $4(t,e){let r;if(t instanceof Uint8Array)r=Fd.varintUint8ArrayEncode(t);else if(va[t])r=va[t];else throw new Error("multicodec not recognized");return X4([r,e],r.length+e.length)}function e6(t){return ga.decode(t),t.slice(ga.decode.bytes)}function Ud(t){let e=ga.decode(t),r=U0[e];if(r===void 0)throw new Error(`Code "${e}" not found`);return r}function zd(t){return U0[t]}function Gd(t){let e=Kd[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function Vd(t){return ga.decode(t)}function Hd(t){let e=va[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function jd(t){return Fd.varintEncode(t)}function t6(t){return Ud(t)}function r6(t){return zd(t)}function i6(t){return Gd(t)}function n6(t){return Vd(t)}function s6(t){return Hd(t)}function a6(t){return Array.from(jd(t))}qd.exports={addPrefix:$4,rmPrefix:e6,getNameFromData:Ud,getNameFromCode:zd,getCodeFromName:Gd,getCodeFromData:Vd,getVarintFromName:Hd,getVarintFromCode:jd,getCodec:t6,getName:r6,getNumber:i6,getCode:n6,getCodeVarint:s6,getVarint:a6,...Q4,nameToVarint:va,nameToCode:Kd,codeToName:U0}});var Jd=C((dE,Yd)=>{"use strict";var o6=Wi(),f6={checkCIDComponents:function(t){if(t==null)return"null values are not valid CIDs";if(!(t.version===0||t.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof t.codec!="string")return"codec must be string";if(t.version===0){if(t.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(t.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(t.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{o6.validate(t.multihash)}catch(e){let r=e.message;return r||(r="Multihash validation failed"),r}}};Yd.exports=f6});var wi=C((pE,Zd)=>{"use strict";function c6(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}Zd.exports=c6});var ep=C((bE,Xd)=>{"use strict";var xa=Wi(),z0=ji(),Yi=Wd(),u6=Jd(),Qd=Br(),h6=Yt(),l6=wi(),ma=Yi.nameToCode,d6=Object.keys(ma).reduce((t,e)=>(t[ma[e]]=e,t),{}),$d=Symbol.for("@ipld/js-cid/CID"),hr=class{constructor(e,r,i,n){if(this.version,this.codec,this.multihash,Object.defineProperty(this,$d,{value:!0}),hr.isCID(e)){let s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){let s=z0.isEncoded(e);if(s){let a=z0.decode(e);this.version=parseInt(a[0].toString(),16),this.codec=Yi.getCodec(a.slice(1)),this.multihash=Yi.rmPrefix(a.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=xa.fromB58String(e),this.multibaseName="base58btc";hr.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let s=parseInt(e[0].toString(),16);if(s===1){let a=e;this.version=s,this.codec=Yi.getCodec(a.slice(1)),this.multihash=Yi.rmPrefix(a.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";hr.validateCID(this);return}this.version=e,typeof r=="number"&&(r=d6[r]),this.codec=r,this.multihash=i,this.multibaseName=n||(e===0?"base58btc":"base32"),hr.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let r=Yi.getCodeVarint(this.codec);e=Qd([[1],r,this.multihash],1+r.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=Yi.getCodeVarint(this.codec),r=xa.prefix(this.multihash);return Qd([[this.version],e,r],1+e.byteLength+r.byteLength)}get code(){return ma[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:r}=xa.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(r!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new hr(0,this.codec,this.multihash)}toV1(){return new hr(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let r;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");r=xa.toB58String(this.multihash)}else if(this.version===1)r=h6(z0.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:r}),r}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&l6(this.multihash,e.multihash)}static validateCID(e){let r=u6.checkCIDComponents(e);if(r)throw new Error(r)}static isCID(e){return e instanceof hr||Boolean(e&&e[$d])}};hr.codecs=ma;Xd.exports=hr});var _a=C((yE,tp)=>{"use strict";var Ji=En(),wa=Ji.Reader,rp=Ji.Writer,Dt=Ji.util,er=Ji.roots["libp2p-crypto-keys"]||(Ji.roots["libp2p-crypto-keys"]={});er.KeyType=function(){var t={},e=Object.create(t);return e[t[0]="RSA"]=0,e[t[1]="Ed25519"]=1,e[t[2]="Secp256k1"]=2,e}();er.PublicKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Dt.newBuffer([]),t.encode=function(r,i){return i||(i=rp.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof wa||(r=wa.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new er.PublicKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Dt.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Dt.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof er.PublicKey)return r;var i=new er.PublicKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Dt.base64.decode(r.Data,i.Data=Dt.newBuffer(Dt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Dt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?er.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Dt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ji.util.toJSONOptions)},t}();er.PrivateKey=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.Type=0,t.prototype.Data=Dt.newBuffer([]),t.encode=function(r,i){return i||(i=rp.create()),i.uint32(8).int32(r.Type),i.uint32(18).bytes(r.Data),i},t.decode=function(r,i){r instanceof wa||(r=wa.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new er.PrivateKey;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.Type=r.int32();break;case 2:s.Data=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("Type"))throw Dt.ProtocolError("missing required 'Type'",{instance:s});if(!s.hasOwnProperty("Data"))throw Dt.ProtocolError("missing required 'Data'",{instance:s});return s},t.fromObject=function(r){if(r instanceof er.PrivateKey)return r;var i=new er.PrivateKey;switch(r.Type){case"RSA":case 0:i.Type=0;break;case"Ed25519":case 1:i.Type=1;break;case"Secp256k1":case 2:i.Type=2;break}return r.Data!=null&&(typeof r.Data=="string"?Dt.base64.decode(r.Data,i.Data=Dt.newBuffer(Dt.base64.length(r.Data)),0):r.Data.length&&(i.Data=r.Data)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(n.Type=i.enums===String?"RSA":0,i.bytes===String?n.Data="":(n.Data=[],i.bytes!==Array&&(n.Data=Dt.newBuffer(n.Data)))),r.Type!=null&&r.hasOwnProperty("Type")&&(n.Type=i.enums===String?er.KeyType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(n.Data=i.bytes===String?Dt.base64.encode(r.Data,0,r.Data.length):i.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,Ji.util.toJSONOptions)},t}();tp.exports=er});var me=C((gE,ip)=>{ip.exports={options:{usePureJavaScript:!1}}});var ap=C((vE,np)=>{var G0={};np.exports=G0;var sp={};G0.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var i="";if(!(t instanceof Uint8Array))i=p6(t,e);else{var n=0,s=e.length,a=e.charAt(0),f=[0];for(n=0;n<t.length;++n){for(var o=0,c=t[n];o<f.length;++o)c+=f[o]<<8,f[o]=c%s,c=c/s|0;for(;c>0;)f.push(c%s),c=c/s|0}for(n=0;t[n]===0&&n<t.length-1;++n)i+=a;for(n=f.length-1;n>=0;--n)i+=e[f[n]]}if(r){var u=new RegExp(".{1,"+r+"}","g");i=i.match(u).join(`\r
`)}return i};G0.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=sp[e];if(!r){r=sp[e]=[];for(var i=0;i<e.length;++i)r[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");for(var n=e.length,s=e.charAt(0),a=[0],i=0;i<t.length;i++){var f=r[t.charCodeAt(i)];if(f===void 0)return;for(var o=0,c=f;o<a.length;++o)c+=a[o]*n,a[o]=c&255,c>>=8;for(;c>0;)a.push(c&255),c>>=8}for(var u=0;t[u]===s&&u<t.length-1;++u)a.push(0);return typeof Buffer!="undefined"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function p6(t,e){var r=0,i=e.length,n=e.charAt(0),s=[0];for(r=0;r<t.length();++r){for(var a=0,f=t.at(r);a<s.length;++a)f+=s[a]<<8,s[a]=f%i,f=f/i|0;for(;f>0;)s.push(f%i),f=f/i|0}var o="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)o+=n;for(r=s.length-1;r>=0;--r)o+=e[s[r]];return o}});var Fe=C((xE,op)=>{var fp=me(),cp=ap(),T=op.exports=fp.util=fp.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){T.nextTick=process.nextTick,typeof setImmediate=="function"?T.setImmediate=setImmediate:T.setImmediate=T.nextTick;return}if(typeof setImmediate=="function"){T.setImmediate=function(){return setImmediate.apply(void 0,arguments)},T.nextTick=function(f){return setImmediate(f)};return}if(T.setImmediate=function(f){setTimeout(f,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let f=function(o){if(o.source===window&&o.data===t){o.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(u){u()})}};var a=f,t="forge.setImmediate",e=[];T.setImmediate=function(o){e.push(o),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",f,!0)}if(typeof MutationObserver!="undefined"){var r=Date.now(),i=!0,n=document.createElement("div"),e=[];new MutationObserver(function(){var o=e.slice();e.length=0,o.forEach(function(c){c()})}).observe(n,{attributes:!0});var s=T.setImmediate;T.setImmediate=function(o){Date.now()-r>15?(r=Date.now(),s(o)):(e.push(o),e.length===1&&n.setAttribute("a",i=!i))}}T.nextTick=T.setImmediate})();T.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;T.globalScope=function(){return T.isNodejs?globalThis:typeof self=="undefined"?window:self}();T.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};T.isArrayBuffer=function(t){return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer};T.isArrayBufferView=function(t){return t&&T.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function gs(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}T.ByteBuffer=V0;function V0(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(T.isArrayBuffer(t)||T.isArrayBufferView(t))if(typeof Buffer!="undefined"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof V0||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}T.ByteStringBuffer=V0;var b6=4096;T.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>b6&&(this.data.substr(0,1),this._constructedStringLength=0)};T.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};T.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};T.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};T.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};T.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};T.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(T.encodeUtf8(t))};T.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};T.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};T.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};T.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};T.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};T.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};T.ByteStringBuffer.prototype.putInt=function(t,e){gs(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};T.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};T.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};T.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};T.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};T.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};T.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};T.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};T.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};T.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};T.ByteStringBuffer.prototype.getInt=function(t){gs(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};T.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};T.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};T.ByteStringBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};T.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};T.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};T.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};T.ByteStringBuffer.prototype.copy=function(){var t=T.createBuffer(this.data);return t.read=this.read,t};T.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};T.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};T.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};T.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};T.ByteStringBuffer.prototype.toString=function(){return T.decodeUtf8(this.bytes())};function y6(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=T.isArrayBuffer(t),i=T.isArrayBufferView(t);if(r||i){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}T.DataBuffer=y6;T.DataBuffer.prototype.length=function(){return this.write-this.read};T.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};T.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+e);return i.set(r),this.data=new DataView(i.buffer),this};T.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};T.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};T.DataBuffer.prototype.putBytes=function(t,e){if(T.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=r.byteLength-r.byteOffset;this.accommodate(i);var n=new Uint8Array(this.data.buffer,this.write);return n.set(r),this.write+=i,this}if(T.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof T.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&T.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var n=new Uint8Array(t.data.byteLength,this.write);return n.set(r),this.write+=r.byteLength,this}if(t instanceof T.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=T.binary.hex.decode(t,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=T.binary.base64.decode(t,s,this.write),this;if(e==="utf8"&&(t=T.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=T.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(t.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=T.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};T.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};T.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};T.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};T.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};T.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};T.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};T.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};T.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};T.DataBuffer.prototype.putInt=function(t,e){gs(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};T.DataBuffer.prototype.putSignedInt=function(t,e){return gs(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};T.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};T.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};T.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};T.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};T.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};T.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};T.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};T.DataBuffer.prototype.getInt=function(t){gs(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};T.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};T.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};T.DataBuffer.prototype.bytes=function(t){return typeof t=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};T.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};T.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};T.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};T.DataBuffer.prototype.copy=function(){return new T.DataBuffer(this)};T.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};T.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};T.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};T.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};T.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return T.binary.raw.encode(e);if(t==="hex")return T.binary.hex.encode(e);if(t==="base64")return T.binary.base64.encode(e);if(t==="utf8")return T.text.utf8.decode(e);if(t==="utf16")return T.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};T.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=T.encodeUtf8(t)),new T.ByteBuffer(t)};T.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};T.xorBytes=function(t,e,r){for(var i="",n="",s="",a=0,f=0;r>0;--r,++a)n=t.charCodeAt(a)^e.charCodeAt(a),f>=10&&(i+=s,s="",f=0),s+=String.fromCharCode(n),++f;return i+=s,i};T.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};T.bytesToHex=function(t){return T.createBuffer(t).toHex()};T.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var _i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ei=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],up="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";T.encode64=function(t,e){for(var r="",i="",n,s,a,f=0;f<t.length;)n=t.charCodeAt(f++),s=t.charCodeAt(f++),a=t.charCodeAt(f++),r+=_i.charAt(n>>2),r+=_i.charAt((n&3)<<4|s>>4),isNaN(s)?r+="==":(r+=_i.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":_i.charAt(a&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};T.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,i,n,s,a=0;a<t.length;)r=Ei[t.charCodeAt(a++)-43],i=Ei[t.charCodeAt(a++)-43],n=Ei[t.charCodeAt(a++)-43],s=Ei[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|i>>4),n!==64&&(e+=String.fromCharCode((i&15)<<4|n>>2),s!==64&&(e+=String.fromCharCode((n&3)<<6|s)));return e};T.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};T.decodeUtf8=function(t){return decodeURIComponent(escape(t))};T.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:cp.encode,decode:cp.decode}};T.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};T.binary.raw.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,s=0;s<t.length;++s)i[n++]=t.charCodeAt(s);return e?n-r:i};T.binary.hex.encode=T.bytesToHex;T.binary.hex.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var n=0,s=r;for(t.length&1&&(n=1,i[s++]=parseInt(t[0],16));n<t.length;n+=2)i[s++]=parseInt(t.substr(n,2),16);return e?s-r:i};T.binary.base64.encode=function(t,e){for(var r="",i="",n,s,a,f=0;f<t.byteLength;)n=t[f++],s=t[f++],a=t[f++],r+=_i.charAt(n>>2),r+=_i.charAt((n&3)<<4|s>>4),isNaN(s)?r+="==":(r+=_i.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":_i.charAt(a&63)),e&&r.length>e&&(i+=r.substr(0,e)+`\r
`,r=r.substr(e));return i+=r,i};T.binary.base64.decode=function(t,e,r){var i=e;i||(i=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var n,s,a,f,o=0,c=r;o<t.length;)n=Ei[t.charCodeAt(o++)-43],s=Ei[t.charCodeAt(o++)-43],a=Ei[t.charCodeAt(o++)-43],f=Ei[t.charCodeAt(o++)-43],i[c++]=n<<2|s>>4,a!==64&&(i[c++]=(s&15)<<4|a>>2,f!==64&&(i[c++]=(a&3)<<6|f));return e?c-r:i.subarray(0,c)};T.binary.base58.encode=function(t,e){return T.binary.baseN.encode(t,up,e)};T.binary.base58.decode=function(t,e){return T.binary.baseN.decode(t,up,e)};T.text={utf8:{},utf16:{}};T.text.utf8.encode=function(t,e,r){t=T.encodeUtf8(t);var i=e;i||(i=new Uint8Array(t.length)),r=r||0;for(var n=r,s=0;s<t.length;++s)i[n++]=t.charCodeAt(s);return e?n-r:i};T.text.utf8.decode=function(t){return T.decodeUtf8(String.fromCharCode.apply(null,t))};T.text.utf16.encode=function(t,e,r){var i=e;i||(i=new Uint8Array(t.length*2));var n=new Uint16Array(i.buffer);r=r||0;for(var s=r,a=r,f=0;f<t.length;++f)n[a++]=t.charCodeAt(f),s+=2;return e?s-r:i};T.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};T.deflate=function(t,e,r){if(e=T.decode64(t.deflate(T.encode64(e)).rval),r){var i=2,n=e.charCodeAt(1);n&32&&(i=6),e=e.substring(i,e.length-4)}return e};T.inflate=function(t,e,r){var i=t.inflate(T.encode64(e)).rval;return i===null?null:T.decode64(i)};var H0=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var i;if(r===null?i=t.removeItem(e):(r=T.encode64(JSON.stringify(r)),i=t.setItem(e,r)),typeof i!="undefined"&&i.rval!==!0){var n=new Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},j0=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(T.decode64(r))),r},g6=function(t,e,r,i){var n=j0(t,e);n===null&&(n={}),n[r]=i,H0(t,e,n)},v6=function(t,e,r){var i=j0(t,e);return i!==null&&(i=r in i?i[r]:null),i},x6=function(t,e,r){var i=j0(t,e);if(i!==null&&r in i){delete i[r];var n=!0;for(var s in i){n=!1;break}n&&(i=null),H0(t,e,i)}},m6=function(t,e){H0(t,e,null)},Ea=function(t,e,r){var i=null;typeof r=="undefined"&&(r=["web","flash"]);var n,s=!1,a=null;for(var f in r){n=r[f];try{if(n==="flash"||n==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");i=t.apply(this,e),s=n==="flash"}(n==="web"||n==="both")&&(e[0]=localStorage,i=t.apply(this,e),s=!0)}catch(o){a=o}if(s)break}if(!s)throw a;return i};T.setItem=function(t,e,r,i,n){Ea(g6,arguments,n)};T.getItem=function(t,e,r,i){return Ea(v6,arguments,i)};T.removeItem=function(t,e,r,i){Ea(x6,arguments,i)};T.clearItems=function(t,e,r){Ea(m6,arguments,r)};T.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),i=r===null?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return i&&(i.fullHost=i.host,i.port?(i.port!==80&&i.scheme==="http"||i.port!==443&&i.scheme==="https")&&(i.fullHost+=":"+i.port):i.scheme==="http"?i.port=80:i.scheme==="https"&&(i.port=443),i.full=i.scheme+"://"+i.fullHost),i};var Sa=null;T.getQueryVariables=function(t){var e=function(i){for(var n={},s=i.split("&"),a=0;a<s.length;a++){var f=s[a].indexOf("="),o,c;f>0?(o=s[a].substring(0,f),c=s[a].substring(f+1)):(o=s[a],c=null),o in n||(n[o]=[]),!(o in Object.prototype)&&c!==null&&n[o].push(unescape(c))}return n},r;return typeof t=="undefined"?(Sa===null&&(typeof window!="undefined"&&window.location&&window.location.search?Sa=e(window.location.search.substring(1)):Sa={}),r=Sa):r=e(t),r};T.parseFragment=function(t){var e=t,r="",i=t.indexOf("?");i>0&&(e=t.substring(0,i),r=t.substring(i+1));var n=e.split("/");n.length>0&&n[0]===""&&n.shift();var s=r===""?{}:T.getQueryVariables(r);return{pathString:e,queryString:r,path:n,query:s}};T.makeRequest=function(t){var e=T.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(i){return typeof i=="undefined"?e.path:e.path[i]},getQuery:function(i,n){var s;return typeof i=="undefined"?s=e.query:(s=e.query[i],s&&typeof n!="undefined"&&(s=s[n])),s},getQueryLast:function(i,n){var s,a=r.getQuery(i);return a?s=a[a.length-1]:s=n,s}};return r};T.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var i=jQuery.param(e||{});return r=r||"",t+(i.length>0?"?"+i:"")+(r.length>0?"#"+r:"")};T.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};T.format=function(t){for(var e=/%./g,r,i,n=0,s=[],a=0;r=e.exec(t);){i=t.substring(a,e.lastIndex-2),i.length>0&&s.push(i),a=e.lastIndex;var f=r[0][1];switch(f){case"s":case"o":n<arguments.length?s.push(arguments[n+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+f+"?>")}}return s.push(t.substring(a)),s.join("")};T.formatNumber=function(t,e,r,i){var n=t,s=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,f=i===void 0?".":i,o=n<0?"-":"",c=parseInt(n=Math.abs(+n||0).toFixed(s),10)+"",u=c.length>3?c.length%3:0;return o+(u?c.substr(0,u)+f:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+f)+(s?a+Math.abs(n-c).toFixed(s).slice(2):"")};T.formatSize=function(t){return t>=1073741824?t=T.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=T.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=T.formatNumber(t/1024,0)+" KiB":t=T.formatNumber(t,0)+" bytes",t};T.bytesFromIP=function(t){return t.indexOf(".")!==-1?T.bytesFromIPv4(t):t.indexOf(":")!==-1?T.bytesFromIPv6(t):null};T.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=T.createBuffer(),r=0;r<t.length;++r){var i=parseInt(t[r],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()};T.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,i=T.createBuffer(),n=0;n<8;++n){if(!t[n]||t[n].length===0){i.fillWithByte(0,r),r=0;continue}var s=T.hexToBytes(t[n]);s.length<2&&i.putByte(0),i.putBytes(s)}return i.getBytes()};T.bytesToIP=function(t){return t.length===4?T.bytesToIPv4(t):t.length===16?T.bytesToIPv6(t):null};T.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};T.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],i=0,n=0;n<t.length;n+=2){for(var s=T.bytesToHex(t[n]+t[n+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],f=e.length;!a||f!==a.end+1?r.push({start:f,end:f}):(a.end=f,a.end-a.start>r[i].end-r[i].start&&(i=r.length-1))}e.push(s)}if(r.length>0){var o=r[i];o.end-o.start>0&&(e.splice(o.start,o.end-o.start+1,""),o.start===0&&e.unshift(""),o.end===7&&e.push(""))}return e.join(":")};T.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in T&&!t.update)return e(null,T.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return T.cores=navigator.hardwareConcurrency,e(null,T.cores);if(typeof Worker=="undefined")return T.cores=1,e(null,T.cores);if(typeof Blob=="undefined")return T.cores=2,e(null,T.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var f=Date.now(),o=f+4;Date.now()<o;);self.postMessage({st:f,et:o})})}.toString(),")()"],{type:"application/javascript"}));i([],5,16);function i(a,f,o){if(f===0){var c=Math.floor(a.reduce(function(u,h){return u+h},0)/a.length);return T.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,T.cores)}n(o,function(u,h){a.push(s(o,h)),i(a,f-1,o)})}function n(a,f){for(var o=[],c=[],u=0;u<a;++u){var h=new Worker(r);h.addEventListener("message",function(b){if(c.push(b.data),c.length===a){for(var g=0;g<a;++g)o[g].terminate();f(null,c)}}),o.push(h)}for(var u=0;u<a;++u)o[u].postMessage(u)}function s(a,f){for(var o=[],c=0;c<a;++c)for(var u=f[c],h=o[c]=[],b=0;b<a;++b)if(c!==b){var g=f[b];(u.st>g.st&&u.st<g.et||g.st>u.st&&g.st<u.et)&&h.push(b)}return o.reduce(function(y,S){return Math.max(y,S.length)},0)}}});var Ia=C((mE,hp)=>{var vs=me();vs.pki=vs.pki||{};var W0=hp.exports=vs.pki.oids=vs.oids=vs.oids||{};function K(t,e){W0[t]=e,W0[e]=t}function we(t,e){W0[t]=e}K("1.2.840.113549.1.1.1","rsaEncryption");K("1.2.840.113549.1.1.4","md5WithRSAEncryption");K("1.2.840.113549.1.1.5","sha1WithRSAEncryption");K("1.2.840.113549.1.1.7","RSAES-OAEP");K("1.2.840.113549.1.1.8","mgf1");K("1.2.840.113549.1.1.9","pSpecified");K("1.2.840.113549.1.1.10","RSASSA-PSS");K("1.2.840.113549.1.1.11","sha256WithRSAEncryption");K("1.2.840.113549.1.1.12","sha384WithRSAEncryption");K("1.2.840.113549.1.1.13","sha512WithRSAEncryption");K("1.3.101.112","EdDSA25519");K("1.2.840.10040.4.3","dsa-with-sha1");K("1.3.14.3.2.7","desCBC");K("1.3.14.3.2.26","sha1");K("2.16.840.1.101.3.4.2.1","sha256");K("2.16.840.1.101.3.4.2.2","sha384");K("2.16.840.1.101.3.4.2.3","sha512");K("1.2.840.113549.2.5","md5");K("1.2.840.113549.1.7.1","data");K("1.2.840.113549.1.7.2","signedData");K("1.2.840.113549.1.7.3","envelopedData");K("1.2.840.113549.1.7.4","signedAndEnvelopedData");K("1.2.840.113549.1.7.5","digestedData");K("1.2.840.113549.1.7.6","encryptedData");K("1.2.840.113549.1.9.1","emailAddress");K("1.2.840.113549.1.9.2","unstructuredName");K("1.2.840.113549.1.9.3","contentType");K("1.2.840.113549.1.9.4","messageDigest");K("1.2.840.113549.1.9.5","signingTime");K("1.2.840.113549.1.9.6","counterSignature");K("1.2.840.113549.1.9.7","challengePassword");K("1.2.840.113549.1.9.8","unstructuredAddress");K("1.2.840.113549.1.9.14","extensionRequest");K("1.2.840.113549.1.9.20","friendlyName");K("1.2.840.113549.1.9.21","localKeyId");K("1.2.840.113549.1.9.22.1","x509Certificate");K("1.2.840.113549.1.12.10.1.1","keyBag");K("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");K("1.2.840.113549.1.12.10.1.3","certBag");K("1.2.840.113549.1.12.10.1.4","crlBag");K("1.2.840.113549.1.12.10.1.5","secretBag");K("1.2.840.113549.1.12.10.1.6","safeContentsBag");K("1.2.840.113549.1.5.13","pkcs5PBES2");K("1.2.840.113549.1.5.12","pkcs5PBKDF2");K("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");K("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");K("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");K("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");K("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");K("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");K("1.2.840.113549.2.7","hmacWithSHA1");K("1.2.840.113549.2.8","hmacWithSHA224");K("1.2.840.113549.2.9","hmacWithSHA256");K("1.2.840.113549.2.10","hmacWithSHA384");K("1.2.840.113549.2.11","hmacWithSHA512");K("1.2.840.113549.3.7","des-EDE3-CBC");K("2.16.840.1.101.3.4.1.2","aes128-CBC");K("2.16.840.1.101.3.4.1.22","aes192-CBC");K("2.16.840.1.101.3.4.1.42","aes256-CBC");K("2.5.4.3","commonName");K("2.5.4.5","serialName");K("2.5.4.6","countryName");K("2.5.4.7","localityName");K("2.5.4.8","stateOrProvinceName");K("2.5.4.9","streetAddress");K("2.5.4.10","organizationName");K("2.5.4.11","organizationalUnitName");K("2.5.4.13","description");K("2.5.4.15","businessCategory");K("2.5.4.17","postalCode");K("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");K("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");K("2.16.840.1.113730.1.1","nsCertType");K("2.16.840.1.113730.1.13","nsComment");we("2.5.29.1","authorityKeyIdentifier");we("2.5.29.2","keyAttributes");we("2.5.29.3","certificatePolicies");we("2.5.29.4","keyUsageRestriction");we("2.5.29.5","policyMapping");we("2.5.29.6","subtreesConstraint");we("2.5.29.7","subjectAltName");we("2.5.29.8","issuerAltName");we("2.5.29.9","subjectDirectoryAttributes");we("2.5.29.10","basicConstraints");we("2.5.29.11","nameConstraints");we("2.5.29.12","policyConstraints");we("2.5.29.13","basicConstraints");K("2.5.29.14","subjectKeyIdentifier");K("2.5.29.15","keyUsage");we("2.5.29.16","privateKeyUsagePeriod");K("2.5.29.17","subjectAltName");K("2.5.29.18","issuerAltName");K("2.5.29.19","basicConstraints");we("2.5.29.20","cRLNumber");we("2.5.29.21","cRLReason");we("2.5.29.22","expirationDate");we("2.5.29.23","instructionCode");we("2.5.29.24","invalidityDate");we("2.5.29.25","cRLDistributionPoints");we("2.5.29.26","issuingDistributionPoint");we("2.5.29.27","deltaCRLIndicator");we("2.5.29.28","issuingDistributionPoint");we("2.5.29.29","certificateIssuer");we("2.5.29.30","nameConstraints");K("2.5.29.31","cRLDistributionPoints");K("2.5.29.32","certificatePolicies");we("2.5.29.33","policyMappings");we("2.5.29.34","policyConstraints");K("2.5.29.35","authorityKeyIdentifier");we("2.5.29.36","policyConstraints");K("2.5.29.37","extKeyUsage");we("2.5.29.46","freshestCRL");we("2.5.29.54","inhibitAnyPolicy");K("1.3.6.1.4.1.11129.2.4.2","timestampList");K("1.3.6.1.5.5.7.1.1","authorityInfoAccess");K("1.3.6.1.5.5.7.3.1","serverAuth");K("1.3.6.1.5.5.7.3.2","clientAuth");K("1.3.6.1.5.5.7.3.3","codeSigning");K("1.3.6.1.5.5.7.3.4","emailProtection");K("1.3.6.1.5.5.7.3.8","timeStamping")});var Pn=C((wE,lp)=>{var Pe=me();Fe();Ia();var H=lp.exports=Pe.asn1=Pe.asn1||{};H.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};H.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};H.create=function(t,e,r,i,n){if(Pe.util.isArray(i)){for(var s=[],a=0;a<i.length;++a)i[a]!==void 0&&s.push(i[a]);i=s}var f={tagClass:t,type:e,constructed:r,composed:r||Pe.util.isArray(i),value:i};return n&&"bitStringContents"in n&&(f.bitStringContents=n.bitStringContents,f.original=H.copy(f)),f};H.copy=function(t,e){var r;if(Pe.util.isArray(t)){r=[];for(var i=0;i<t.length;++i)r.push(H.copy(t[i],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:H.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};H.equals=function(t,e,r){if(Pe.util.isArray(t)){if(!Pe.util.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(!H.equals(t[i],e[i]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var n=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&H.equals(t.value,e.value);return r&&r.includeBitStringContents&&(n=n&&t.bitStringContents===e.bitStringContents),n};H.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,i=e&128;return i?r=t.getInt((e&127)<<3):r=e,r}};function xs(t,e,r){if(r>e){var i=new Error("Too few bytes to parse DER.");throw i.available=t.length(),i.remaining=e,i.requested=r,i}}var w6=function(t,e){var r=t.getByte();if(e--,r!==128){var i,n=r&128;if(!n)i=r;else{var s=r&127;xs(t,e,s),i=t.getInt(s<<3)}if(i<0)throw new Error("Negative length: "+i);return i}};H.fromDer=function(t,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Pe.util.createBuffer(t)),Aa(t,t.length(),0,e)};function Aa(t,e,r,i){var n;xs(t,e,2);var s=t.getByte();e--;var a=s&192,f=s&31;n=t.length();var o=w6(t,e);if(e-=n-t.length(),o!==void 0&&o>e){if(i.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=o,c}o=e}var u,h,b=(s&32)==32;if(b)if(u=[],o===void 0)for(;;){if(xs(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}n=t.length(),u.push(Aa(t,e,r+1,i)),e-=n-t.length()}else for(;o>0;)n=t.length(),u.push(Aa(t,o,r+1,i)),e-=n-t.length(),o-=n-t.length();if(u===void 0&&a===H.Class.UNIVERSAL&&f===H.Type.BITSTRING&&(h=t.bytes(o)),u===void 0&&i.decodeBitStrings&&a===H.Class.UNIVERSAL&&f===H.Type.BITSTRING&&o>1){var g=t.read,y=e,S=0;if(f===H.Type.BITSTRING&&(xs(t,e,1),S=t.getByte(),e--),S===0)try{n=t.length();var I={verbose:i.verbose,strict:!0,decodeBitStrings:!0},B=Aa(t,e,r+1,I),R=n-t.length();e-=R,f==H.Type.BITSTRING&&R++;var M=B.tagClass;R===o&&(M===H.Class.UNIVERSAL||M===H.Class.CONTEXT_SPECIFIC)&&(u=[B])}catch(L){}u===void 0&&(t.read=g,e=y)}if(u===void 0){if(o===void 0){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");o=e}if(f===H.Type.BMPSTRING)for(u="";o>0;o-=2)xs(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(o)}var F=h===void 0?null:{bitStringContents:h};return H.create(a,f,b,u,F)}H.toDer=function(t){var e=Pe.util.createBuffer(),r=t.tagClass|t.type,i=Pe.util.createBuffer(),n=!1;if("bitStringContents"in t&&(n=!0,t.original&&(n=H.equals(t,t.original))),n)i.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:i.putByte(0);for(var s=0;s<t.value.length;++s)t.value[s]!==void 0&&i.putBuffer(H.toDer(t.value[s]))}else if(t.type===H.Type.BMPSTRING)for(var s=0;s<t.value.length;++s)i.putInt16(t.value.charCodeAt(s));else t.type===H.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&(t.value.charCodeAt(1)&128)==0||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)==128)?i.putBytes(t.value.substr(1)):i.putBytes(t.value);if(e.putByte(r),i.length()<=127)e.putByte(i.length()&127);else{var a=i.length(),f="";do f+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(f.length|128);for(var s=f.length-1;s>=0;--s)e.putByte(f.charCodeAt(s))}return e.putBuffer(i),e};H.oidToDer=function(t){var e=t.split("."),r=Pe.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var i,n,s,a,f=2;f<e.length;++f){i=!0,n=[],s=parseInt(e[f],10);do a=s&127,s=s>>>7,i||(a|=128),n.push(a),i=!1;while(s>0);for(var o=n.length-1;o>=0;--o)r.putByte(n[o])}return r};H.derToOid=function(t){var e;typeof t=="string"&&(t=Pe.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)r=t.getByte(),i=i<<7,r&128?i+=r&127:(e+="."+(i+r),i=0);return e};H.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var i=parseInt(t.substr(2,2),10)-1,n=parseInt(t.substr(4,2),10),s=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),f=0;if(t.length>11){var o=t.charAt(10),c=10;o!=="+"&&o!=="-"&&(f=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,i,n),e.setUTCHours(s,a,f,0),c&&(o=t.charAt(c),o==="+"||o==="-")){var u=parseInt(t.substr(c+1,2),10),h=parseInt(t.substr(c+4,2),10),b=u*60+h;b*=6e4,o==="+"?e.setTime(+e-b):e.setTime(+e+b)}return e};H.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),i=parseInt(t.substr(4,2),10)-1,n=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),f=parseInt(t.substr(12,2),10),o=0,c=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var h=t.length-5,b=t.charAt(h);if(b==="+"||b==="-"){var g=parseInt(t.substr(h+1,2),10),y=parseInt(t.substr(h+4,2),10);c=g*60+y,c*=6e4,b==="+"&&(c*=-1),u=!0}return t.charAt(14)==="."&&(o=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,i,n),e.setUTCHours(s,a,f,o),e.setTime(+e+c)):(e.setFullYear(r,i,n),e.setHours(s,a,f,o)),e};H.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};H.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var i=0;i<r.length;++i)r[i].length<2&&(e+="0"),e+=r[i];return e+="Z",e};H.integerToDer=function(t){var e=Pe.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};H.derToInteger=function(t){typeof t=="string"&&(t=Pe.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};H.validate=function(t,e,r,i){var n=!1;if((t.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(t.type===e.type||typeof e.type=="undefined"))if(t.constructed===e.constructed||typeof e.constructed=="undefined"){if(n=!0,e.value&&Pe.util.isArray(e.value))for(var s=0,a=0;n&&a<e.value.length;++a)n=e.value[a].optional||!1,t.value[s]&&(n=H.validate(t.value[s],e.value[a],r,i),n?++s:e.value[a].optional&&(n=!0)),!n&&i&&i.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(n&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var f;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var o=t.bitStringContents.charCodeAt(0);if(o!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else i&&i.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else i&&(t.tagClass!==e.tagClass&&i.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&i.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return n};var dp=/[^\\u0000-\\u00ff]/;H.prettyPrint=function(t,e,r){var i="";e=e||0,r=r||2,e>0&&(i+=`
`);for(var n="",s=0;s<e*r;++s)n+=" ";switch(i+=n+"Tag: ",t.tagClass){case H.Class.UNIVERSAL:i+="Universal:";break;case H.Class.APPLICATION:i+="Application:";break;case H.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case H.Class.PRIVATE:i+="Private:";break}if(t.tagClass===H.Class.UNIVERSAL)switch(i+=t.type,t.type){case H.Type.NONE:i+=" (None)";break;case H.Type.BOOLEAN:i+=" (Boolean)";break;case H.Type.INTEGER:i+=" (Integer)";break;case H.Type.BITSTRING:i+=" (Bit string)";break;case H.Type.OCTETSTRING:i+=" (Octet string)";break;case H.Type.NULL:i+=" (Null)";break;case H.Type.OID:i+=" (Object Identifier)";break;case H.Type.ODESC:i+=" (Object Descriptor)";break;case H.Type.EXTERNAL:i+=" (External or Instance of)";break;case H.Type.REAL:i+=" (Real)";break;case H.Type.ENUMERATED:i+=" (Enumerated)";break;case H.Type.EMBEDDED:i+=" (Embedded PDV)";break;case H.Type.UTF8:i+=" (UTF8)";break;case H.Type.ROID:i+=" (Relative Object Identifier)";break;case H.Type.SEQUENCE:i+=" (Sequence)";break;case H.Type.SET:i+=" (Set)";break;case H.Type.PRINTABLESTRING:i+=" (Printable String)";break;case H.Type.IA5String:i+=" (IA5String (ASCII))";break;case H.Type.UTCTIME:i+=" (UTC time)";break;case H.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case H.Type.BMPSTRING:i+=" (BMP String)";break}else i+=t.type;if(i+=`
`,i+=n+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,f="",s=0;s<t.value.length;++s)t.value[s]!==void 0&&(a+=1,f+=H.prettyPrint(t.value[s],e+1,r),s+1<t.value.length&&(f+=","));i+=n+"Sub values: "+a+f}else{if(i+=n+"Value: ",t.type===H.Type.OID){var o=H.derToOid(t.value);i+=o,Pe.pki&&Pe.pki.oids&&o in Pe.pki.oids&&(i+=" ("+Pe.pki.oids[o]+") ")}if(t.type===H.Type.INTEGER)try{i+=H.derToInteger(t.value)}catch(u){i+="0x"+Pe.util.bytesToHex(t.value)}else if(t.type===H.Type.BITSTRING){if(t.value.length>1?i+="0x"+Pe.util.bytesToHex(t.value.slice(1)):i+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?i+=" (1 unused bit shown)":c>1&&(i+=" ("+c+" unused bits shown)")}}else t.type===H.Type.OCTETSTRING?(dp.test(t.value)||(i+="("+t.value+") "),i+="0x"+Pe.util.bytesToHex(t.value)):t.type===H.Type.UTF8?i+=Pe.util.decodeUtf8(t.value):t.type===H.Type.PRINTABLESTRING||t.type===H.Type.IA5String?i+=t.value:dp.test(t.value)?i+="0x"+Pe.util.bytesToHex(t.value):t.value.length===0?i+="[null]":i+=t.value}return i}});var J0=C((_E,pp)=>{var _t=me();Fe();pp.exports=_t.cipher=_t.cipher||{};_t.cipher.algorithms=_t.cipher.algorithms||{};_t.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=_t.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new _t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};_t.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=_t.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new _t.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};_t.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),_t.cipher.algorithms[t]=e};_t.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in _t.cipher.algorithms?_t.cipher.algorithms[t]:null};var Y0=_t.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Y0.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=_t.util.createBuffer(),this.output=t.output||_t.util.createBuffer(),this.mode.start(e)};Y0.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Y0.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var X0=C((EE,bp)=>{var Et=me();Fe();Et.cipher=Et.cipher||{};var ue=bp.exports=Et.cipher.modes=Et.cipher.modes||{};ue.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ue.ecb.prototype.start=function(t){};ue.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ue.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};ue.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ue.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ue.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ue.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Ba(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ue.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]);this._prev=this._outBlock};ue.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)};ue.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ue.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),i=t.at(r-1);return i>this.blockSize<<2?!1:(t.truncate(i),!0)};ue.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0};ue.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ba(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.cfb.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32()^this._outBlock[n],e.putInt32(this._inBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.cfb.prototype.decrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32(),e.putInt32(this._inBlock[n]^this._outBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0};ue.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ba(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.ofb.prototype.encrypt=function(t,e,r){var i=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s>0)t.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};ue.ofb.prototype.decrypt=ue.ofb.prototype.encrypt;ue.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0};ue.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Ba(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ue.ctr.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize)for(var n=0;n<this._ints;++n)e.putInt32(t.getInt32()^this._outBlock[n]);else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}ka(this._inBlock)};ue.ctr.prototype.decrypt=ue.ctr.prototype.encrypt;ue.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Et.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ue.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Et.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Et.util.createBuffer(t.additionalData):r=Et.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Et.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=e.length();if(i===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Z0(i*8)))}this._inBlock=this._j0.slice(0),ka(this._inBlock),this._partialBytes=0,r=Et.util.createBuffer(r),this._aDataLength=Z0(r.length()*8);var n=r.length()%this.blockSize;for(n&&r.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ue.gcm.prototype.encrypt=function(t,e,r){var i=t.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^=t.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(t.getInt32()^this._outBlock[n]);if(s<=0||r){if(r){var a=i%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ka(this._inBlock)};ue.gcm.prototype.decrypt=function(t,e,r){var i=t.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ka(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize};ue.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Et.util.createBuffer();var i=this._aDataLength.concat(Z0(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,i);var n=[];this.cipher.encrypt(this._j0,n);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^n[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ue.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],i=e.slice(0),n=0;n<128;++n){var s=t[n/32|0]&1<<31-n%32;s&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),this.pow(i,i)}return r};ue.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,i=3;i>0;--i)e[i]=t[i]>>>1|(t[i-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};ue.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var i=r/8|0,n=t[i]>>>(7-r%8)*4&15,s=this._m[r][n];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};ue.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};ue.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,i=4*r,n=16*r,s=new Array(n),a=0;a<n;++a){var f=[0,0,0,0],o=a/i|0,c=(i-1-a%i)*e;f[o]=1<<e-1<<c,s[a]=this.generateSubHashTable(this.multiply(f,t),e)}return s};ue.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,i=r>>>1,n=new Array(r);n[i]=t.slice(0);for(var s=i>>>1;s>0;)this.pow(n[2*s],n[s]=[]),s>>=1;for(s=2;s<i;){for(var a=1;a<s;++a){var f=n[s],o=n[a];n[s+a]=[f[0]^o[0],f[1]^o[1],f[2]^o[2],f[3]^o[3]]}s*=2}for(n[0]=[0,0,0,0],s=i+1;s<r;++s){var c=n[s^i];n[s]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return n};function Ba(t,e){if(typeof t=="string"&&(t=Et.util.createBuffer(t)),Et.util.isArray(t)&&t.length>4){var r=t;t=Et.util.createBuffer();for(var i=0;i<r.length;++i)t.putByte(r[i])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Et.util.isArray(t)){for(var n=[],s=e/4,i=0;i<s;++i)n.push(t.getInt32());t=n}return t}function ka(t){t[t.length-1]=t[t.length-1]+1&4294967295}function Z0(t){return[t/4294967296|0,t&4294967295]}});var tf=C((SE,yp)=>{var Ce=me();J0();X0();Fe();yp.exports=Ce.aes=Ce.aes||{};Ce.aes.startEncrypting=function(t,e,r,i){var n=Ca({key:t,output:r,decrypt:!1,mode:i});return n.start(e),n};Ce.aes.createEncryptionCipher=function(t,e){return Ca({key:t,output:null,decrypt:!1,mode:e})};Ce.aes.startDecrypting=function(t,e,r,i){var n=Ca({key:t,output:r,decrypt:!0,mode:i});return n.start(e),n};Ce.aes.createDecryptionCipher=function(t,e){return Ca({key:t,output:null,decrypt:!0,mode:e})};Ce.aes.Algorithm=function(t,e){Q0||gp();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(i,n){return $0(r._w,i,n,!1)},decrypt:function(i,n){return $0(r._w,i,n,!0)}}}),r._init=!1};Ce.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Ce.util.createBuffer(e);else if(Ce.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Ce.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(!Ce.util.isArray(e)){r=e,e=[];var n=r.length();if(n===16||n===24||n===32){n=n>>>2;for(var i=0;i<n;++i)e.push(r.getInt32())}}if(!Ce.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=vp(e,t.decrypt&&!a),this._init=!0}};Ce.aes._expandKey=function(t,e){return Q0||gp(),vp(t,e)};Ce.aes._updateBlock=$0;Dn("AES-ECB",Ce.cipher.modes.ecb);Dn("AES-CBC",Ce.cipher.modes.cbc);Dn("AES-CFB",Ce.cipher.modes.cfb);Dn("AES-OFB",Ce.cipher.modes.ofb);Dn("AES-CTR",Ce.cipher.modes.ctr);Dn("AES-GCM",Ce.cipher.modes.gcm);function Dn(t,e){var r=function(){return new Ce.aes.Algorithm(t,e)};Ce.cipher.registerAlgorithm(t,r)}var Q0=!1,On=4,qt,ef,xp,Zi,lr;function gp(){Q0=!0,xp=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;qt=new Array(256),ef=new Array(256),Zi=new Array(4),lr=new Array(4);for(var e=0;e<4;++e)Zi[e]=new Array(256),lr[e]=new Array(256);for(var r=0,i=0,n,s,a,f,o,c,u,e=0;e<256;++e){f=i^i<<1^i<<2^i<<3^i<<4,f=f>>8^f&255^99,qt[r]=f,ef[f]=r,o=t[f],n=t[r],s=t[n],a=t[s],c=o<<24^f<<16^f<<8^(f^o),u=(n^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^n^a);for(var h=0;h<4;++h)Zi[h][r]=c,lr[h][f]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=i=1:(r=n^t[t[t[n^a]]],i^=t[t[i]])}}function vp(t,e){for(var r=t.slice(0),i,n=1,s=r.length,a=s+6+1,f=On*a,o=s;o<f;++o)i=r[o-1],o%s==0?(i=qt[i>>>16&255]<<24^qt[i>>>8&255]<<16^qt[i&255]<<8^qt[i>>>24]^xp[n]<<24,n++):s>6&&o%s==4&&(i=qt[i>>>24]<<24^qt[i>>>16&255]<<16^qt[i>>>8&255]<<8^qt[i&255]),r[o]=r[o-s]^i;if(e){var c,u=lr[0],h=lr[1],b=lr[2],g=lr[3],y=r.slice(0);f=r.length;for(var o=0,S=f-On;o<f;o+=On,S-=On)if(o===0||o===f-On)y[o]=r[S],y[o+1]=r[S+3],y[o+2]=r[S+2],y[o+3]=r[S+1];else for(var I=0;I<On;++I)c=r[S+I],y[o+(3&-I)]=u[qt[c>>>24]]^h[qt[c>>>16&255]]^b[qt[c>>>8&255]]^g[qt[c&255]];r=y}return r}function $0(t,e,r,i){var n=t.length/4-1,s,a,f,o,c;i?(s=lr[0],a=lr[1],f=lr[2],o=lr[3],c=ef):(s=Zi[0],a=Zi[1],f=Zi[2],o=Zi[3],c=qt);var u,h,b,g,y,S,I;u=e[0]^t[0],h=e[i?3:1]^t[1],b=e[2]^t[2],g=e[i?1:3]^t[3];for(var B=3,R=1;R<n;++R)y=s[u>>>24]^a[h>>>16&255]^f[b>>>8&255]^o[g&255]^t[++B],S=s[h>>>24]^a[b>>>16&255]^f[g>>>8&255]^o[u&255]^t[++B],I=s[b>>>24]^a[g>>>16&255]^f[u>>>8&255]^o[h&255]^t[++B],g=s[g>>>24]^a[u>>>16&255]^f[h>>>8&255]^o[b&255]^t[++B],u=y,h=S,b=I;r[0]=c[u>>>24]<<24^c[h>>>16&255]<<16^c[b>>>8&255]<<8^c[g&255]^t[++B],r[i?3:1]=c[h>>>24]<<24^c[b>>>16&255]<<16^c[g>>>8&255]<<8^c[u&255]^t[++B],r[2]=c[b>>>24]<<24^c[g>>>16&255]<<16^c[u>>>8&255]<<8^c[h&255]^t[++B],r[i?1:3]=c[g>>>24]<<24^c[u>>>16&255]<<16^c[h>>>8&255]<<8^c[b&255]^t[++B]}function Ca(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,i;t.decrypt?i=Ce.cipher.createDecipher(r,t.key):i=Ce.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(s,a){var f=null;a instanceof Ce.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=s,n.call(i,a)},i}});var _p=C((IE,mp)=>{var De=me();J0();X0();Fe();mp.exports=De.des=De.des||{};De.des.startEncrypting=function(t,e,r,i){var n=Ta({key:t,output:r,decrypt:!1,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};De.des.createEncryptionCipher=function(t,e){return Ta({key:t,output:null,decrypt:!1,mode:e})};De.des.startDecrypting=function(t,e,r,i){var n=Ta({key:t,output:r,decrypt:!0,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};De.des.createDecryptionCipher=function(t,e){return Ta({key:t,output:null,decrypt:!0,mode:e})};De.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(i,n){return wp(r._keys,i,n,!1)},decrypt:function(i,n){return wp(r._keys,i,n,!0)}}}),r._init=!1};De.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=De.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=_6(e),this._init=!0}};kr("DES-ECB",De.cipher.modes.ecb);kr("DES-CBC",De.cipher.modes.cbc);kr("DES-CFB",De.cipher.modes.cfb);kr("DES-OFB",De.cipher.modes.ofb);kr("DES-CTR",De.cipher.modes.ctr);kr("3DES-ECB",De.cipher.modes.ecb);kr("3DES-CBC",De.cipher.modes.cbc);kr("3DES-CFB",De.cipher.modes.cfb);kr("3DES-OFB",De.cipher.modes.ofb);kr("3DES-CTR",De.cipher.modes.ctr);function kr(t,e){var r=function(){return new De.des.Algorithm(t,e)};De.cipher.registerAlgorithm(t,r)}var E6=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],S6=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],I6=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],A6=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],B6=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],k6=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],C6=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],T6=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function _6(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],o=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],b=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],S=t.length()>8?3:1,I=[],B=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],R=0,M,F=0;F<S;F++){var L=t.getInt32(),D=t.getInt32();M=(L>>>4^D)&252645135,D^=M,L^=M<<4,M=(D>>>-16^L)&65535,L^=M,D^=M<<-16,M=(L>>>2^D)&858993459,D^=M,L^=M<<2,M=(D>>>-16^L)&65535,L^=M,D^=M<<-16,M=(L>>>1^D)&1431655765,D^=M,L^=M<<1,M=(D>>>8^L)&16711935,L^=M,D^=M<<8,M=(L>>>1^D)&1431655765,D^=M,L^=M<<1,M=L<<8|D>>>20&240,L=D<<24|D<<8&16711680|D>>>8&65280|D>>>24&240,D=M;for(var j=0;j<B.length;++j){B[j]?(L=L<<2|L>>>26,D=D<<2|D>>>26):(L=L<<1|L>>>27,D=D<<1|D>>>27),L&=-15,D&=-15;var G=e[L>>>28]|r[L>>>24&15]|i[L>>>20&15]|n[L>>>16&15]|s[L>>>12&15]|a[L>>>8&15]|f[L>>>4&15],$=o[D>>>28]|c[D>>>24&15]|u[D>>>20&15]|h[D>>>16&15]|b[D>>>12&15]|g[D>>>8&15]|y[D>>>4&15];M=($>>>16^G)&65535,I[R++]=G^M,I[R++]=$^M<<16}}return I}function wp(t,e,r,i){var n=t.length===32?3:9,s;n===3?s=i?[30,-2,-2]:[0,32,2]:s=i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,f=e[0],o=e[1];a=(f>>>4^o)&252645135,o^=a,f^=a<<4,a=(f>>>16^o)&65535,o^=a,f^=a<<16,a=(o>>>2^f)&858993459,f^=a,o^=a<<2,a=(o>>>8^f)&16711935,f^=a,o^=a<<8,a=(f>>>1^o)&1431655765,o^=a,f^=a<<1,f=f<<1|f>>>31,o=o<<1|o>>>31;for(var c=0;c<n;c+=3){for(var u=s[c+1],h=s[c+2],b=s[c];b!=u;b+=h){var g=o^t[b],y=(o>>>4|o<<28)^t[b+1];a=f,f=o,o=a^(S6[g>>>24&63]|A6[g>>>16&63]|k6[g>>>8&63]|T6[g&63]|E6[y>>>24&63]|I6[y>>>16&63]|B6[y>>>8&63]|C6[y&63])}a=f,f=o,o=a}f=f>>>1|f<<31,o=o>>>1|o<<31,a=(f>>>1^o)&1431655765,o^=a,f^=a<<1,a=(o>>>8^f)&16711935,f^=a,o^=a<<8,a=(o>>>2^f)&858993459,f^=a,o^=a<<2,a=(f>>>16^o)&65535,o^=a,f^=a<<16,a=(f>>>4^o)&252645135,o^=a,f^=a<<4,r[0]=f,r[1]=o}function Ta(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,i;t.decrypt?i=De.cipher.createDecipher(r,t.key):i=De.cipher.createCipher(r,t.key);var n=i.start;return i.start=function(s,a){var f=null;a instanceof De.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=s,n.call(i,a)},i}});var Xi=C((AE,Ep)=>{var Ra=me();Ep.exports=Ra.md=Ra.md||{};Ra.md.algorithms=Ra.md.algorithms||{}});var Ip=C((BE,Sp)=>{var $r=me();Xi();Fe();var R6=Sp.exports=$r.hmac=$r.hmac||{};R6.create=function(){var t=null,e=null,r=null,i=null,n={};return n.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in $r.md.algorithms)e=$r.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(a===null)a=t;else{if(typeof a=="string")a=$r.util.createBuffer(a);else if($r.util.isArray(a)){var f=a;a=$r.util.createBuffer();for(var o=0;o<f.length;++o)a.putByte(f[o])}var c=a.length();c>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=$r.util.createBuffer(),i=$r.util.createBuffer(),c=a.length();for(var o=0;o<c;++o){var f=a.at(o);r.putByte(54^f),i.putByte(92^f)}if(c<e.blockLength)for(var f=e.blockLength-c,o=0;o<f;++o)r.putByte(54),i.putByte(92);t=a,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},n.update=function(s){e.update(s)},n.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(i),e.update(s),e.digest()},n.digest=n.getMac,n}});var ms=C(()=>{});var Bp=C((TE,Ap)=>{var Ft=me();Ip();Xi();Fe();var M6=Ft.pkcs5=Ft.pkcs5||{},ei;Ft.util.isNodejs&&!Ft.options.usePureJavaScript&&(ei=ms());Ap.exports=Ft.pbkdf2=M6.pbkdf2=function(t,e,r,i,n,s){if(typeof n=="function"&&(s=n,n=null),Ft.util.isNodejs&&!Ft.options.usePureJavaScript&&ei.pbkdf2&&(n===null||typeof n!="object")&&(ei.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),s?ei.pbkdf2Sync.length===4?ei.pbkdf2(t,e,r,i,function(M,F){if(M)return s(M);s(null,F.toString("binary"))}):ei.pbkdf2(t,e,r,i,n,function(M,F){if(M)return s(M);s(null,F.toString("binary"))}):ei.pbkdf2Sync.length===4?ei.pbkdf2Sync(t,e,r,i).toString("binary"):ei.pbkdf2Sync(t,e,r,i,n).toString("binary");if((typeof n=="undefined"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in Ft.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=Ft.md[n].create()}var a=n.digestLength;if(i>4294967295*a){var f=new Error("Derived key is too long.");if(s)return s(f);throw f}var o=Math.ceil(i/a),c=i-(o-1)*a,u=Ft.hmac.create();u.start(n,t);var h="",b,g,y;if(!s){for(var S=1;S<=o;++S){u.start(null,null),u.update(e),u.update(Ft.util.int32ToBytes(S)),b=y=u.digest().getBytes();for(var I=2;I<=r;++I)u.start(null,null),u.update(y),g=u.digest().getBytes(),b=Ft.util.xorBytes(b,g,a),y=g;h+=S<o?b:b.substr(0,c)}return h}var S=1,I;function B(){if(S>o)return s(null,h);u.start(null,null),u.update(e),u.update(Ft.util.int32ToBytes(S)),b=y=u.digest().getBytes(),I=2,R()}function R(){if(I<=r)return u.start(null,null),u.update(y),g=u.digest().getBytes(),b=Ft.util.xorBytes(b,g,a),y=g,++I,Ft.util.setImmediate(R);h+=S<o?b:b.substr(0,c),++S,B()}B()}});var Tp=C((RE,kp)=>{var Ma=me();Fe();var Cp=kp.exports=Ma.pem=Ma.pem||{};Cp.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,i;if(t.procType&&(i={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Pa(i)),t.contentDomain&&(i={name:"Content-Domain",values:[t.contentDomain]},r+=Pa(i)),t.dekInfo&&(i={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&i.values.push(t.dekInfo.parameters),r+=Pa(i)),t.headers)for(var n=0;n<t.headers.length;++n)r+=Pa(t.headers[n]);return t.procType&&(r+=`\r
`),r+=Ma.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Cp.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/,s;s=r.exec(t),!!s;){var a={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:Ma.util.decode64(s[3])};if(e.push(a),!!s[2]){for(var f=s[2].split(n),o=0;s&&o<f.length;){for(var c=f[o].replace(/\s+$/,""),u=o+1;u<f.length;++u){var h=f[u];if(!/\s/.test(h[0]))break;c+=h,o=u}if(s=c.match(i),s){for(var b={name:s[1],values:[]},g=s[2].split(","),y=0;y<g.length;++y)b.values.push(P6(g[y]));if(a.procType)if(!a.contentDomain&&b.name==="Content-Domain")a.contentDomain=g[0]||"";else if(!a.dekInfo&&b.name==="DEK-Info"){if(b.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:g[0],parameters:g[1]||null}}else a.headers.push(b);else{if(b.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(b.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:g[0],type:g[1]}}}++o}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Pa(t){for(var e=t.name+": ",r=[],i=function(o,c){return" "+c},n=0;n<t.values.length;++n)r.push(t.values[n].replace(/^(\S+\r\n)/,i));e+=r.join(",")+`\r
`;for(var s=0,a=-1,n=0;n<e.length;++n,++s)if(s>65&&a!==-1){var f=e[a];f===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+f+e.substr(a+1),s=n-a-1,a=-1,++n}else(e[n]===" "||e[n]==="	"||e[n]===",")&&(a=n);return e}function P6(t){return t.replace(/^\s+/,"")}});var Np=C((ME,Rp)=>{var Cr=me();Xi();Fe();var Mp=Rp.exports=Cr.sha256=Cr.sha256||{};Cr.md.sha256=Cr.md.algorithms.sha256=Mp;Mp.create=function(){Pp||D6();var t=null,e=Cr.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=Cr.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=Cr.util.encodeUtf8(n));var a=n.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=i.fullMessageLength.length-1;f>=0;--f)i.fullMessageLength[f]+=a[1],a[1]=a[0]+(i.fullMessageLength[f]/4294967296>>>0),i.fullMessageLength[f]=i.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(n),Dp(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Cr.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,a=s&i.blockLength-1;n.putBytes(rf.substr(0,i.blockLength-a));for(var f,o,c=i.fullMessageLength[0]*8,u=0;u<i.fullMessageLength.length-1;++u)f=i.fullMessageLength[u+1]*8,o=f/4294967296>>>0,c+=o,n.putInt32(c>>>0),c=f>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Dp(h,r,n);var b=Cr.util.createBuffer();return b.putInt32(h.h0),b.putInt32(h.h1),b.putInt32(h.h2),b.putInt32(h.h3),b.putInt32(h.h4),b.putInt32(h.h5),b.putInt32(h.h6),b.putInt32(h.h7),b},i};var rf=null,Pp=!1,Op=null;function D6(){rf=String.fromCharCode(128),rf+=Cr.util.fillString(String.fromCharCode(0),64),Op=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Pp=!0}function Dp(t,e,r){for(var i,n,s,a,f,o,c,u,h,b,g,y,S,I,B,R=r.length();R>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)i=e[c-2],i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=e[c-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,e[c]=i+e[c-7]+n+e[c-16]|0;for(u=t.h0,h=t.h1,b=t.h2,g=t.h3,y=t.h4,S=t.h5,I=t.h6,B=t.h7,c=0;c<64;++c)a=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),f=I^y&(S^I),s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),o=u&h|b&(u^h),i=B+a+f+Op[c]+e[c],n=s+o,B=I,I=S,S=y,y=g+i>>>0,g=b,b=h,h=u,u=i+n>>>0;t.h0=t.h0+u|0,t.h1=t.h1+h|0,t.h2=t.h2+b|0,t.h3=t.h3+g|0,t.h4=t.h4+y|0,t.h5=t.h5+S|0,t.h6=t.h6+I|0,t.h7=t.h7+B|0,R-=64}}});var qp=C((PE,Lp)=>{var Tr=me();Fe();var Da=null;Tr.util.isNodejs&&!Tr.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Da=ms());var O6=Lp.exports=Tr.prng=Tr.prng||{};O6.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,i=new Array(32),n=0;n<32;++n)i[n]=r.create();e.pools=i,e.pool=0,e.generate=function(c,u){if(!u)return e.generateSync(c);var h=e.plugin.cipher,b=e.plugin.increment,g=e.plugin.formatKey,y=e.plugin.formatSeed,S=Tr.util.createBuffer();e.key=null,I();function I(B){if(B)return u(B);if(S.length()>=c)return u(null,S.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Tr.util.nextTick(function(){s(I)});var R=h(e.key,e.seed);e.generated+=R.length,S.putBytes(R),e.key=g(h(e.key,b(e.seed))),e.seed=y(h(e.key,e.seed)),Tr.util.setImmediate(I)}},e.generateSync=function(c){var u=e.plugin.cipher,h=e.plugin.increment,b=e.plugin.formatKey,g=e.plugin.formatSeed;e.key=null;for(var y=Tr.util.createBuffer();y.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&a();var S=u(e.key,e.seed);e.generated+=S.length,y.putBytes(S),e.key=b(u(e.key,h(e.seed))),e.seed=g(u(e.key,e.seed))}return y.getBytes(c)};function s(c){if(e.pools[0].messageLength>=32)return f(),c();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(h,b){if(h)return c(h);e.collect(b),f(),c()})}function a(){if(e.pools[0].messageLength>=32)return f();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),f()}function f(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var u=1,h=0;h<32;++h)e.reseeds%u==0&&(c.update(e.pools[h].digest().getBytes()),e.pools[h].start()),u=u<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var b=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(b),e.generated=0}function o(c){var u=null,h=Tr.util.globalScope,b=h.crypto||h.msCrypto;b&&b.getRandomValues&&(u=function(L){return b.getRandomValues(L)});var g=Tr.util.createBuffer();if(u)for(;g.length()<c;){var y=Math.max(1,Math.min(c-g.length(),65536)/4),S=new Uint32Array(Math.floor(y));try{u(S);for(var I=0;I<S.length;++I)g.putInt32(S[I])}catch(L){if(!(typeof QuotaExceededError!="undefined"&&L instanceof QuotaExceededError))throw L}}if(g.length()<c)for(var B,R,M,F=Math.floor(Math.random()*65536);g.length()<c;){R=16807*(F&65535),B=16807*(F>>16),R+=(B&32767)<<16,R+=B>>15,R=(R&2147483647)+(R>>31),F=R&4294967295;for(var I=0;I<3;++I)M=F>>>(I<<3),M^=Math.floor(Math.random()*256),g.putByte(String.fromCharCode(M&255))}return g.getBytes(c)}return Da?(e.seedFile=function(c,u){Da.randomBytes(c,function(h,b){if(h)return u(h);u(null,b.toString())})},e.seedFileSync=function(c){return Da.randomBytes(c).toString()}):(e.seedFile=function(c,u){try{u(null,o(c))}catch(h){u(h)}},e.seedFileSync=o),e.collect=function(c){for(var u=c.length,h=0;h<u;++h)e.pools[e.pool].update(c.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,u){for(var h="",b=0;b<u;b+=8)h+=String.fromCharCode(c>>b&255);e.collect(h)},e.registerWorker=function(c){if(c===self)e.seedFile=function(h,b){function g(y){var S=y.data;S.forge&&S.forge.prng&&(self.removeEventListener("message",g),b(S.forge.prng.err,S.forge.prng.bytes))}self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:h}}})};else{var u=function(h){var b=h.data;b.forge&&b.forge.prng&&e.seedFile(b.forge.prng.needed,function(g,y){c.postMessage({forge:{prng:{err:g,bytes:y}}})})};c.addEventListener("message",u)}},e}});var Nn=C((DE,nf)=>{var St=me();tf();Np();qp();Fe();(function(){if(St.random&&St.random.getBytes){nf.exports=St.random;return}(function(t){var e={},r=new Array(4),i=St.util.createBuffer();e.formatKey=function(h){var b=St.util.createBuffer(h);return h=new Array(4),h[0]=b.getInt32(),h[1]=b.getInt32(),h[2]=b.getInt32(),h[3]=b.getInt32(),St.aes._expandKey(h,!1)},e.formatSeed=function(h){var b=St.util.createBuffer(h);return h=new Array(4),h[0]=b.getInt32(),h[1]=b.getInt32(),h[2]=b.getInt32(),h[3]=b.getInt32(),h},e.cipher=function(h,b){return St.aes._updateBlock(h,b,r,!1),i.putInt32(r[0]),i.putInt32(r[1]),i.putInt32(r[2]),i.putInt32(r[3]),i.getBytes()},e.increment=function(h){return++h[3],h},e.md=St.md.sha256;function n(){var h=St.prng.create(e);return h.getBytes=function(b,g){return h.generate(b,g)},h.getBytesSync=function(b){return h.generate(b)},h}var s=n(),a=null,f=St.util.globalScope,o=f.crypto||f.msCrypto;if(o&&o.getRandomValues&&(a=function(h){return o.getRandomValues(h)}),St.options.usePureJavaScript||!St.util.isNodejs&&!a){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch(h){}s.collect(c),c=null}t&&(t().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),t().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!St.random)St.random=s;else for(var u in s)St.random[u]=s[u];St.random.createInstance=n,nf.exports=St.random})(typeof jQuery!="undefined"?jQuery:null)})()});var zp=C((OE,Fp)=>{var zt=me();Fe();var sf=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Kp=[1,2,3,5],N6=function(t,e){return t<<e&65535|(t&65535)>>16-e},L6=function(t,e){return(t&65535)>>e|t<<16-e&65535};Fp.exports=zt.rc2=zt.rc2||{};zt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=zt.util.createBuffer(t)),e=e||128;var r=t,i=t.length(),n=e,s=Math.ceil(n/8),a=255>>(n&7),f;for(f=i;f<128;f++)r.putByte(sf[r.at(f-1)+r.at(f-i)&255]);for(r.setAt(128-s,sf[r.at(128-s)&a]),f=127-s;f>=0;f--)r.setAt(f,sf[r.at(f+1)^r.at(f+s)]);return r};var Up=function(t,e,r){var i=!1,n=null,s=null,a=null,f,o,c,u,h=[];for(t=zt.rc2.expandKey(t,e),c=0;c<64;c++)h.push(t.getInt16Le());r?(f=function(y){for(c=0;c<4;c++)y[c]+=h[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),y[c]=N6(y[c],Kp[c]),u++},o=function(y){for(c=0;c<4;c++)y[c]+=h[y[(c+3)%4]&63]}):(f=function(y){for(c=3;c>=0;c--)y[c]=L6(y[c],Kp[c]),y[c]-=h[u]+(y[(c+3)%4]&y[(c+2)%4])+(~y[(c+3)%4]&y[(c+1)%4]),u--},o=function(y){for(c=3;c>=0;c--)y[c]-=h[y[(c+3)%4]&63]});var b=function(y){var S=[];for(c=0;c<4;c++){var I=n.getInt16Le();a!==null&&(r?I^=a.getInt16Le():a.putInt16Le(I)),S.push(I&65535)}u=r?0:63;for(var B=0;B<y.length;B++)for(var R=0;R<y[B][0];R++)y[B][1](S);for(c=0;c<4;c++)a!==null&&(r?a.putInt16Le(S[c]):S[c]^=a.getInt16Le()),s.putInt16Le(S[c])},g=null;return g={start:function(y,S){y&&typeof y=="string"&&(y=zt.util.createBuffer(y)),i=!1,n=zt.util.createBuffer(),s=S||new zt.util.createBuffer,a=y,g.output=s},update:function(y){for(i||n.putBuffer(y);n.length()>=8;)b([[5,f],[1,o],[6,f],[1,o],[5,f]])},finish:function(y){var S=!0;if(r)if(y)S=y(8,n,!r);else{var I=n.length()===8?8:8-n.length();n.fillWithByte(I,I)}if(S&&(i=!0,g.update()),!r&&(S=n.length()===0,S))if(y)S=y(8,s,!r);else{var B=s.length(),R=s.at(B-1);R>B?S=!1:s.truncate(R)}return S}},g};zt.rc2.startEncrypting=function(t,e,r){var i=zt.rc2.createEncryptionCipher(t,128);return i.start(e,r),i};zt.rc2.createEncryptionCipher=function(t,e){return Up(t,e,!0)};zt.rc2.startDecrypting=function(t,e,r){var i=zt.rc2.createDecryptionCipher(t,128);return i.start(e,r),i};zt.rc2.createDecryptionCipher=function(t,e){return Up(t,e,!1)}});var _s=C((NE,Gp)=>{var af=me();Gp.exports=af.jsbn=af.jsbn||{};var ti,q6=244837814094590,Vp=(q6&16777215)==15715070;function q(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}af.jsbn.BigInteger=q;function ge(){return new q(null)}function F6(t,e,r,i,n,s){for(;--s>=0;){var a=e*this.data[t++]+r.data[i]+n;n=Math.floor(a/67108864),r.data[i++]=a&67108863}return n}function K6(t,e,r,i,n,s){for(var a=e&32767,f=e>>15;--s>=0;){var o=this.data[t]&32767,c=this.data[t++]>>15,u=f*o+c*a;o=a*o+((u&32767)<<15)+r.data[i]+(n&1073741823),n=(o>>>30)+(u>>>15)+f*c+(n>>>30),r.data[i++]=o&1073741823}return n}function Hp(t,e,r,i,n,s){for(var a=e&16383,f=e>>14;--s>=0;){var o=this.data[t]&16383,c=this.data[t++]>>14,u=f*o+c*a;o=a*o+((u&16383)<<14)+r.data[i]+n,n=(o>>28)+(u>>14)+f*c,r.data[i++]=o&268435455}return n}typeof navigator=="undefined"?(q.prototype.am=Hp,ti=28):Vp&&navigator.appName=="Microsoft Internet Explorer"?(q.prototype.am=K6,ti=30):Vp&&navigator.appName!="Netscape"?(q.prototype.am=F6,ti=26):(q.prototype.am=Hp,ti=28);q.prototype.DB=ti;q.prototype.DM=(1<<ti)-1;q.prototype.DV=1<<ti;var of=52;q.prototype.FV=Math.pow(2,of);q.prototype.F1=of-ti;q.prototype.F2=2*ti-of;var U6="0123456789abcdefghijklmnopqrstuvwxyz",Oa=new Array,Ln,tr;Ln="0".charCodeAt(0);for(tr=0;tr<=9;++tr)Oa[Ln++]=tr;Ln="a".charCodeAt(0);for(tr=10;tr<36;++tr)Oa[Ln++]=tr;Ln="A".charCodeAt(0);for(tr=10;tr<36;++tr)Oa[Ln++]=tr;function jp(t){return U6.charAt(t)}function Wp(t,e){var r=Oa[t.charCodeAt(e)];return r??-1}function z6(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function G6(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function Si(t){var e=ge();return e.fromInt(t),e}function V6(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var i=t.length,n=!1,s=0;--i>=0;){var a=r==8?t[i]&255:Wp(t,i);if(a<0){t.charAt(i)=="-"&&(n=!0);continue}n=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(t[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&q.ZERO.subTo(this,this)}function H6(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function j6(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,i,n=!1,s="",a=this.t,f=this.DB-a*this.DB%e;if(a-- >0)for(f<this.DB&&(i=this.data[a]>>f)>0&&(n=!0,s=jp(i));a>=0;)f<e?(i=(this.data[a]&(1<<f)-1)<<e-f,i|=this.data[--a]>>(f+=this.DB-e)):(i=this.data[a]>>(f-=e)&r,f<=0&&(f+=this.DB,--a)),i>0&&(n=!0),n&&(s+=jp(i));return n?s:"0"}function W6(){var t=ge();return q.ZERO.subTo(this,t),t}function Y6(){return this.s<0?this.negate():this}function J6(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function Na(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Z6(){return this.t<=0?0:this.DB*(this.t-1)+Na(this.data[this.t-1]^this.s&this.DM)}function X6(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Q6(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function $6(t,e){var r=t%this.DB,i=this.DB-r,n=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM,f;for(f=this.t-1;f>=0;--f)e.data[f+s+1]=this.data[f]>>i|a,a=(this.data[f]&n)<<r;for(f=s-1;f>=0;--f)e.data[f]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function ex(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var i=t%this.DB,n=this.DB-i,s=(1<<i)-1;e.data[0]=this.data[r]>>i;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&s)<<n,e.data[a-r]=this.data[a]>>i;i>0&&(e.data[this.t-r-1]|=(this.s&s)<<n),e.t=this.t-r,e.clamp()}function tx(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]-t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i-=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e.data[r++]=this.DV+i:i>0&&(e.data[r++]=i),e.t=r,e.clamp()}function rx(t,e){var r=this.abs(),i=t.abs(),n=r.t;for(e.t=n+i.t;--n>=0;)e.data[n]=0;for(n=0;n<i.t;++n)e.data[n+r.t]=r.am(0,i.data[n],e,n,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&q.ZERO.subTo(e,e)}function ix(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var i=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,i,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function nx(t,e,r){var i=t.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=ge());var s=ge(),a=this.s,f=t.s,o=this.DB-Na(i.data[i.t-1]);o>0?(i.lShiftTo(o,s),n.lShiftTo(o,r)):(i.copyTo(s),n.copyTo(r));var c=s.t,u=s.data[c-1];if(u!=0){var h=u*(1<<this.F1)+(c>1?s.data[c-2]>>this.F2:0),b=this.FV/h,g=(1<<this.F1)/h,y=1<<this.F2,S=r.t,I=S-c,B=e??ge();for(s.dlShiftTo(I,B),r.compareTo(B)>=0&&(r.data[r.t++]=1,r.subTo(B,r)),q.ONE.dlShiftTo(c,B),B.subTo(s,s);s.t<c;)s.data[s.t++]=0;for(;--I>=0;){var R=r.data[--S]==u?this.DM:Math.floor(r.data[S]*b+(r.data[S-1]+y)*g);if((r.data[S]+=s.am(0,R,r,I,0,c))<R)for(s.dlShiftTo(I,B),r.subTo(B,r);r.data[S]<--R;)r.subTo(B,r)}e!=null&&(r.drShiftTo(c,e),a!=f&&q.ZERO.subTo(e,e)),r.t=c,r.clamp(),o>0&&r.rShiftTo(o,r),a<0&&q.ZERO.subTo(r,r)}}}function sx(t){var e=ge();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(q.ZERO)>0&&t.subTo(e,e),e}function Qi(t){this.m=t}function ax(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function ox(t){return t}function fx(t){t.divRemTo(this.m,null,t)}function cx(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function ux(t,e){t.squareTo(e),this.reduce(e)}Qi.prototype.convert=ax;Qi.prototype.revert=ox;Qi.prototype.reduce=fx;Qi.prototype.mulTo=cx;Qi.prototype.sqrTo=ux;function hx(){if(this.t<1)return 0;var t=this.data[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function $i(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function lx(t){var e=ge();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(q.ZERO)>0&&this.m.subTo(e,e),e}function dx(t){var e=ge();return t.copyTo(e),this.reduce(e),e}function px(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,i=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,i,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function bx(t,e){t.squareTo(e),this.reduce(e)}function yx(t,e,r){t.multiplyTo(e,r),this.reduce(r)}$i.prototype.convert=lx;$i.prototype.revert=dx;$i.prototype.reduce=px;$i.prototype.mulTo=yx;$i.prototype.sqrTo=bx;function gx(){return(this.t>0?this.data[0]&1:this.s)==0}function vx(t,e){if(t>4294967295||t<1)return q.ONE;var r=ge(),i=ge(),n=e.convert(this),s=Na(t)-1;for(n.copyTo(r);--s>=0;)if(e.sqrTo(r,i),(t&1<<s)>0)e.mulTo(i,n,r);else{var a=r;r=i,i=a}return e.revert(r)}function xx(t,e){var r;return t<256||e.isEven()?r=new Qi(e):r=new $i(e),this.exp(t,r)}q.prototype.copyTo=z6;q.prototype.fromInt=G6;q.prototype.fromString=V6;q.prototype.clamp=H6;q.prototype.dlShiftTo=X6;q.prototype.drShiftTo=Q6;q.prototype.lShiftTo=$6;q.prototype.rShiftTo=ex;q.prototype.subTo=tx;q.prototype.multiplyTo=rx;q.prototype.squareTo=ix;q.prototype.divRemTo=nx;q.prototype.invDigit=hx;q.prototype.isEven=gx;q.prototype.exp=vx;q.prototype.toString=j6;q.prototype.negate=W6;q.prototype.abs=Y6;q.prototype.compareTo=J6;q.prototype.bitLength=Z6;q.prototype.mod=sx;q.prototype.modPowInt=xx;q.ZERO=Si(0);q.ONE=Si(1);function mx(){var t=ge();return this.copyTo(t),t}function wx(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function _x(){return this.t==0?this.s:this.data[0]<<24>>24}function Ex(){return this.t==0?this.s:this.data[0]<<16>>16}function Sx(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Ix(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Ax(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=Si(r),n=ge(),s=ge(),a="";for(this.divRemTo(i,n,s);n.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,n.divRemTo(i,n,s);return s.intValue().toString(t)+a}function Bx(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),n=!1,s=0,a=0,f=0;f<t.length;++f){var o=Wp(t,f);if(o<0){t.charAt(f)=="-"&&this.signum()==0&&(n=!0);continue}a=e*a+o,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),n&&q.ZERO.subTo(this,this)}function kx(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(q.ONE.shiftLeft(t-1),ff,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(q.ONE.shiftLeft(t-1),this);else{var i=new Array,n=t&7;i.length=(t>>3)+1,e.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function Cx(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,i,n=0;if(t-- >0)for(r<this.DB&&(i=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);t>=0;)r<8?(i=(this.data[t]&(1<<r)-1)<<8-r,i|=this.data[--t]>>(r+=this.DB-8)):(i=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),(i&128)!=0&&(i|=-256),n==0&&(this.s&128)!=(i&128)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e}function Tx(t){return this.compareTo(t)==0}function Rx(t){return this.compareTo(t)<0?this:t}function Mx(t){return this.compareTo(t)>0?this:t}function Px(t,e,r){var i,n,s=Math.min(t.t,this.t);for(i=0;i<s;++i)r.data[i]=e(this.data[i],t.data[i]);if(t.t<this.t){for(n=t.s&this.DM,i=s;i<this.t;++i)r.data[i]=e(this.data[i],n);r.t=this.t}else{for(n=this.s&this.DM,i=s;i<t.t;++i)r.data[i]=e(n,t.data[i]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Dx(t,e){return t&e}function Ox(t){var e=ge();return this.bitwiseTo(t,Dx,e),e}function ff(t,e){return t|e}function Nx(t){var e=ge();return this.bitwiseTo(t,ff,e),e}function Yp(t,e){return t^e}function Lx(t){var e=ge();return this.bitwiseTo(t,Yp,e),e}function Jp(t,e){return t&~e}function qx(t){var e=ge();return this.bitwiseTo(t,Jp,e),e}function Fx(){for(var t=ge(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Kx(t){var e=ge();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Ux(t){var e=ge();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function zx(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function Gx(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+zx(this.data[t]);return this.s<0?this.t*this.DB:-1}function Vx(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Hx(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Vx(this.data[r]^e);return t}function jx(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Wx(t,e){var r=q.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Yx(t){return this.changeBit(t,ff)}function Jx(t){return this.changeBit(t,Jp)}function Zx(t){return this.changeBit(t,Yp)}function Xx(t,e){for(var r=0,i=0,n=Math.min(t.t,this.t);r<n;)i+=this.data[r]+t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;r<this.t;)i+=this.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i+=t.data[r],e.data[r++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e.data[r++]=i:i<-1&&(e.data[r++]=this.DV+i),e.t=r,e.clamp()}function Qx(t){var e=ge();return this.addTo(t,e),e}function $x(t){var e=ge();return this.subTo(t,e),e}function e8(t){var e=ge();return this.multiplyTo(t,e),e}function t8(t){var e=ge();return this.divRemTo(t,e,null),e}function r8(t){var e=ge();return this.divRemTo(t,null,e),e}function i8(t){var e=ge(),r=ge();return this.divRemTo(t,e,r),new Array(e,r)}function n8(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function s8(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function ws(){}function Zp(t){return t}function a8(t,e,r){t.multiplyTo(e,r)}function o8(t,e){t.squareTo(e)}ws.prototype.convert=Zp;ws.prototype.revert=Zp;ws.prototype.mulTo=a8;ws.prototype.sqrTo=o8;function f8(t){return this.exp(t,new ws)}function c8(t,e,r){var i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;var n;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()}function u8(t,e,r){--e;var i=r.t=this.t+t.t-e;for(r.s=0;--i>=0;)r.data[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)r.data[this.t+i-e]=this.am(e-i,t.data[i],r,0,0,this.t+i-e);r.clamp(),r.drShiftTo(1,r)}function qn(t){this.r2=ge(),this.q3=ge(),q.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function h8(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=ge();return t.copyTo(e),this.reduce(e),e}function l8(t){return t}function d8(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function p8(t,e){t.squareTo(e),this.reduce(e)}function b8(t,e,r){t.multiplyTo(e,r),this.reduce(r)}qn.prototype.convert=h8;qn.prototype.revert=l8;qn.prototype.reduce=d8;qn.prototype.mulTo=b8;qn.prototype.sqrTo=p8;function y8(t,e){var r=t.bitLength(),i,n=Si(1),s;if(r<=0)return n;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6,r<8?s=new Qi(e):e.isEven()?s=new qn(e):s=new $i(e);var a=new Array,f=3,o=i-1,c=(1<<i)-1;if(a[1]=s.convert(this),i>1){var u=ge();for(s.sqrTo(a[1],u);f<=c;)a[f]=ge(),s.mulTo(u,a[f-2],a[f]),f+=2}var h=t.t-1,b,g=!0,y=ge(),S;for(r=Na(t.data[h])-1;h>=0;){for(r>=o?b=t.data[h]>>r-o&c:(b=(t.data[h]&(1<<r+1)-1)<<o-r,h>0&&(b|=t.data[h-1]>>this.DB+r-o)),f=i;(b&1)==0;)b>>=1,--f;if((r-=f)<0&&(r+=this.DB,--h),g)a[b].copyTo(n),g=!1;else{for(;f>1;)s.sqrTo(n,y),s.sqrTo(y,n),f-=2;f>0?s.sqrTo(n,y):(S=n,n=y,y=S),s.mulTo(y,a[b],n)}for(;h>=0&&(t.data[h]&1<<r)==0;)s.sqrTo(n,y),S=n,n=y,y=S,--r<0&&(r=this.DB-1,--h)}return s.revert(n)}function g8(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var i=e;e=r,r=i}var n=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function v8(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var i=this.t-1;i>=0;--i)r=(e*r+this.data[i])%t;return r}function x8(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return q.ZERO;for(var r=t.clone(),i=this.clone(),n=Si(1),s=Si(0),a=Si(0),f=Si(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!n.isEven()||!s.isEven())&&(n.addTo(this,n),s.subTo(t,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?((!a.isEven()||!f.isEven())&&(a.addTo(this,a),f.subTo(t,f)),a.rShiftTo(1,a)):f.isEven()||f.subTo(t,f),f.rShiftTo(1,f);r.compareTo(i)>=0?(r.subTo(i,r),e&&n.subTo(a,n),s.subTo(f,s)):(i.subTo(r,i),e&&a.subTo(n,a),f.subTo(s,f))}if(i.compareTo(q.ONE)!=0)return q.ZERO;if(f.compareTo(t)>=0)return f.subtract(t);if(f.signum()<0)f.addTo(t,f);else return f;return f.signum()<0?f.add(t):f}var dr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],m8=(1<<26)/dr[dr.length-1];function w8(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=dr[dr.length-1]){for(e=0;e<dr.length;++e)if(r.data[0]==dr[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<dr.length;){for(var i=dr[e],n=e+1;n<dr.length&&i<m8;)i*=dr[n++];for(i=r.modInt(i);e<n;)if(i%dr[e++]==0)return!1}return r.millerRabin(t)}function E8(t){var e=this.subtract(q.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var i=e.shiftRight(r),n=_8(),s,a=0;a<t;++a){do s=new q(this.bitLength(),n);while(s.compareTo(q.ONE)<=0||s.compareTo(e)>=0);var f=s.modPow(i,this);if(f.compareTo(q.ONE)!=0&&f.compareTo(e)!=0){for(var o=1;o++<r&&f.compareTo(e)!=0;)if(f=f.modPowInt(2,this),f.compareTo(q.ONE)==0)return!1;if(f.compareTo(e)!=0)return!1}}return!0}function _8(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}q.prototype.chunkSize=Sx;q.prototype.toRadix=Ax;q.prototype.fromRadix=Bx;q.prototype.fromNumber=kx;q.prototype.bitwiseTo=Px;q.prototype.changeBit=Wx;q.prototype.addTo=Xx;q.prototype.dMultiply=n8;q.prototype.dAddOffset=s8;q.prototype.multiplyLowerTo=c8;q.prototype.multiplyUpperTo=u8;q.prototype.modInt=v8;q.prototype.millerRabin=E8;q.prototype.clone=mx;q.prototype.intValue=wx;q.prototype.byteValue=_x;q.prototype.shortValue=Ex;q.prototype.signum=Ix;q.prototype.toByteArray=Cx;q.prototype.equals=Tx;q.prototype.min=Rx;q.prototype.max=Mx;q.prototype.and=Ox;q.prototype.or=Nx;q.prototype.xor=Lx;q.prototype.andNot=qx;q.prototype.not=Fx;q.prototype.shiftLeft=Kx;q.prototype.shiftRight=Ux;q.prototype.getLowestSetBit=Gx;q.prototype.bitCount=Hx;q.prototype.testBit=jx;q.prototype.setBit=Yx;q.prototype.clearBit=Jx;q.prototype.flipBit=Zx;q.prototype.add=Qx;q.prototype.subtract=$x;q.prototype.multiply=e8;q.prototype.divide=t8;q.prototype.remainder=r8;q.prototype.divideAndRemainder=i8;q.prototype.modPow=y8;q.prototype.modInverse=x8;q.prototype.pow=f8;q.prototype.gcd=g8;q.prototype.isProbablePrime=w8});var t1=C((LE,Xp)=>{var Rr=me();Xi();Fe();var Qp=Xp.exports=Rr.sha1=Rr.sha1||{};Rr.md.sha1=Rr.md.algorithms.sha1=Qp;Qp.create=function(){$p||S8();var t=null,e=Rr.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=Rr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=Rr.util.encodeUtf8(n));var a=n.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=i.fullMessageLength.length-1;f>=0;--f)i.fullMessageLength[f]+=a[1],a[1]=a[0]+(i.fullMessageLength[f]/4294967296>>>0),i.fullMessageLength[f]=i.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(n),e1(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Rr.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,a=s&i.blockLength-1;n.putBytes(cf.substr(0,i.blockLength-a));for(var f,o,c=i.fullMessageLength[0]*8,u=0;u<i.fullMessageLength.length-1;++u)f=i.fullMessageLength[u+1]*8,o=f/4294967296>>>0,c+=o,n.putInt32(c>>>0),c=f>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};e1(h,r,n);var b=Rr.util.createBuffer();return b.putInt32(h.h0),b.putInt32(h.h1),b.putInt32(h.h2),b.putInt32(h.h3),b.putInt32(h.h4),b},i};var cf=null,$p=!1;function S8(){cf=String.fromCharCode(128),cf+=Rr.util.fillString(String.fromCharCode(0),64),$p=!0}function e1(t,e,r){for(var i,n,s,a,f,o,c,u,h=r.length();h>=64;){for(n=t.h0,s=t.h1,a=t.h2,f=t.h3,o=t.h4,u=0;u<16;++u)i=r.getInt32(),e[u]=i,c=f^s&(a^f),i=(n<<5|n>>>27)+c+o+1518500249+i,o=f,f=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;u<20;++u)i=e[u-3]^e[u-8]^e[u-14]^e[u-16],i=i<<1|i>>>31,e[u]=i,c=f^s&(a^f),i=(n<<5|n>>>27)+c+o+1518500249+i,o=f,f=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;u<32;++u)i=e[u-3]^e[u-8]^e[u-14]^e[u-16],i=i<<1|i>>>31,e[u]=i,c=s^a^f,i=(n<<5|n>>>27)+c+o+1859775393+i,o=f,f=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;u<40;++u)i=e[u-6]^e[u-16]^e[u-28]^e[u-32],i=i<<2|i>>>30,e[u]=i,c=s^a^f,i=(n<<5|n>>>27)+c+o+1859775393+i,o=f,f=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;u<60;++u)i=e[u-6]^e[u-16]^e[u-28]^e[u-32],i=i<<2|i>>>30,e[u]=i,c=s&a|f&(s^a),i=(n<<5|n>>>27)+c+o+2400959708+i,o=f,f=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;for(;u<80;++u)i=e[u-6]^e[u-16]^e[u-28]^e[u-32],i=i<<2|i>>>30,e[u]=i,c=s^a^f,i=(n<<5|n>>>27)+c+o+3395469782+i,o=f,f=a,a=(s<<30|s>>>2)>>>0,s=n,n=i;t.h0=t.h0+n|0,t.h1=t.h1+s|0,t.h2=t.h2+a|0,t.h3=t.h3+f|0,t.h4=t.h4+o|0,h-=64}}});var n1=C((qE,r1)=>{var Mr=me();Fe();Nn();t1();var i1=r1.exports=Mr.pkcs1=Mr.pkcs1||{};i1.encode_rsa_oaep=function(t,e,r){var i,n,s,a;typeof r=="string"?(i=r,n=arguments[3]||void 0,s=arguments[4]||void 0):r&&(i=r.label||void 0,n=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=Mr.md.sha1.create(),a||(a=s);var f=Math.ceil(t.n.bitLength()/8),o=f-2*s.digestLength-2;if(e.length>o){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=o,c}i||(i=""),s.update(i,"raw");for(var u=s.digest(),h="",b=o-e.length,g=0;g<b;g++)h+="\0";var y=u.getBytes()+h+""+e;if(!n)n=Mr.random.getBytes(s.digestLength);else if(n.length!==s.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=n.length,c.digestLength=s.digestLength,c}var S=La(n,f-s.digestLength-1,a),I=Mr.util.xorBytes(y,S,y.length),B=La(I,s.digestLength,a),R=Mr.util.xorBytes(n,B,n.length);return"\0"+R+I};i1.decode_rsa_oaep=function(t,e,r){var i,n,s;typeof r=="string"?(i=r,n=arguments[3]||void 0):r&&(i=r.label||void 0,n=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var I=new Error("RSAES-OAEP encoded message length is invalid.");throw I.length=e.length,I.expectedLength=a,I}if(n===void 0?n=Mr.md.sha1.create():n.start(),s||(s=n),a<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),n.update(i,"raw");for(var f=n.digest().getBytes(),o=e.charAt(0),c=e.substring(1,n.digestLength+1),u=e.substring(1+n.digestLength),h=La(u,n.digestLength,s),b=Mr.util.xorBytes(c,h,c.length),g=La(b,a-n.digestLength-1,s),y=Mr.util.xorBytes(u,g,u.length),S=y.substring(0,n.digestLength),I=o!=="\0",B=0;B<n.digestLength;++B)I|=f.charAt(B)!==S.charAt(B);for(var R=1,M=n.digestLength,F=n.digestLength;F<y.length;F++){var L=y.charCodeAt(F),D=L&1^1,j=R?65534:0;I|=L&j,R=R&D,M+=R}if(I||y.charCodeAt(M)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(M+1)};function La(t,e,r){r||(r=Mr.md.sha1.create());for(var i="",n=Math.ceil(e/r.digestLength),s=0;s<n;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(t+a),i+=r.digest().getBytes()}return i.substring(0,e)}});var s1=C((FE,uf)=>{var Ii=me();Fe();_s();Nn();(function(){if(Ii.prime){uf.exports=Ii.prime;return}var t=uf.exports=Ii.prime=Ii.prime||{},e=Ii.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],i=new e(null);i.fromInt(30);var n=function(h,b){return h|b};t.generateProbablePrime=function(h,b,g){typeof b=="function"&&(g=b,b={}),b=b||{};var y=b.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var S=b.prng||Ii.random,I={nextBytes:function(B){for(var R=S.getBytesSync(B.length),M=0;M<B.length;++M)B[M]=R.charCodeAt(M)}};if(y.name==="PRIMEINC")return s(h,I,y.options,g);throw new Error("Invalid prime generation algorithm: "+y.name)};function s(h,b,g,y){return"workers"in g?o(h,b,g,y):a(h,b,g,y)}function a(h,b,g,y){var S=c(h,b),I=0,B=u(S.bitLength());"millerRabinTests"in g&&(B=g.millerRabinTests);var R=10;"maxBlockTime"in g&&(R=g.maxBlockTime),f(S,h,b,I,B,R,y)}function f(h,b,g,y,S,I,B){var R=+new Date;do{if(h.bitLength()>b&&(h=c(b,g)),h.isProbablePrime(S))return B(null,h);h.dAddOffset(r[y++%8],0)}while(I<0||+new Date-R<I);Ii.util.setImmediate(function(){f(h,b,g,y,S,I,B)})}function o(h,b,g,y){if(typeof Worker=="undefined")return a(h,b,g,y);var S=c(h,b),I=g.workers,B=g.workLoad||100,R=B*30/8,M=g.workerScript||"forge/prime.worker.js";if(I===-1)return Ii.util.estimateCores(function(L,D){L&&(D=2),I=D-1,F()});F();function F(){I=Math.max(1,I);for(var L=[],D=0;D<I;++D)L[D]=new Worker(M);for(var j=I,D=0;D<I;++D)L[D].addEventListener("message",$);var G=!1;function $(E){if(!G){--j;var l=E.data;if(l.found){for(var p=0;p<L.length;++p)L[p].terminate();return G=!0,y(null,new e(l.prime,16))}S.bitLength()>h&&(S=c(h,b));var v=S.toString(16);E.target.postMessage({hex:v,workLoad:B}),S.dAddOffset(R,0)}}}}function c(h,b){var g=new e(h,b),y=h-1;return g.testBit(y)||g.bitwiseTo(e.ONE.shiftLeft(y),n,g),g.dAddOffset(31-g.mod(i).byteValue(),0),g}function u(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var Fa=C((KE,a1)=>{var re=me();Pn();_s();Ia();n1();s1();Nn();Fe();typeof de=="undefined"&&(de=re.jsbn.BigInteger);var de,hf=re.util.isNodejs?ms():null,P=re.asn1,rr=re.util;re.pki=re.pki||{};a1.exports=re.pki.rsa=re.rsa=re.rsa||{};var ie=re.pki,I8=[6,4,2,4,2,4,6,2],A8={name:"PrivateKeyInfo",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:P.Class.UNIVERSAL,type:P.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:P.Class.UNIVERSAL,type:P.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},B8={name:"RSAPrivateKey",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},k8={name:"RSAPublicKey",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:P.Class.UNIVERSAL,type:P.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},C8=re.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:P.Class.UNIVERSAL,type:P.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:P.Class.UNIVERSAL,type:P.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:P.Class.UNIVERSAL,type:P.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},T8=function(t){var e;if(t.algorithm in ie.oids)e=ie.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var i=P.oidToDer(e).getBytes(),n=P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[]),s=P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[]);s.value.push(P.create(P.Class.UNIVERSAL,P.Type.OID,!1,i)),s.value.push(P.create(P.Class.UNIVERSAL,P.Type.NULL,!1,""));var a=P.create(P.Class.UNIVERSAL,P.Type.OCTETSTRING,!1,t.digest().getBytes());return n.value.push(s),n.value.push(a),P.toDer(n).getBytes()},o1=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(de.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(de.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var i;do i=new de(re.util.bytesToHex(re.random.getBytes(e.n.bitLength()/8)),16);while(i.compareTo(e.n)>=0||!i.gcd(e.n).equals(de.ONE));t=t.multiply(i.modPow(e.e,e.n)).mod(e.n);for(var n=t.mod(e.p).modPow(e.dP,e.p),s=t.mod(e.q).modPow(e.dQ,e.q);n.compareTo(s)<0;)n=n.add(e.p);var a=n.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return a=a.multiply(i.modInverse(e.n)).mod(e.n),a};ie.rsa.encrypt=function(t,e,r){var i=r,n,s=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(i=r===2,n=f1(t,e,r)):(n=re.util.createBuffer(),n.putBytes(t));for(var a=new de(n.toHex(),16),f=o1(a,e,i),o=f.toString(16),c=re.util.createBuffer(),u=s-Math.ceil(o.length/2);u>0;)c.putByte(0),--u;return c.putBytes(re.util.hexToBytes(o)),c.getBytes()};ie.rsa.decrypt=function(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8);if(t.length!==n){var s=new Error("Encrypted message length is invalid.");throw s.length=t.length,s.expected=n,s}var a=new de(re.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=o1(a,e,r),o=f.toString(16),c=re.util.createBuffer(),u=n-Math.ceil(o.length/2);u>0;)c.putByte(0),--u;return c.putBytes(re.util.hexToBytes(o)),i!==!1?qa(c.getBytes(),e,r):c.getBytes()};ie.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var i=r.prng||re.random,n={nextBytes:function(f){for(var o=i.getBytesSync(f.length),c=0;c<f.length;++c)f[c]=o.charCodeAt(c)}},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:t,rng:n,eInt:e||65537,e:new de(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};ie.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new de(null);r.fromInt(30);for(var i=0,n=function(h,b){return h|b},s=+new Date,a,f=0;t.keys===null&&(e<=0||f<e);){if(t.state===0){var o=t.p===null?t.pBits:t.qBits,c=o-1;t.pqState===0?(t.num=new de(o,t.rng),t.num.testBit(c)||t.num.bitwiseTo(de.ONE.shiftLeft(c),n,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):t.pqState===1?t.num.bitLength()>o?t.pqState=0:t.num.isProbablePrime(R8(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(I8[i++%8],0):t.pqState===2?t.pqState=t.num.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(de.ONE),t.q1=t.q.subtract(de.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(de.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:ie.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:ie.rsa.setPublicKey(t.n,t.e)}}a=+new Date,f+=a-s,s=a}return t.keys!==null};ie.rsa.generateKeyPair=function(t,e,r,i){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(i=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,i=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(i=r,r=void 0):(i=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!re.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(i){if(c1("generateKeyPair"))return hf.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(f,o,c){if(f)return i(f);i(null,{privateKey:ie.privateKeyFromPem(c),publicKey:ie.publicKeyFromPem(o)})});if(u1("generateKey")&&u1("exportKey"))return rr.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:l1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(f){return rr.globalScope.crypto.subtle.exportKey("pkcs8",f.privateKey)}).then(void 0,function(f){i(f)}).then(function(f){if(f){var o=ie.privateKeyFromAsn1(P.fromDer(re.util.createBuffer(f)));i(null,{privateKey:o,publicKey:ie.setRsaPublicKey(o.n,o.e)})}});if(h1("generateKey")&&h1("exportKey")){var n=rr.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:l1(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);n.oncomplete=function(f){var o=f.target.result,c=rr.globalScope.msCrypto.subtle.exportKey("pkcs8",o.privateKey);c.oncomplete=function(u){var h=u.target.result,b=ie.privateKeyFromAsn1(P.fromDer(re.util.createBuffer(h)));i(null,{privateKey:b,publicKey:ie.setRsaPublicKey(b.n,b.e)})},c.onerror=function(u){i(u)}},n.onerror=function(f){i(f)};return}}else if(c1("generateKeyPairSync")){var s=hf.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:ie.privateKeyFromPem(s.privateKey),publicKey:ie.publicKeyFromPem(s.publicKey)}}}var a=ie.rsa.createKeyPairGenerationState(t,e,r);if(!i)return ie.rsa.stepKeyPairGenerationState(a,0),a.keys;M8(a,r,i)};ie.setRsaPublicKey=ie.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(i,n,s){if(typeof n=="string"?n=n.toUpperCase():n===void 0&&(n="RSAES-PKCS1-V1_5"),n==="RSAES-PKCS1-V1_5")n={encode:function(f,o,c){return f1(f,o,2).getBytes()}};else if(n==="RSA-OAEP"||n==="RSAES-OAEP")n={encode:function(f,o){return re.pkcs1.encode_rsa_oaep(o,f,s)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(f){return f}};else if(typeof n=="string")throw new Error('Unsupported encryption scheme: "'+n+'".');var a=n.encode(i,r,!0);return ie.rsa.encrypt(a,r,!0)},r.verify=function(i,n,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(f,o){o=qa(o,r,!0);var c=P.fromDer(o);return f===c.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(f,o){return o=qa(o,r,!0),f===o}});var a=ie.rsa.decrypt(n,r,!0,!1);return s.verify(i,a,r.n.bitLength())},r};ie.setRsaPrivateKey=ie.rsa.setPrivateKey=function(t,e,r,i,n,s,a,f){var o={n:t,e,d:r,p:i,q:n,dP:s,dQ:a,qInv:f};return o.decrypt=function(c,u,h){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var b=ie.rsa.decrypt(c,o,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:qa};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(g,y){return re.pkcs1.decode_rsa_oaep(y,g,h)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(g){return g}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(b,o,!1)},o.sign=function(c,u){var h=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:T8},h=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},h=1);var b=u.encode(c,o.n.bitLength());return ie.rsa.encrypt(b,o,h)},o};ie.wrapRsaPrivateKey=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,P.integerToDer(0).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.OID,!1,P.oidToDer(ie.oids.rsaEncryption).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.NULL,!1,"")]),P.create(P.Class.UNIVERSAL,P.Type.OCTETSTRING,!1,P.toDer(t).getBytes())])};ie.privateKeyFromAsn1=function(t){var e={},r=[];if(P.validate(t,A8,e,r)&&(t=P.fromDer(re.util.createBuffer(e.privateKey))),e={},r=[],!P.validate(t,B8,e,r)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=r,i}var n,s,a,f,o,c,u,h;return n=re.util.createBuffer(e.privateKeyModulus).toHex(),s=re.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=re.util.createBuffer(e.privateKeyPrivateExponent).toHex(),f=re.util.createBuffer(e.privateKeyPrime1).toHex(),o=re.util.createBuffer(e.privateKeyPrime2).toHex(),c=re.util.createBuffer(e.privateKeyExponent1).toHex(),u=re.util.createBuffer(e.privateKeyExponent2).toHex(),h=re.util.createBuffer(e.privateKeyCoefficient).toHex(),ie.setRsaPrivateKey(new de(n,16),new de(s,16),new de(a,16),new de(f,16),new de(o,16),new de(c,16),new de(u,16),new de(h,16))};ie.privateKeyToAsn1=ie.privateKeyToRSAPrivateKey=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,P.integerToDer(0).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.n)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.e)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.d)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.p)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.q)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.dP)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.dQ)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.qInv))])};ie.publicKeyFromAsn1=function(t){var e={},r=[];if(P.validate(t,C8,e,r)){var i=P.derToOid(e.publicKeyOid);if(i!==ie.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=i,n}t=e.rsaPublicKey}if(r=[],!P.validate(t,k8,e,r)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=r,n}var s=re.util.createBuffer(e.publicKeyModulus).toHex(),a=re.util.createBuffer(e.publicKeyExponent).toHex();return ie.setRsaPublicKey(new de(s,16),new de(a,16))};ie.publicKeyToAsn1=ie.publicKeyToSubjectPublicKeyInfo=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.OID,!1,P.oidToDer(ie.oids.rsaEncryption).getBytes()),P.create(P.Class.UNIVERSAL,P.Type.NULL,!1,"")]),P.create(P.Class.UNIVERSAL,P.Type.BITSTRING,!1,[ie.publicKeyToRSAPublicKey(t)])])};ie.publicKeyToRSAPublicKey=function(t){return P.create(P.Class.UNIVERSAL,P.Type.SEQUENCE,!0,[P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.n)),P.create(P.Class.UNIVERSAL,P.Type.INTEGER,!1,Pr(t.e))])};function f1(t,e,r){var i=re.util.createBuffer(),n=Math.ceil(e.n.bitLength()/8);if(t.length>n-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=n-11,s}i.putByte(0),i.putByte(r);var a=n-3-t.length,f;if(r===0||r===1){f=r===0?0:255;for(var o=0;o<a;++o)i.putByte(f)}else for(;a>0;){for(var c=0,u=re.random.getBytes(a),o=0;o<a;++o)f=u.charCodeAt(o),f===0?++c:i.putByte(f);a=c}return i.putByte(0),i.putBytes(t),i}function qa(t,e,r,i){var n=Math.ceil(e.n.bitLength()/8),s=re.util.createBuffer(t),a=s.getByte(),f=s.getByte();if(a!==0||r&&f!==0&&f!==1||!r&&f!=2||r&&f===0&&typeof i=="undefined")throw new Error("Encryption block is invalid.");var o=0;if(f===0){o=n-3-i;for(var c=0;c<o;++c)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(f===1)for(o=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++o}else if(f===2)for(o=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++o}var u=s.getByte();if(u!==0||o!==n-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function M8(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var i={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(i.prng=e.prng),n();function n(){s(t.pBits,function(f,o){if(f)return r(f);if(t.p=o,t.q!==null)return a(f,t.q);s(t.qBits,a)})}function s(f,o){re.prime.generateProbablePrime(f,i,o)}function a(f,o){if(f)return r(f);if(t.q=o,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)!==0){t.p=null,n();return}if(t.q.subtract(de.ONE).gcd(t.e).compareTo(de.ONE)!==0){t.q=null,s(t.qBits,a);return}if(t.p1=t.p.subtract(de.ONE),t.q1=t.q.subtract(de.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(de.ONE)!==0){t.p=t.q=null,n();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,s(t.qBits,a);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:ie.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:ie.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Pr(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=re.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)==0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)==128)?r.substr(1):r}function R8(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function c1(t){return re.util.isNodejs&&typeof hf[t]=="function"}function u1(t){return typeof rr.globalScope!="undefined"&&typeof rr.globalScope.crypto=="object"&&typeof rr.globalScope.crypto.subtle=="object"&&typeof rr.globalScope.crypto.subtle[t]=="function"}function h1(t){return typeof rr.globalScope!="undefined"&&typeof rr.globalScope.msCrypto=="object"&&typeof rr.globalScope.msCrypto.subtle=="object"&&typeof rr.globalScope.msCrypto.subtle[t]=="function"}function l1(t){for(var e=re.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}});var v1=C((UE,d1)=>{var Y=me();tf();Pn();_p();Xi();Ia();Bp();Tp();Nn();zp();Fa();Fe();typeof p1=="undefined"&&(p1=Y.jsbn.BigInteger);var p1,N=Y.asn1,se=Y.pki=Y.pki||{};d1.exports=se.pbe=Y.pbe=Y.pbe||{};var en=se.oids,P8={name:"EncryptedPrivateKeyInfo",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},D8={name:"PBES2Algorithms",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:N.Class.UNIVERSAL,type:N.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},O8={name:"pkcs-12PbeParams",tagClass:N.Class.UNIVERSAL,type:N.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:N.Class.UNIVERSAL,type:N.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:N.Class.UNIVERSAL,type:N.Type.INTEGER,constructed:!1,capture:"iterations"}]};se.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i=Y.random.getBytesSync(r.saltSize),n=r.count,s=N.integerToDer(n),a,f,o;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,h;switch(r.algorithm){case"aes128":a=16,c=16,u=en["aes128-CBC"],h=Y.aes.createEncryptionCipher;break;case"aes192":a=24,c=16,u=en["aes192-CBC"],h=Y.aes.createEncryptionCipher;break;case"aes256":a=32,c=16,u=en["aes256-CBC"],h=Y.aes.createEncryptionCipher;break;case"des":a=8,c=8,u=en.desCBC,h=Y.des.createEncryptionCipher;break;default:var b=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw b.algorithm=r.algorithm,b}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),y=b1(g),S=Y.pkcs5.pbkdf2(e,i,n,a,y),I=Y.random.getBytesSync(c),B=h(S);B.start(I),B.update(N.toDer(t)),B.finish(),o=B.output.getBytes();var R=N8(i,s,a,g);f=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(en.pkcs5PBES2).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(en.pkcs5PBKDF2).getBytes()),R]),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(u).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,I)])])])}else if(r.algorithm==="3des"){a=24;var M=new Y.util.ByteBuffer(i),S=se.pbe.generatePkcs12Key(e,M,1,n,a),I=se.pbe.generatePkcs12Key(e,M,2,n,a),B=Y.des.createEncryptionCipher(S);B.start(I),B.update(N.toDer(t)),B.finish(),o=B.output.getBytes(),f=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(en["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,i),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,s.getBytes())])])}else{var b=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw b.algorithm=r.algorithm,b}var F=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[f,N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,o)]);return F};se.decryptPrivateKeyInfo=function(t,e){var r=null,i={},n=[];if(!N.validate(t,P8,i,n)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var a=N.derToOid(i.encryptionOid),f=se.pbe.getCipher(a,i.encryptionParams,e),o=Y.util.createBuffer(i.encryptedData);return f.update(o),f.finish()&&(r=N.fromDer(f.output)),r};se.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:N.toDer(t).getBytes()};return Y.pem.encode(r,{maxline:e})};se.encryptedPrivateKeyFromPem=function(t){var e=Y.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return N.fromDer(e.body)};se.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var i=se.wrapRsaPrivateKey(se.privateKeyToAsn1(t));return i=se.encryptPrivateKeyInfo(i,e,r),se.encryptedPrivateKeyToPem(i)}var n,s,a,f;switch(r.algorithm){case"aes128":n="AES-128-CBC",a=16,s=Y.random.getBytesSync(16),f=Y.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",a=24,s=Y.random.getBytesSync(16),f=Y.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",a=32,s=Y.random.getBytesSync(16),f=Y.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",a=24,s=Y.random.getBytesSync(8),f=Y.des.createEncryptionCipher;break;case"des":n="DES-CBC",a=8,s=Y.random.getBytesSync(8),f=Y.des.createEncryptionCipher;break;default:var o=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw o.algorithm=r.algorithm,o}var c=Y.pbe.opensslDeriveBytes(e,s.substr(0,8),a),u=f(c);u.start(s),u.update(N.toDer(se.privateKeyToAsn1(t))),u.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:Y.util.bytesToHex(s).toUpperCase()},body:u.output.getBytes()};return Y.pem.encode(h)};se.decryptRsaPrivateKey=function(t,e){var r=null,i=Y.pem.decode(t)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"&&i.type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(i.procType&&i.procType.type==="ENCRYPTED"){var s,a;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,a=Y.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=Y.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=Y.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=Y.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=Y.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=function(h){return Y.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,a=function(h){return Y.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,a=function(h){return Y.rc2.createDecryptionCipher(h,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw n.algorithm=i.dekInfo.algorithm,n}var f=Y.util.hexToBytes(i.dekInfo.parameters),o=Y.pbe.opensslDeriveBytes(e,f.substr(0,8),s),c=a(o);if(c.start(f),c.update(Y.util.createBuffer(i.body)),c.finish())r=c.output.getBytes();else return r}else r=i.body;return i.type==="ENCRYPTED PRIVATE KEY"?r=se.decryptPrivateKeyInfo(N.fromDer(r),e):r=N.fromDer(r),r!==null&&(r=se.privateKeyFromAsn1(r)),r};se.pbe.generatePkcs12Key=function(t,e,r,i,n,s){var a,f;if(typeof s=="undefined"||s===null){if(!("sha1"in Y.md))throw new Error('"sha1" hash algorithm unavailable.');s=Y.md.sha1.create()}var o=s.digestLength,c=s.blockLength,u=new Y.util.ByteBuffer,h=new Y.util.ByteBuffer;if(t!=null){for(f=0;f<t.length;f++)h.putInt16(t.charCodeAt(f));h.putInt16(0)}var b=h.length(),g=e.length(),y=new Y.util.ByteBuffer;y.fillWithByte(r,c);var S=c*Math.ceil(g/c),I=new Y.util.ByteBuffer;for(f=0;f<S;f++)I.putByte(e.at(f%g));var B=c*Math.ceil(b/c),R=new Y.util.ByteBuffer;for(f=0;f<B;f++)R.putByte(h.at(f%b));var M=I;M.putBuffer(R);for(var F=Math.ceil(n/o),L=1;L<=F;L++){var D=new Y.util.ByteBuffer;D.putBytes(y.bytes()),D.putBytes(M.bytes());for(var j=0;j<i;j++)s.start(),s.update(D.getBytes()),D=s.digest();var G=new Y.util.ByteBuffer;for(f=0;f<c;f++)G.putByte(D.at(f%o));var $=Math.ceil(g/c)+Math.ceil(b/c),E=new Y.util.ByteBuffer;for(a=0;a<$;a++){var l=new Y.util.ByteBuffer(M.getBytes(c)),p=511;for(f=G.length()-1;f>=0;f--)p=p>>8,p+=G.at(f)+l.at(f),l.setAt(f,p&255);E.putBuffer(l)}M=E,u.putBuffer(D)}return u.truncate(u.length()-n),u};se.pbe.getCipher=function(t,e,r){switch(t){case se.oids.pkcs5PBES2:return se.pbe.getCipherForPBES2(t,e,r);case se.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case se.oids["pbewithSHAAnd40BitRC2-CBC"]:return se.pbe.getCipherForPKCS12PBE(t,e,r);default:var i=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=t,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}};se.pbe.getCipherForPBES2=function(t,e,r){var i={},n=[];if(!N.validate(e,D8,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}if(t=N.derToOid(i.kdfOid),t!==se.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=t,s.supportedOids=["pkcs5PBKDF2"],s}if(t=N.derToOid(i.encOid),t!==se.oids["aes128-CBC"]&&t!==se.oids["aes192-CBC"]&&t!==se.oids["aes256-CBC"]&&t!==se.oids["des-EDE3-CBC"]&&t!==se.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=i.kdfSalt,f=Y.util.createBuffer(i.kdfIterationCount);f=f.getInt(f.length()<<3);var o,c;switch(se.oids[t]){case"aes128-CBC":o=16,c=Y.aes.createDecryptionCipher;break;case"aes192-CBC":o=24,c=Y.aes.createDecryptionCipher;break;case"aes256-CBC":o=32,c=Y.aes.createDecryptionCipher;break;case"des-EDE3-CBC":o=24,c=Y.des.createDecryptionCipher;break;case"desCBC":o=8,c=Y.des.createDecryptionCipher;break}var u=y1(i.prfOid),h=Y.pkcs5.pbkdf2(r,a,f,o,u),b=i.encIv,g=c(h);return g.start(b),g};se.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},n=[];if(!N.validate(e,O8,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var a=Y.util.createBuffer(i.salt),f=Y.util.createBuffer(i.iterations);f=f.getInt(f.length()<<3);var o,c,u;switch(t){case se.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:o=24,c=8,u=Y.des.startDecrypting;break;case se.oids["pbewithSHAAnd40BitRC2-CBC"]:o=5,c=8,u=function(S,I){var B=Y.rc2.createDecryptionCipher(S,40);return B.start(I,null),B};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=t,s}var h=y1(i.prfOid),b=se.pbe.generatePkcs12Key(r,a,1,f,o,h);h.start();var g=se.pbe.generatePkcs12Key(r,a,2,f,c,h);return u(b,g)};se.pbe.opensslDeriveBytes=function(t,e,r,i){if(typeof i=="undefined"||i===null){if(!("md5"in Y.md))throw new Error('"md5" hash algorithm unavailable.');i=Y.md.md5.create()}e===null&&(e="");for(var n=[g1(i,t+e)],s=16,a=1;s<r;++a,s+=16)n.push(g1(i,n[a-1]+t+e));return n.join("").substr(0,r)};function g1(t,e){return t.start().update(e).digest().getBytes()}function y1(t){var e;if(!t)e="hmacWithSHA1";else if(e=se.oids[N.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return b1(e)}function b1(t){var e=Y.md;switch(t){case"hmacWithSHA224":e=Y.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function N8(t,e,r,i){var n=N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OCTETSTRING,!1,t),N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,e.getBytes())]);return i!=="hmacWithSHA1"&&n.value.push(N.create(N.Class.UNIVERSAL,N.Type.INTEGER,!1,Y.util.hexToBytes(r.toString(16))),N.create(N.Class.UNIVERSAL,N.Type.SEQUENCE,!0,[N.create(N.Class.UNIVERSAL,N.Type.OID,!1,N.oidToDer(se.oids[i]).getBytes()),N.create(N.Class.UNIVERSAL,N.Type.NULL,!1,"")])),n}});var Es=C(x1=>{"use strict";x1.get=(t=self)=>{let e=t.crypto||t.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var lf=C((GE,m1)=>{"use strict";var L8=Br(),w1=Jt(),q8=Es();function F8({algorithm:t="AES-GCM",nonceLength:e=12,keyLength:r=16,digest:i="SHA-256",saltLength:n=16,iterations:s=32767}={}){let a=q8.get();r*=8;async function f(c,u){let h=a.getRandomValues(new Uint8Array(n)),b=a.getRandomValues(new Uint8Array(e)),g={name:t,iv:b},y={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},S=await a.subtle.importKey("raw",w1(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),I=await a.subtle.deriveKey(y,S,{name:t,length:r},!0,["encrypt"]),B=await a.subtle.encrypt(g,I,c);return L8([h,g.iv,new Uint8Array(B)])}async function o(c,u){let h=c.slice(0,n),b=c.slice(n,n+e),g=c.slice(n+e),y={name:t,iv:b},S={name:"PBKDF2",salt:h,iterations:s,hash:{name:i}},I=await a.subtle.importKey("raw",w1(u),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),B=await a.subtle.deriveKey(S,I,{name:t,length:r},!0,["decrypt"]),R=await a.subtle.decrypt(y,B,g);return new Uint8Array(R)}return{encrypt:f,decrypt:o}}m1.exports={create:F8}});var E1=C((VE,_1)=>{"use strict";var K8=ji(),U8=lf();_1.exports={import:async function(t,e){let i=K8.names.base64.decode(t);return await U8.create().decrypt(i,e)}}});var Ss=C((HE,S1)=>{"use strict";var z8=Wi(),Fn=self.crypto||self.msCrypto,df=async(t,e)=>{if(typeof self=="undefined"||!Fn)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await Fn.subtle.digest({name:"SHA-1"},t));case"sha2-256":return new Uint8Array(await Fn.subtle.digest({name:"SHA-256"},t));case"sha2-512":return new Uint8Array(await Fn.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{let r=await Fn.subtle.digest({name:"SHA-256"},t);return new Uint8Array(await Fn.subtle.digest({name:"SHA-256"},r))}default:throw new Error(`${e} is not a supported algorithm`)}};S1.exports={factory:t=>async e=>df(e,t),digest:df,multihashing:async(t,e,r)=>{let i=await df(t,e);return z8.encode(i,e,r)}}});var yf=C((jE,I1)=>{var Me=me();Xi();Fe();var Is=I1.exports=Me.sha512=Me.sha512||{};Me.md.sha512=Me.md.algorithms.sha512=Is;var A1=Me.sha384=Me.sha512.sha384=Me.sha512.sha384||{};A1.create=function(){return Is.create("SHA-384")};Me.md.sha384=Me.md.algorithms.sha384=A1;Me.sha512.sha256=Me.sha512.sha256||{create:function(){return Is.create("SHA-512/256")}};Me.md["sha512/256"]=Me.md.algorithms["sha512/256"]=Me.sha512.sha256;Me.sha512.sha224=Me.sha512.sha224||{create:function(){return Is.create("SHA-512/224")}};Me.md["sha512/224"]=Me.md.algorithms["sha512/224"]=Me.sha512.sha224;Is.create=function(t){if(B1||G8(),typeof t=="undefined"&&(t="SHA-512"),!(t in tn))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=tn[t],r=null,i=Me.util.createBuffer(),n=new Array(80),s=0;s<80;++s)n[s]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var f={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var o=f.messageLengthSize/4,c=0;c<o;++c)f.fullMessageLength.push(0);i=Me.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return f},f.start(),f.update=function(o,c){c==="utf8"&&(o=Me.util.encodeUtf8(o));var u=o.length;f.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var h=f.fullMessageLength.length-1;h>=0;--h)f.fullMessageLength[h]+=u[1],u[1]=u[0]+(f.fullMessageLength[h]/4294967296>>>0),f.fullMessageLength[h]=f.fullMessageLength[h]>>>0,u[0]=u[1]/4294967296>>>0;return i.putBytes(o),k1(r,n,i),(i.read>2048||i.length()===0)&&i.compact(),f},f.digest=function(){var o=Me.util.createBuffer();o.putBytes(i.bytes());var c=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,u=c&f.blockLength-1;o.putBytes(pf.substr(0,f.blockLength-u));for(var h,b,g=f.fullMessageLength[0]*8,y=0;y<f.fullMessageLength.length-1;++y)h=f.fullMessageLength[y+1]*8,b=h/4294967296>>>0,g+=b,o.putInt32(g>>>0),g=h>>>0;o.putInt32(g);for(var S=new Array(r.length),y=0;y<r.length;++y)S[y]=r[y].slice(0);k1(S,n,o);var I=Me.util.createBuffer(),B;t==="SHA-512"?B=S.length:t==="SHA-384"?B=S.length-2:B=S.length-4;for(var y=0;y<B;++y)I.putInt32(S[y][0]),(y!==B-1||t!=="SHA-512/224")&&I.putInt32(S[y][1]);return I},f};var pf=null,B1=!1,bf=null,tn=null;function G8(){pf=String.fromCharCode(128),pf+=Me.util.fillString(String.fromCharCode(0),128),bf=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],tn={},tn["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],tn["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],tn["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],tn["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],B1=!0}function k1(t,e,r){for(var i,n,s,a,f,o,c,u,h,b,g,y,S,I,B,R,M,F,L,D,j,G,$,E,l,p,v,x,m,k,A,w,d,_,U,V=r.length();V>=128;){for(m=0;m<16;++m)e[m][0]=r.getInt32()>>>0,e[m][1]=r.getInt32()>>>0;for(;m<80;++m)w=e[m-2],k=w[0],A=w[1],i=((k>>>19|A<<13)^(A>>>29|k<<3)^k>>>6)>>>0,n=((k<<13|A>>>19)^(A<<3|k>>>29)^(k<<26|A>>>6))>>>0,_=e[m-15],k=_[0],A=_[1],s=((k>>>1|A<<31)^(k>>>8|A<<24)^k>>>7)>>>0,a=((k<<31|A>>>1)^(k<<24|A>>>8)^(k<<25|A>>>7))>>>0,d=e[m-7],U=e[m-16],A=n+d[1]+a+U[1],e[m][0]=i+d[0]+s+U[0]+(A/4294967296>>>0)>>>0,e[m][1]=A>>>0;for(S=t[0][0],I=t[0][1],B=t[1][0],R=t[1][1],M=t[2][0],F=t[2][1],L=t[3][0],D=t[3][1],j=t[4][0],G=t[4][1],$=t[5][0],E=t[5][1],l=t[6][0],p=t[6][1],v=t[7][0],x=t[7][1],m=0;m<80;++m)c=((j>>>14|G<<18)^(j>>>18|G<<14)^(G>>>9|j<<23))>>>0,u=((j<<18|G>>>14)^(j<<14|G>>>18)^(G<<23|j>>>9))>>>0,h=(l^j&($^l))>>>0,b=(p^G&(E^p))>>>0,f=((S>>>28|I<<4)^(I>>>2|S<<30)^(I>>>7|S<<25))>>>0,o=((S<<4|I>>>28)^(I<<30|S>>>2)^(I<<25|S>>>7))>>>0,g=(S&B|M&(S^B))>>>0,y=(I&R|F&(I^R))>>>0,A=x+u+b+bf[m][1]+e[m][1],i=v+c+h+bf[m][0]+e[m][0]+(A/4294967296>>>0)>>>0,n=A>>>0,A=o+y,s=f+g+(A/4294967296>>>0)>>>0,a=A>>>0,v=l,x=p,l=$,p=E,$=j,E=G,A=D+n,j=L+i+(A/4294967296>>>0)>>>0,G=A>>>0,L=M,D=F,M=B,F=R,B=S,R=I,A=n+a,S=i+s+(A/4294967296>>>0)>>>0,I=A>>>0;A=t[0][1]+I,t[0][0]=t[0][0]+S+(A/4294967296>>>0)>>>0,t[0][1]=A>>>0,A=t[1][1]+R,t[1][0]=t[1][0]+B+(A/4294967296>>>0)>>>0,t[1][1]=A>>>0,A=t[2][1]+F,t[2][0]=t[2][0]+M+(A/4294967296>>>0)>>>0,t[2][1]=A>>>0,A=t[3][1]+D,t[3][0]=t[3][0]+L+(A/4294967296>>>0)>>>0,t[3][1]=A>>>0,A=t[4][1]+G,t[4][0]=t[4][0]+j+(A/4294967296>>>0)>>>0,t[4][1]=A>>>0,A=t[5][1]+E,t[5][0]=t[5][0]+$+(A/4294967296>>>0)>>>0,t[5][1]=A>>>0,A=t[6][1]+p,t[6][0]=t[6][0]+l+(A/4294967296>>>0)>>>0,t[6][1]=A>>>0,A=t[7][1]+x,t[7][0]=t[7][0]+v+(A/4294967296>>>0)>>>0,t[7][1]=A>>>0,V-=128}}});var C1=C(gf=>{var V8=me();Pn();var It=V8.asn1;gf.privateKeyValidator={name:"PrivateKeyInfo",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:It.Class.UNIVERSAL,type:It.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:It.Class.UNIVERSAL,type:It.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:It.Class.UNIVERSAL,type:It.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};gf.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:It.Class.UNIVERSAL,type:It.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:It.Class.UNIVERSAL,type:It.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:It.Class.UNIVERSAL,type:It.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Af=C((YE,T1)=>{var Rt=me();_s();Nn();yf();Fe();var R1=C1(),H8=R1.publicKeyValidator,j8=R1.privateKeyValidator;typeof M1=="undefined"&&(M1=Rt.jsbn.BigInteger);var M1,vf=Rt.util.ByteBuffer,Gt=typeof Buffer=="undefined"?Uint8Array:Buffer;Rt.pki=Rt.pki||{};T1.exports=Rt.pki.ed25519=Rt.ed25519=Rt.ed25519||{};var he=Rt.ed25519;he.constants={};he.constants.PUBLIC_KEY_BYTE_LENGTH=32;he.constants.PRIVATE_KEY_BYTE_LENGTH=64;he.constants.SEED_BYTE_LENGTH=32;he.constants.SIGN_BYTE_LENGTH=64;he.constants.HASH_BYTE_LENGTH=64;he.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=Rt.random.getBytesSync(he.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==he.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+he.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=ri({message:e,encoding:"binary"});for(var r=new Gt(he.constants.PUBLIC_KEY_BYTE_LENGTH),i=new Gt(he.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)i[n]=e[n];return W8(r,i),{publicKey:r,privateKey:i}};he.privateKeyFromAsn1=function(t){var e={},r=[],i=Rt.asn1.validate(t,j8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var s=Rt.asn1.derToOid(e.privateKeyOid),a=Rt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var f=e.privateKey,o=ri({message:Rt.asn1.fromDer(f).value,encoding:"binary"});return{privateKeyBytes:o}};he.publicKeyFromAsn1=function(t){var e={},r=[],i=Rt.asn1.validate(t,H8,e,r);if(!i){var n=new Error("Invalid Key.");throw n.errors=r,n}var s=Rt.asn1.derToOid(e.publicKeyOid),a=Rt.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var f=e.ed25519PublicKey;if(f.length!==he.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return ri({message:f,encoding:"binary"})};he.publicKeyFromPrivateKey=function(t){t=t||{};var e=ri({message:t.privateKey,encoding:"binary"});if(e.length!==he.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+he.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Gt(he.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<r.length;++i)r[i]=e[32+i];return r};he.sign=function(t){t=t||{};var e=ri(t),r=ri({message:t.privateKey,encoding:"binary"});if(r.length===he.constants.SEED_BYTE_LENGTH){var i=he.generateKeyPair({seed:r});r=i.privateKey}else if(r.length!==he.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+he.constants.SEED_BYTE_LENGTH+" or "+he.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new Gt(he.constants.SIGN_BYTE_LENGTH+e.length);Y8(n,e,e.length,r);for(var s=new Gt(he.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=n[a];return s};he.verify=function(t){t=t||{};var e=ri(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=ri({message:t.signature,encoding:"binary"});if(r.length!==he.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+he.constants.SIGN_BYTE_LENGTH);var i=ri({message:t.publicKey,encoding:"binary"});if(i.length!==he.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+he.constants.PUBLIC_KEY_BYTE_LENGTH);var n=new Gt(he.constants.SIGN_BYTE_LENGTH+e.length),s=new Gt(he.constants.SIGN_BYTE_LENGTH+e.length),a;for(a=0;a<he.constants.SIGN_BYTE_LENGTH;++a)n[a]=r[a];for(a=0;a<e.length;++a)n[a+he.constants.SIGN_BYTE_LENGTH]=e[a];return J8(s,n,n.length,i)>=0};function ri(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Gt)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,r);e=new vf(e,r)}else if(!(e instanceof vf))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new Gt(e.length()),n=0;n<i.length;++n)i[n]=e.at(n);return i}var xf=X(),Ka=X([1]),Z8=X([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),X8=X([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),P1=X([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),D1=X([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),mf=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Q8=X([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function As(t,e){var r=Rt.md.sha512.create(),i=new vf(t);r.update(i.getBytes(e),"binary");var n=r.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(n,"binary");for(var s=new Gt(he.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=n.charCodeAt(a);return s}function W8(t,e){var r=[X(),X(),X(),X()],i,n=As(e,32);for(n[0]&=248,n[31]&=127,n[31]|=64,_f(r,n),wf(t,r),i=0;i<32;++i)e[i+32]=t[i];return 0}function Y8(t,e,r,i){var n,s,a=new Float64Array(64),f=[X(),X(),X(),X()],o=As(i,32);o[0]&=248,o[31]&=127,o[31]|=64;var c=r+64;for(n=0;n<r;++n)t[64+n]=e[n];for(n=0;n<32;++n)t[32+n]=o[32+n];var u=As(t.subarray(32),r+32);for(Ef(u),_f(f,u),wf(t,f),n=32;n<64;++n)t[n]=i[n];var h=As(t,r+64);for(Ef(h),n=32;n<64;++n)a[n]=0;for(n=0;n<32;++n)a[n]=u[n];for(n=0;n<32;++n)for(s=0;s<32;s++)a[n+s]+=h[n]*o[s];return O1(t.subarray(32),a),c}function J8(t,e,r,i){var n,s,a=new Gt(32),f=[X(),X(),X(),X()],o=[X(),X(),X(),X()];if(s=-1,r<64||$8(o,i))return-1;for(n=0;n<r;++n)t[n]=e[n];for(n=0;n<32;++n)t[n+32]=i[n];var c=As(t,r);if(Ef(c),L1(f,o,c),_f(o,e.subarray(32)),Sf(f,o),wf(a,f),r-=64,N1(e,0,a,0)){for(n=0;n<r;++n)t[n]=0;return-1}for(n=0;n<r;++n)t[n]=e[n+64];return s=r,s}function O1(t,e){var r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)e[n]+=r-16*e[i]*mf[n-(i-32)],r=e[n]+128>>8,e[n]-=r*256;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;++n)e[n]+=r-(e[31]>>4)*mf[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;++n)e[n]-=r*mf[n];for(i=0;i<32;++i)e[i+1]+=e[i]>>8,t[i]=e[i]&255}function Ef(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;O1(t,e)}function Sf(t,e){var r=X(),i=X(),n=X(),s=X(),a=X(),f=X(),o=X(),c=X(),u=X();Un(r,t[1],t[0]),Un(u,e[1],e[0]),Ee(r,r,u),Kn(i,t[0],t[1]),Kn(u,e[0],e[1]),Ee(i,i,u),Ee(n,t[3],e[3]),Ee(n,n,X8),Ee(s,t[2],e[2]),Kn(s,s,s),Un(a,i,r),Un(f,s,n),Kn(o,s,n),Kn(c,i,r),Ee(t[0],a,f),Ee(t[1],c,o),Ee(t[2],o,f),Ee(t[3],a,c)}function F1(t,e,r){for(var i=0;i<4;++i)q1(t[i],e[i],r)}function wf(t,e){var r=X(),i=X(),n=X();e5(n,e[2]),Ee(r,e[0],n),Ee(i,e[1],n),Ua(t,i),t[31]^=K1(r)<<7}function Ua(t,e){var r,i,n,s=X(),a=X();for(r=0;r<16;++r)a[r]=e[r];for(If(a),If(a),If(a),i=0;i<2;++i){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),n=s[15]>>16&1,s[14]&=65535,q1(a,s,1-n)}for(r=0;r<16;r++)t[2*r]=a[r]&255,t[2*r+1]=a[r]>>8}function $8(t,e){var r=X(),i=X(),n=X(),s=X(),a=X(),f=X(),o=X();return Ai(t[2],Ka),t5(t[1],e),rn(n,t[1]),Ee(s,n,Z8),Un(n,n,t[2]),Kn(s,t[2],s),rn(a,s),rn(f,a),Ee(o,f,a),Ee(r,o,n),Ee(r,r,s),r5(r,r),Ee(r,r,n),Ee(r,r,s),Ee(r,r,s),Ee(t[0],r,s),rn(i,t[0]),Ee(i,i,s),U1(i,n)&&Ee(t[0],t[0],Q8),rn(i,t[0]),Ee(i,i,s),U1(i,n)?-1:(K1(t[0])===e[31]>>7&&Un(t[0],xf,t[0]),Ee(t[3],t[0],t[1]),0)}function t5(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function r5(t,e){var r=X(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=250;i>=0;--i)rn(r,r),i!==1&&Ee(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function U1(t,e){var r=new Gt(32),i=new Gt(32);return Ua(r,t),Ua(i,e),N1(r,0,i,0)}function N1(t,e,r,i){return i5(t,e,r,i,32)}function i5(t,e,r,i,n){var s,a=0;for(s=0;s<n;++s)a|=t[e+s]^r[i+s];return(1&a-1>>>8)-1}function K1(t){var e=new Gt(32);return Ua(e,t),e[0]&1}function L1(t,e,r){var i,n;for(Ai(t[0],xf),Ai(t[1],Ka),Ai(t[2],Ka),Ai(t[3],xf),n=255;n>=0;--n)i=r[n/8|0]>>(n&7)&1,F1(t,e,i),Sf(e,t),Sf(t,t),F1(t,e,i)}function _f(t,e){var r=[X(),X(),X(),X()];Ai(r[0],P1),Ai(r[1],D1),Ai(r[2],Ka),Ee(r[3],P1,D1),L1(t,r,e)}function Ai(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function e5(t,e){var r=X(),i;for(i=0;i<16;++i)r[i]=e[i];for(i=253;i>=0;--i)rn(r,r),i!==2&&i!==4&&Ee(r,r,e);for(i=0;i<16;++i)t[i]=r[i]}function If(t){var e,r,i=1;for(e=0;e<16;++e)r=t[e]+i+65535,i=Math.floor(r/65536),t[e]=r-i*65536;t[0]+=i-1+37*(i-1)}function q1(t,e,r){for(var i,n=~(r-1),s=0;s<16;++s)i=n&(t[s]^e[s]),t[s]^=i,e[s]^=i}function X(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function Kn(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]+r[i]}function Un(t,e,r){for(var i=0;i<16;++i)t[i]=e[i]-r[i]}function rn(t,e){Ee(t,e,e)}function Ee(t,e,r){var i,n,s=0,a=0,f=0,o=0,c=0,u=0,h=0,b=0,g=0,y=0,S=0,I=0,B=0,R=0,M=0,F=0,L=0,D=0,j=0,G=0,$=0,E=0,l=0,p=0,v=0,x=0,m=0,k=0,A=0,w=0,d=0,_=r[0],U=r[1],V=r[2],W=r[3],J=r[4],Q=r[5],ee=r[6],Re=r[7],te=r[8],ne=r[9],yt=r[10],ae=r[11],oe=r[12],gt=r[13],fe=r[14],ce=r[15];i=e[0],s+=i*_,a+=i*U,f+=i*V,o+=i*W,c+=i*J,u+=i*Q,h+=i*ee,b+=i*Re,g+=i*te,y+=i*ne,S+=i*yt,I+=i*ae,B+=i*oe,R+=i*gt,M+=i*fe,F+=i*ce,i=e[1],a+=i*_,f+=i*U,o+=i*V,c+=i*W,u+=i*J,h+=i*Q,b+=i*ee,g+=i*Re,y+=i*te,S+=i*ne,I+=i*yt,B+=i*ae,R+=i*oe,M+=i*gt,F+=i*fe,L+=i*ce,i=e[2],f+=i*_,o+=i*U,c+=i*V,u+=i*W,h+=i*J,b+=i*Q,g+=i*ee,y+=i*Re,S+=i*te,I+=i*ne,B+=i*yt,R+=i*ae,M+=i*oe,F+=i*gt,L+=i*fe,D+=i*ce,i=e[3],o+=i*_,c+=i*U,u+=i*V,h+=i*W,b+=i*J,g+=i*Q,y+=i*ee,S+=i*Re,I+=i*te,B+=i*ne,R+=i*yt,M+=i*ae,F+=i*oe,L+=i*gt,D+=i*fe,j+=i*ce,i=e[4],c+=i*_,u+=i*U,h+=i*V,b+=i*W,g+=i*J,y+=i*Q,S+=i*ee,I+=i*Re,B+=i*te,R+=i*ne,M+=i*yt,F+=i*ae,L+=i*oe,D+=i*gt,j+=i*fe,G+=i*ce,i=e[5],u+=i*_,h+=i*U,b+=i*V,g+=i*W,y+=i*J,S+=i*Q,I+=i*ee,B+=i*Re,R+=i*te,M+=i*ne,F+=i*yt,L+=i*ae,D+=i*oe,j+=i*gt,G+=i*fe,$+=i*ce,i=e[6],h+=i*_,b+=i*U,g+=i*V,y+=i*W,S+=i*J,I+=i*Q,B+=i*ee,R+=i*Re,M+=i*te,F+=i*ne,L+=i*yt,D+=i*ae,j+=i*oe,G+=i*gt,$+=i*fe,E+=i*ce,i=e[7],b+=i*_,g+=i*U,y+=i*V,S+=i*W,I+=i*J,B+=i*Q,R+=i*ee,M+=i*Re,F+=i*te,L+=i*ne,D+=i*yt,j+=i*ae,G+=i*oe,$+=i*gt,E+=i*fe,l+=i*ce,i=e[8],g+=i*_,y+=i*U,S+=i*V,I+=i*W,B+=i*J,R+=i*Q,M+=i*ee,F+=i*Re,L+=i*te,D+=i*ne,j+=i*yt,G+=i*ae,$+=i*oe,E+=i*gt,l+=i*fe,p+=i*ce,i=e[9],y+=i*_,S+=i*U,I+=i*V,B+=i*W,R+=i*J,M+=i*Q,F+=i*ee,L+=i*Re,D+=i*te,j+=i*ne,G+=i*yt,$+=i*ae,E+=i*oe,l+=i*gt,p+=i*fe,v+=i*ce,i=e[10],S+=i*_,I+=i*U,B+=i*V,R+=i*W,M+=i*J,F+=i*Q,L+=i*ee,D+=i*Re,j+=i*te,G+=i*ne,$+=i*yt,E+=i*ae,l+=i*oe,p+=i*gt,v+=i*fe,x+=i*ce,i=e[11],I+=i*_,B+=i*U,R+=i*V,M+=i*W,F+=i*J,L+=i*Q,D+=i*ee,j+=i*Re,G+=i*te,$+=i*ne,E+=i*yt,l+=i*ae,p+=i*oe,v+=i*gt,x+=i*fe,m+=i*ce,i=e[12],B+=i*_,R+=i*U,M+=i*V,F+=i*W,L+=i*J,D+=i*Q,j+=i*ee,G+=i*Re,$+=i*te,E+=i*ne,l+=i*yt,p+=i*ae,v+=i*oe,x+=i*gt,m+=i*fe,k+=i*ce,i=e[13],R+=i*_,M+=i*U,F+=i*V,L+=i*W,D+=i*J,j+=i*Q,G+=i*ee,$+=i*Re,E+=i*te,l+=i*ne,p+=i*yt,v+=i*ae,x+=i*oe,m+=i*gt,k+=i*fe,A+=i*ce,i=e[14],M+=i*_,F+=i*U,L+=i*V,D+=i*W,j+=i*J,G+=i*Q,$+=i*ee,E+=i*Re,l+=i*te,p+=i*ne,v+=i*yt,x+=i*ae,m+=i*oe,k+=i*gt,A+=i*fe,w+=i*ce,i=e[15],F+=i*_,L+=i*U,D+=i*V,j+=i*W,G+=i*J,$+=i*Q,E+=i*ee,l+=i*Re,p+=i*te,v+=i*ne,x+=i*yt,m+=i*ae,k+=i*oe,A+=i*gt,w+=i*fe,d+=i*ce,s+=38*L,a+=38*D,f+=38*j,o+=38*G,c+=38*$,u+=38*E,h+=38*l,b+=38*p,g+=38*v,y+=38*x,S+=38*m,I+=38*k,B+=38*A,R+=38*w,M+=38*d,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=M+n+65535,n=Math.floor(i/65536),M=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=y+n+65535,n=Math.floor(i/65536),y=i-n*65536,i=S+n+65535,n=Math.floor(i/65536),S=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=M+n+65535,n=Math.floor(i/65536),M=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,s+=n-1+37*(n-1),t[0]=s,t[1]=a,t[2]=f,t[3]=o,t[4]=c,t[5]=u,t[6]=h,t[7]=b,t[8]=g,t[9]=y,t[10]=S,t[11]=I,t[12]=B,t[13]=R,t[14]=M,t[15]=F}});var za=C(Bs=>{"use strict";Fe();_s();var n5=me(),s5=Jt(),z1=Yt(),G1=Br();Bs.bigIntegerToUintBase64url=(t,e)=>{let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.slice(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=G1([new Uint8Array(e-r.length),r])}return z1(r,"base64url")};Bs.base64urlToBigInteger=t=>{let e=Bs.base64urlToBuffer(t);return new n5.jsbn.BigInteger(z1(e,"base16"),16)};Bs.base64urlToBuffer=(t,e)=>{let r=s5(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=G1([new Uint8Array(e-r.length),r])}return r}});var j1=C(ks=>{"use strict";Pn();Fa();var Bi=me(),{bigIntegerToUintBase64url:Dr,base64urlToBigInteger:Or}=za(),V1=Jt(),H1=Yt();ks.pkcs1ToJwk=function(t){let e=Bi.asn1.fromDer(H1(t,"ascii")),r=Bi.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Dr(r.n),e:Dr(r.e),d:Dr(r.d),p:Dr(r.p),q:Dr(r.q),dp:Dr(r.dP),dq:Dr(r.dQ),qi:Dr(r.qInv),alg:"RS256",kid:"2011-04-29"}};ks.jwkToPkcs1=function(t){let e=Bi.pki.privateKeyToAsn1({n:Or(t.n),e:Or(t.e),d:Or(t.d),p:Or(t.p),q:Or(t.q),dP:Or(t.dp),dQ:Or(t.dq),qInv:Or(t.qi)});return V1(Bi.asn1.toDer(e).getBytes(),"ascii")};ks.pkixToJwk=function(t){let e=Bi.asn1.fromDer(H1(t,"ascii")),r=Bi.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Dr(r.n),e:Dr(r.e),alg:"RS256",kid:"2011-04-29"}};ks.jwkToPkix=function(t){let e=Bi.pki.publicKeyToAsn1({n:Or(t.n),e:Or(t.e)});return V1(Bi.asn1.toDer(e).getBytes(),"ascii")}});var Z1=C((XE,W1)=>{"use strict";Fa();var Y1=me(),{base64urlToBigInteger:a5}=za();function J1(t,e){return e.map(r=>a5(t[r]))}function o5(t){return Y1.pki.setRsaPrivateKey(...J1(t,["n","e","d","p","q","dp","dq","qi"]))}function f5(t){return Y1.pki.setRsaPublicKey(...J1(t,["n","e"]))}W1.exports={jwk2pub:f5,jwk2priv:o5}});var $1=C(ii=>{"use strict";var ni=Es(),c5=la(),u5=Yt(),h5=Jt();ii.utils=j1();ii.generateKey=async function(t){let e=await ni.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await X1(e);return{privateKey:r[0],publicKey:r[1]}};ii.unmarshalPrivateKey=async function(t){let r=[await ni.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await l5(t)],i=await X1({privateKey:r[0],publicKey:r[1]});return{privateKey:i[0],publicKey:i[1]}};ii.getRandomValues=c5;ii.hashAndSign=async function(t,e){let r=await ni.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await ni.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};ii.hashAndVerify=async function(t,e,r){let i=await ni.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return ni.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,r)};function X1(t){return Promise.all([ni.get().subtle.exportKey("jwk",t.privateKey),ni.get().subtle.exportKey("jwk",t.publicKey)])}function l5(t){return ni.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:d5,jwk2priv:p5}=Z1();function Q1(t,e,r,i){let n=e?d5(t):p5(t),s=u5(Uint8Array.from(r),"ascii"),a=i(s,n);return h5(a,"ascii")}ii.encrypt=function(t,e){return Q1(t,!0,e,(r,i)=>i.encrypt(r))};ii.decrypt=function(t,e){return Q1(t,!1,e,(r,i)=>i.decrypt(r))}});var Ga=C(($E,e2)=>{"use strict";var b5=ji(),y5=lf();e2.exports={export:async function(t,e){let i=await y5.create().encrypt(t,e);return b5.names.base64.encode(i)}}});var s2=C((eS,t2)=>{"use strict";var r2=Ss(),i2=Xr(),n2=wi(),g5=Yt();yf();Af();var Va=me(),ir=$1(),Ha=_a(),v5=Ga(),ja=class{constructor(e){this._key=e}async verify(e,r){return ir.hashAndVerify(this._key,r,e)}marshal(){return ir.utils.jwkToPkix(this._key)}get bytes(){return Ha.PublicKey.encode({Type:Ha.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return ir.encrypt(this._key,e)}equals(e){return n2(this.bytes,e.bytes)}async hash(){return r2.multihashing(this.bytes,"sha2-256")}},Cs=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return ir.getRandomValues(16)}async sign(e){return ir.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw i2(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new ja(this._publicKey)}decrypt(e){return ir.decrypt(this._key,e)}marshal(){return ir.utils.jwkToPkcs1(this._key)}get bytes(){return Ha.PrivateKey.encode({Type:Ha.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return n2(this.bytes,e.bytes)}async hash(){return r2.multihashing(this.bytes,"sha2-256")}async id(){let e=await this.public.hash();return g5(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let i=new Va.util.ByteBuffer(this.marshal()),n=Va.asn1.fromDer(i),s=Va.pki.privateKeyFromAsn1(n),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Va.pki.encryptRsaPrivateKey(s,e,a)}else{if(r==="libp2p-key")return v5.export(this.bytes,e);throw i2(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function x5(t){let e=ir.utils.pkcs1ToJwk(t),r=await ir.unmarshalPrivateKey(e);return new Cs(r.privateKey,r.publicKey)}function m5(t){let e=ir.utils.pkixToJwk(t);return new ja(e)}async function w5(t){let e=await ir.unmarshalPrivateKey(t);return new Cs(e.privateKey,e.publicKey)}async function _5(t){let e=await ir.generateKey(t);return new Cs(e.privateKey,e.publicKey)}t2.exports={RsaPublicKey:ja,RsaPrivateKey:Cs,unmarshalRsaPublicKey:m5,unmarshalRsaPrivateKey:x5,generateKeyPair:_5,fromJwk:w5}});var a2=C(nn=>{"use strict";Af();var zn=me();nn.publicKeyLength=zn.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;nn.privateKeyLength=zn.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;nn.generateKey=async function(){return zn.pki.ed25519.generateKeyPair()};nn.generateKeyFromSeed=async function(t){return zn.pki.ed25519.generateKeyPair({seed:t})};nn.hashAndSign=async function(t,e){return zn.pki.ed25519.sign({message:e,privateKey:t})};nn.hashAndVerify=async function(t,e,r){return zn.pki.ed25519.verify({signature:e,message:r,publicKey:t})}});var l2=C((rS,o2)=>{"use strict";var f2=Ss(),c2=Xr(),u2=wi(),h2=Wi(),Ot=a2(),Wa=_a(),E5=Ga(),Ya=class{constructor(e){this._key=Gn(e,Ot.publicKeyLength)}async verify(e,r){return Ot.hashAndVerify(this._key,r,e)}marshal(){return this._key}get bytes(){return Wa.PublicKey.encode({Type:Wa.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return u2(this.bytes,e.bytes)}async hash(){return f2.multihashing(this.bytes,"sha2-256")}},Vn=class{constructor(e,r){this._key=Gn(e,Ot.privateKeyLength),this._publicKey=Gn(r,Ot.publicKeyLength)}async sign(e){return Ot.hashAndSign(this._key,e)}get public(){return new Ya(this._publicKey)}marshal(){return this._key}get bytes(){return Wa.PrivateKey.encode({Type:Wa.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return u2(this.bytes,e.bytes)}async hash(){return f2.multihashing(this.bytes,"sha2-256")}async id(){let e=h2.encode(this.public.bytes,"identity");return await h2.toB58String(e)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return E5.export(this.bytes,e);throw c2(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function S5(t){if(t.length>Ot.privateKeyLength){t=Gn(t,Ot.privateKeyLength+Ot.publicKeyLength);let i=t.slice(0,Ot.privateKeyLength),n=t.slice(Ot.privateKeyLength,t.length);return new Vn(i,n)}t=Gn(t,Ot.privateKeyLength);let e=t.slice(0,Ot.privateKeyLength),r=t.slice(Ot.publicKeyLength);return new Vn(e,r)}function I5(t){return t=Gn(t,Ot.publicKeyLength),new Ya(t)}async function A5(){let{privateKey:t,publicKey:e}=await Ot.generateKey();return new Vn(t,e)}async function B5(t){let{privateKey:e,publicKey:r}=await Ot.generateKeyFromSeed(t);return new Vn(e,r)}function Gn(t,e){if(t=Uint8Array.from(t||[]),t.length!==e)throw c2(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}o2.exports={Ed25519PublicKey:Ya,Ed25519PrivateKey:Vn,unmarshalEd25519PrivateKey:S5,unmarshalEd25519PublicKey:I5,generateKeyPair:A5,generateKeyPairFromSeed:B5}});var p2=C((iS,d2)=>{var xe={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function nr(t,e){if(!t)throw new Error(e)}function pe(t,e,r){if(nr(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let i=r.join(", "),n=`Expected ${t} to be an Uint8Array with length [${i}]`;nr(r.includes(e.length),n)}else{let i=`Expected ${t} to be an Uint8Array with length ${r}`;nr(e.length===r,i)}}function sn(t){nr(Hn(t)==="Boolean","Expected compressed to be a Boolean")}function pr(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),pe("output",t,e),t}function Hn(t){return Object.prototype.toString.call(t).slice(8,-1)}d2.exports=t=>({contextRandomize(e){switch(nr(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&pe("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(xe.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return pe("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(pe("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(xe.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(pe("private key",e,32),pe("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(xe.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(pe("private key",e,32),pe("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(xe.TWEAK_MUL)}},publicKeyVerify(e){return pe("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,i){switch(pe("private key",e,32),sn(r),i=pr(i,r?33:65),t.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(xe.SECKEY_INVALID);case 2:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,i){switch(pe("public key",e,[33,65]),sn(r),i=pr(i,r?33:65),t.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,i){switch(pe("public key",e,[33,65]),sn(r),i=pr(i,r?33:65),t.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.IMPOSSIBLE_CASE);case 3:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,i){nr(Array.isArray(e),"Expected public keys to be an Array"),nr(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)pe("public key",n,[33,65]);switch(sn(r),i=pr(i,r?33:65),t.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.PUBKEY_COMBINE);case 3:throw new Error(xe.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,i=!0,n){switch(pe("public key",e,[33,65]),pe("tweak",r,32),sn(i),n=pr(n,i?33:65),t.publicKeyTweakAdd(n,e,r)){case 0:return n;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.TWEAK_ADD)}},publicKeyTweakMul(e,r,i=!0,n){switch(pe("public key",e,[33,65]),pe("tweak",r,32),sn(i),n=pr(n,i?33:65),t.publicKeyTweakMul(n,e,r)){case 0:return n;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.TWEAK_MUL)}},signatureNormalize(e){switch(pe("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(xe.SIG_PARSE)}},signatureExport(e,r){pe("signature",e,64),r=pr(r,72);let i={output:r,outputlen:72};switch(t.signatureExport(i,e)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(pe("signature",e),r=pr(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,i={},n){pe("message",e,32),pe("private key",r,32),nr(Hn(i)==="Object","Expected options to be an Object"),i.data!==void 0&&pe("options.data",i.data),i.noncefn!==void 0&&nr(Hn(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=pr(n,64);let s={signature:n,recid:null};switch(t.ecdsaSign(s,e,r,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(xe.SIGN);case 2:throw new Error(xe.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,i){switch(pe("signature",e,64),pe("message",r,32),pe("public key",i,[33,65]),t.ecdsaVerify(e,r,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.PUBKEY_PARSE)}},ecdsaRecover(e,r,i,n=!0,s){switch(pe("signature",e,64),nr(Hn(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),pe("message",i,32),sn(n),s=pr(s,n?33:65),t.ecdsaRecover(s,e,r,i)){case 0:return s;case 1:throw new Error(xe.SIG_PARSE);case 2:throw new Error(xe.RECOVER);case 3:throw new Error(xe.IMPOSSIBLE_CASE)}},ecdh(e,r,i={},n){switch(pe("public key",e,[33,65]),pe("private key",r,32),nr(Hn(i)==="Object","Expected options to be an Object"),i.data!==void 0&&pe("options.data",i.data),i.hashfn!==void 0?(nr(Hn(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&pe("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&pe("options.ybuf",i.ybuf,32),pe("output",n)):n=pr(n,32),t.ecdh(n,e,r,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(xe.PUBKEY_PARSE);case 2:throw new Error(xe.ECDH)}}})});var y2=C((nS,b2)=>{b2.exports={_from:"elliptic@^6.5.2",_id:"elliptic@6.5.4",_inBundle:!1,_integrity:"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.2",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.2",saveSpec:null,fetchSpec:"^6.5.2"},_requiredBy:["/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_shasum:"da37cebd31e79a1367e941b592ed1fbebd58abbb",_spec:"elliptic@^6.5.2",_where:"/Users/vsantos/work/pl/gh/libp2p/js-libp2p-gossipsub/node_modules/secp256k1",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.4"}});var g2=C(()=>{});var Nr=C((v2,Bf)=>{(function(t,e){"use strict";function r(E,l){if(!E)throw new Error(l||"Assertion failed")}function i(E,l){E.super_=l;var p=function(){};p.prototype=l.prototype,E.prototype=new p,E.prototype.constructor=E}function n(E,l,p){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((l==="le"||l==="be")&&(p=l,l=10),this._init(E||0,l||10,p||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=g2().Buffer}catch(E){}n.isBN=function(l){return l instanceof n?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===n.wordSize&&Array.isArray(l.words)},n.max=function(l,p){return l.cmp(p)>0?l:p},n.min=function(l,p){return l.cmp(p)<0?l:p},n.prototype._init=function(l,p,v){if(typeof l=="number")return this._initNumber(l,p,v);if(typeof l=="object")return this._initArray(l,p,v);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var x=0;l[0]==="-"&&(x++,this.negative=1),x<l.length&&(p===16?this._parseHex(l,x,v):(this._parseBase(l,p,x),v==="le"&&this._initArray(this.toArray(),p,v)))},n.prototype._initNumber=function(l,p,v){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(r(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),p,v)},n.prototype._initArray=function(l,p,v){if(r(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var m,k,A=0;if(v==="be")for(x=l.length-1,m=0;x>=0;x-=3)k=l[x]|l[x-1]<<8|l[x-2]<<16,this.words[m]|=k<<A&67108863,this.words[m+1]=k>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);else if(v==="le")for(x=0,m=0;x<l.length;x+=3)k=l[x]|l[x+1]<<8|l[x+2]<<16,this.words[m]|=k<<A&67108863,this.words[m+1]=k>>>26-A&67108863,A+=24,A>=26&&(A-=26,m++);return this.strip()};function a(E,l){var p=E.charCodeAt(l);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function f(E,l,p){var v=a(E,p);return p-1>=l&&(v|=a(E,p-1)<<4),v}n.prototype._parseHex=function(l,p,v){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var m=0,k=0,A;if(v==="be")for(x=l.length-1;x>=p;x-=2)A=f(l,p,x)<<m,this.words[k]|=A&67108863,m>=18?(m-=18,k+=1,this.words[k]|=A>>>26):m+=8;else{var w=l.length-p;for(x=w%2==0?p+1:p;x<l.length;x+=2)A=f(l,p,x)<<m,this.words[k]|=A&67108863,m>=18?(m-=18,k+=1,this.words[k]|=A>>>26):m+=8}this.strip()};function o(E,l,p,v){for(var x=0,m=Math.min(E.length,p),k=l;k<m;k++){var A=E.charCodeAt(k)-48;x*=v,A>=49?x+=A-49+10:A>=17?x+=A-17+10:x+=A}return x}n.prototype._parseBase=function(l,p,v){this.words=[0],this.length=1;for(var x=0,m=1;m<=67108863;m*=p)x++;x--,m=m/p|0;for(var k=l.length-v,A=k%x,w=Math.min(k,k-A)+v,d=0,_=v;_<w;_+=x)d=o(l,_,_+x,p),this.imuln(m),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(A!==0){var U=1;for(d=o(l,_,l.length,p),_=0;_<A;_++)U*=p;this.imuln(U),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},n.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},n.prototype.clone=function(){var l=new n(null);return this.copy(l),l},n.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(l,p){l=l||10,p=p|0||1;var v;if(l===16||l==="hex"){v="";for(var x=0,m=0,k=0;k<this.length;k++){var A=this.words[k],w=((A<<x|m)&16777215).toString(16);m=A>>>24-x&16777215,m!==0||k!==this.length-1?v=c[6-w.length]+w+v:v=w+v,x+=2,x>=26&&(x-=26,k--)}for(m!==0&&(v=m.toString(16)+v);v.length%p!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(l===(l|0)&&l>=2&&l<=36){var d=u[l],_=h[l];v="";var U=this.clone();for(U.negative=0;!U.isZero();){var V=U.modn(_).toString(l);U=U.idivn(_),U.isZero()?v=V+v:v=c[d-V.length]+V+v}for(this.isZero()&&(v="0"+v);v.length%p!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(l,p){return r(typeof s!="undefined"),this.toArrayLike(s,l,p)},n.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},n.prototype.toArrayLike=function(l,p,v){var x=this.byteLength(),m=v||Math.max(1,x);r(x<=m,"byte array longer than desired length"),r(m>0,"Requested array length <= 0"),this.strip();var k=p==="le",A=new l(m),w,d,_=this.clone();if(k){for(d=0;!_.isZero();d++)w=_.andln(255),_.iushrn(8),A[d]=w;for(;d<m;d++)A[d]=0}else{for(d=0;d<m-x;d++)A[d]=0;for(d=0;!_.isZero();d++)w=_.andln(255),_.iushrn(8),A[m-d-1]=w}return A},Math.clz32?n.prototype._countBits=function(l){return 32-Math.clz32(l)}:n.prototype._countBits=function(l){var p=l,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},n.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,v=0;return(p&8191)==0&&(v+=13,p>>>=13),(p&127)==0&&(v+=7,p>>>=7),(p&15)==0&&(v+=4,p>>>=4),(p&3)==0&&(v+=2,p>>>=2),(p&1)==0&&v++,v},n.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function b(E){for(var l=new Array(E.bitLength()),p=0;p<l.length;p++){var v=p/26|0,x=p%26;l[p]=(E.words[v]&1<<x)>>>x}return l}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(l+=v,v!==26)break}return l},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},n.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},n.prototype.ior=function(l){return r((this.negative|l.negative)==0),this.iuor(l)},n.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},n.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},n.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&l.words[v];return this.length=p.length,this.strip()},n.prototype.iand=function(l){return r((this.negative|l.negative)==0),this.iuand(l)},n.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},n.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},n.prototype.iuxor=function(l){var p,v;this.length>l.length?(p=this,v=l):(p=l,v=this);for(var x=0;x<v.length;x++)this.words[x]=p.words[x]^v.words[x];if(this!==p)for(;x<p.length;x++)this.words[x]=p.words[x];return this.length=p.length,this.strip()},n.prototype.ixor=function(l){return r((this.negative|l.negative)==0),this.iuxor(l)},n.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},n.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},n.prototype.inotn=function(l){r(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,v=l%26;this._expand(p),v>0&&p--;for(var x=0;x<p;x++)this.words[x]=~this.words[x]&67108863;return v>0&&(this.words[x]=~this.words[x]&67108863>>26-v),this.strip()},n.prototype.notn=function(l){return this.clone().inotn(l)},n.prototype.setn=function(l,p){r(typeof l=="number"&&l>=0);var v=l/26|0,x=l%26;return this._expand(v+1),p?this.words[v]=this.words[v]|1<<x:this.words[v]=this.words[v]&~(1<<x),this.strip()},n.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var v,x;this.length>l.length?(v=this,x=l):(v=l,x=this);for(var m=0,k=0;k<x.length;k++)p=(v.words[k]|0)+(x.words[k]|0)+m,this.words[k]=p&67108863,m=p>>>26;for(;m!==0&&k<v.length;k++)p=(v.words[k]|0)+m,this.words[k]=p&67108863,m=p>>>26;if(this.length=v.length,m!==0)this.words[this.length]=m,this.length++;else if(v!==this)for(;k<v.length;k++)this.words[k]=v.words[k];return this},n.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},n.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var v=this.cmp(l);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,m;v>0?(x=this,m=l):(x=l,m=this);for(var k=0,A=0;A<m.length;A++)p=(x.words[A]|0)-(m.words[A]|0)+k,k=p>>26,this.words[A]=p&67108863;for(;k!==0&&A<x.length;A++)p=(x.words[A]|0)+k,k=p>>26,this.words[A]=p&67108863;if(k===0&&A<x.length&&x!==this)for(;A<x.length;A++)this.words[A]=x.words[A];return this.length=Math.max(this.length,A),x!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(l){return this.clone().isub(l)};function g(E,l,p){p.negative=l.negative^E.negative;var v=E.length+l.length|0;p.length=v,v=v-1|0;var x=E.words[0]|0,m=l.words[0]|0,k=x*m,A=k&67108863,w=k/67108864|0;p.words[0]=A;for(var d=1;d<v;d++){for(var _=w>>>26,U=w&67108863,V=Math.min(d,l.length-1),W=Math.max(0,d-E.length+1);W<=V;W++){var J=d-W|0;x=E.words[J]|0,m=l.words[W]|0,k=x*m+U,_+=k/67108864|0,U=k&67108863}p.words[d]=U|0,w=_|0}return w!==0?p.words[d]=w|0:p.length--,p.strip()}var y=function(l,p,v){var x=l.words,m=p.words,k=v.words,A=0,w,d,_,U=x[0]|0,V=U&8191,W=U>>>13,J=x[1]|0,Q=J&8191,ee=J>>>13,Re=x[2]|0,te=Re&8191,ne=Re>>>13,yt=x[3]|0,ae=yt&8191,oe=yt>>>13,gt=x[4]|0,fe=gt&8191,ce=gt>>>13,Ec=x[5]|0,Ke=Ec&8191,Ue=Ec>>>13,Sc=x[6]|0,ze=Sc&8191,Ge=Sc>>>13,Ic=x[7]|0,Ve=Ic&8191,He=Ic>>>13,Ac=x[8]|0,je=Ac&8191,We=Ac>>>13,Bc=x[9]|0,Ye=Bc&8191,Je=Bc>>>13,kc=m[0]|0,Ze=kc&8191,Xe=kc>>>13,Cc=m[1]|0,Qe=Cc&8191,$e=Cc>>>13,Tc=m[2]|0,et=Tc&8191,tt=Tc>>>13,Rc=m[3]|0,rt=Rc&8191,it=Rc>>>13,Mc=m[4]|0,nt=Mc&8191,st=Mc>>>13,Pc=m[5]|0,at=Pc&8191,ot=Pc>>>13,Dc=m[6]|0,ft=Dc&8191,ct=Dc>>>13,Oc=m[7]|0,ut=Oc&8191,ht=Oc>>>13,Nc=m[8]|0,lt=Nc&8191,dt=Nc>>>13,Lc=m[9]|0,pt=Lc&8191,bt=Lc>>>13;v.negative=l.negative^p.negative,v.length=19,w=Math.imul(V,Ze),d=Math.imul(V,Xe),d=d+Math.imul(W,Ze)|0,_=Math.imul(W,Xe);var ko=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(ko>>>26)|0,ko&=67108863,w=Math.imul(Q,Ze),d=Math.imul(Q,Xe),d=d+Math.imul(ee,Ze)|0,_=Math.imul(ee,Xe),w=w+Math.imul(V,Qe)|0,d=d+Math.imul(V,$e)|0,d=d+Math.imul(W,Qe)|0,_=_+Math.imul(W,$e)|0;var Co=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Co>>>26)|0,Co&=67108863,w=Math.imul(te,Ze),d=Math.imul(te,Xe),d=d+Math.imul(ne,Ze)|0,_=Math.imul(ne,Xe),w=w+Math.imul(Q,Qe)|0,d=d+Math.imul(Q,$e)|0,d=d+Math.imul(ee,Qe)|0,_=_+Math.imul(ee,$e)|0,w=w+Math.imul(V,et)|0,d=d+Math.imul(V,tt)|0,d=d+Math.imul(W,et)|0,_=_+Math.imul(W,tt)|0;var To=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(To>>>26)|0,To&=67108863,w=Math.imul(ae,Ze),d=Math.imul(ae,Xe),d=d+Math.imul(oe,Ze)|0,_=Math.imul(oe,Xe),w=w+Math.imul(te,Qe)|0,d=d+Math.imul(te,$e)|0,d=d+Math.imul(ne,Qe)|0,_=_+Math.imul(ne,$e)|0,w=w+Math.imul(Q,et)|0,d=d+Math.imul(Q,tt)|0,d=d+Math.imul(ee,et)|0,_=_+Math.imul(ee,tt)|0,w=w+Math.imul(V,rt)|0,d=d+Math.imul(V,it)|0,d=d+Math.imul(W,rt)|0,_=_+Math.imul(W,it)|0;var Ro=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,w=Math.imul(fe,Ze),d=Math.imul(fe,Xe),d=d+Math.imul(ce,Ze)|0,_=Math.imul(ce,Xe),w=w+Math.imul(ae,Qe)|0,d=d+Math.imul(ae,$e)|0,d=d+Math.imul(oe,Qe)|0,_=_+Math.imul(oe,$e)|0,w=w+Math.imul(te,et)|0,d=d+Math.imul(te,tt)|0,d=d+Math.imul(ne,et)|0,_=_+Math.imul(ne,tt)|0,w=w+Math.imul(Q,rt)|0,d=d+Math.imul(Q,it)|0,d=d+Math.imul(ee,rt)|0,_=_+Math.imul(ee,it)|0,w=w+Math.imul(V,nt)|0,d=d+Math.imul(V,st)|0,d=d+Math.imul(W,nt)|0,_=_+Math.imul(W,st)|0;var Mo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,w=Math.imul(Ke,Ze),d=Math.imul(Ke,Xe),d=d+Math.imul(Ue,Ze)|0,_=Math.imul(Ue,Xe),w=w+Math.imul(fe,Qe)|0,d=d+Math.imul(fe,$e)|0,d=d+Math.imul(ce,Qe)|0,_=_+Math.imul(ce,$e)|0,w=w+Math.imul(ae,et)|0,d=d+Math.imul(ae,tt)|0,d=d+Math.imul(oe,et)|0,_=_+Math.imul(oe,tt)|0,w=w+Math.imul(te,rt)|0,d=d+Math.imul(te,it)|0,d=d+Math.imul(ne,rt)|0,_=_+Math.imul(ne,it)|0,w=w+Math.imul(Q,nt)|0,d=d+Math.imul(Q,st)|0,d=d+Math.imul(ee,nt)|0,_=_+Math.imul(ee,st)|0,w=w+Math.imul(V,at)|0,d=d+Math.imul(V,ot)|0,d=d+Math.imul(W,at)|0,_=_+Math.imul(W,ot)|0;var Po=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Po>>>26)|0,Po&=67108863,w=Math.imul(ze,Ze),d=Math.imul(ze,Xe),d=d+Math.imul(Ge,Ze)|0,_=Math.imul(Ge,Xe),w=w+Math.imul(Ke,Qe)|0,d=d+Math.imul(Ke,$e)|0,d=d+Math.imul(Ue,Qe)|0,_=_+Math.imul(Ue,$e)|0,w=w+Math.imul(fe,et)|0,d=d+Math.imul(fe,tt)|0,d=d+Math.imul(ce,et)|0,_=_+Math.imul(ce,tt)|0,w=w+Math.imul(ae,rt)|0,d=d+Math.imul(ae,it)|0,d=d+Math.imul(oe,rt)|0,_=_+Math.imul(oe,it)|0,w=w+Math.imul(te,nt)|0,d=d+Math.imul(te,st)|0,d=d+Math.imul(ne,nt)|0,_=_+Math.imul(ne,st)|0,w=w+Math.imul(Q,at)|0,d=d+Math.imul(Q,ot)|0,d=d+Math.imul(ee,at)|0,_=_+Math.imul(ee,ot)|0,w=w+Math.imul(V,ft)|0,d=d+Math.imul(V,ct)|0,d=d+Math.imul(W,ft)|0,_=_+Math.imul(W,ct)|0;var Do=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Do>>>26)|0,Do&=67108863,w=Math.imul(Ve,Ze),d=Math.imul(Ve,Xe),d=d+Math.imul(He,Ze)|0,_=Math.imul(He,Xe),w=w+Math.imul(ze,Qe)|0,d=d+Math.imul(ze,$e)|0,d=d+Math.imul(Ge,Qe)|0,_=_+Math.imul(Ge,$e)|0,w=w+Math.imul(Ke,et)|0,d=d+Math.imul(Ke,tt)|0,d=d+Math.imul(Ue,et)|0,_=_+Math.imul(Ue,tt)|0,w=w+Math.imul(fe,rt)|0,d=d+Math.imul(fe,it)|0,d=d+Math.imul(ce,rt)|0,_=_+Math.imul(ce,it)|0,w=w+Math.imul(ae,nt)|0,d=d+Math.imul(ae,st)|0,d=d+Math.imul(oe,nt)|0,_=_+Math.imul(oe,st)|0,w=w+Math.imul(te,at)|0,d=d+Math.imul(te,ot)|0,d=d+Math.imul(ne,at)|0,_=_+Math.imul(ne,ot)|0,w=w+Math.imul(Q,ft)|0,d=d+Math.imul(Q,ct)|0,d=d+Math.imul(ee,ft)|0,_=_+Math.imul(ee,ct)|0,w=w+Math.imul(V,ut)|0,d=d+Math.imul(V,ht)|0,d=d+Math.imul(W,ut)|0,_=_+Math.imul(W,ht)|0;var Oo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,w=Math.imul(je,Ze),d=Math.imul(je,Xe),d=d+Math.imul(We,Ze)|0,_=Math.imul(We,Xe),w=w+Math.imul(Ve,Qe)|0,d=d+Math.imul(Ve,$e)|0,d=d+Math.imul(He,Qe)|0,_=_+Math.imul(He,$e)|0,w=w+Math.imul(ze,et)|0,d=d+Math.imul(ze,tt)|0,d=d+Math.imul(Ge,et)|0,_=_+Math.imul(Ge,tt)|0,w=w+Math.imul(Ke,rt)|0,d=d+Math.imul(Ke,it)|0,d=d+Math.imul(Ue,rt)|0,_=_+Math.imul(Ue,it)|0,w=w+Math.imul(fe,nt)|0,d=d+Math.imul(fe,st)|0,d=d+Math.imul(ce,nt)|0,_=_+Math.imul(ce,st)|0,w=w+Math.imul(ae,at)|0,d=d+Math.imul(ae,ot)|0,d=d+Math.imul(oe,at)|0,_=_+Math.imul(oe,ot)|0,w=w+Math.imul(te,ft)|0,d=d+Math.imul(te,ct)|0,d=d+Math.imul(ne,ft)|0,_=_+Math.imul(ne,ct)|0,w=w+Math.imul(Q,ut)|0,d=d+Math.imul(Q,ht)|0,d=d+Math.imul(ee,ut)|0,_=_+Math.imul(ee,ht)|0,w=w+Math.imul(V,lt)|0,d=d+Math.imul(V,dt)|0,d=d+Math.imul(W,lt)|0,_=_+Math.imul(W,dt)|0;var No=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(No>>>26)|0,No&=67108863,w=Math.imul(Ye,Ze),d=Math.imul(Ye,Xe),d=d+Math.imul(Je,Ze)|0,_=Math.imul(Je,Xe),w=w+Math.imul(je,Qe)|0,d=d+Math.imul(je,$e)|0,d=d+Math.imul(We,Qe)|0,_=_+Math.imul(We,$e)|0,w=w+Math.imul(Ve,et)|0,d=d+Math.imul(Ve,tt)|0,d=d+Math.imul(He,et)|0,_=_+Math.imul(He,tt)|0,w=w+Math.imul(ze,rt)|0,d=d+Math.imul(ze,it)|0,d=d+Math.imul(Ge,rt)|0,_=_+Math.imul(Ge,it)|0,w=w+Math.imul(Ke,nt)|0,d=d+Math.imul(Ke,st)|0,d=d+Math.imul(Ue,nt)|0,_=_+Math.imul(Ue,st)|0,w=w+Math.imul(fe,at)|0,d=d+Math.imul(fe,ot)|0,d=d+Math.imul(ce,at)|0,_=_+Math.imul(ce,ot)|0,w=w+Math.imul(ae,ft)|0,d=d+Math.imul(ae,ct)|0,d=d+Math.imul(oe,ft)|0,_=_+Math.imul(oe,ct)|0,w=w+Math.imul(te,ut)|0,d=d+Math.imul(te,ht)|0,d=d+Math.imul(ne,ut)|0,_=_+Math.imul(ne,ht)|0,w=w+Math.imul(Q,lt)|0,d=d+Math.imul(Q,dt)|0,d=d+Math.imul(ee,lt)|0,_=_+Math.imul(ee,dt)|0,w=w+Math.imul(V,pt)|0,d=d+Math.imul(V,bt)|0,d=d+Math.imul(W,pt)|0,_=_+Math.imul(W,bt)|0;var Lo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,w=Math.imul(Ye,Qe),d=Math.imul(Ye,$e),d=d+Math.imul(Je,Qe)|0,_=Math.imul(Je,$e),w=w+Math.imul(je,et)|0,d=d+Math.imul(je,tt)|0,d=d+Math.imul(We,et)|0,_=_+Math.imul(We,tt)|0,w=w+Math.imul(Ve,rt)|0,d=d+Math.imul(Ve,it)|0,d=d+Math.imul(He,rt)|0,_=_+Math.imul(He,it)|0,w=w+Math.imul(ze,nt)|0,d=d+Math.imul(ze,st)|0,d=d+Math.imul(Ge,nt)|0,_=_+Math.imul(Ge,st)|0,w=w+Math.imul(Ke,at)|0,d=d+Math.imul(Ke,ot)|0,d=d+Math.imul(Ue,at)|0,_=_+Math.imul(Ue,ot)|0,w=w+Math.imul(fe,ft)|0,d=d+Math.imul(fe,ct)|0,d=d+Math.imul(ce,ft)|0,_=_+Math.imul(ce,ct)|0,w=w+Math.imul(ae,ut)|0,d=d+Math.imul(ae,ht)|0,d=d+Math.imul(oe,ut)|0,_=_+Math.imul(oe,ht)|0,w=w+Math.imul(te,lt)|0,d=d+Math.imul(te,dt)|0,d=d+Math.imul(ne,lt)|0,_=_+Math.imul(ne,dt)|0,w=w+Math.imul(Q,pt)|0,d=d+Math.imul(Q,bt)|0,d=d+Math.imul(ee,pt)|0,_=_+Math.imul(ee,bt)|0;var qo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(qo>>>26)|0,qo&=67108863,w=Math.imul(Ye,et),d=Math.imul(Ye,tt),d=d+Math.imul(Je,et)|0,_=Math.imul(Je,tt),w=w+Math.imul(je,rt)|0,d=d+Math.imul(je,it)|0,d=d+Math.imul(We,rt)|0,_=_+Math.imul(We,it)|0,w=w+Math.imul(Ve,nt)|0,d=d+Math.imul(Ve,st)|0,d=d+Math.imul(He,nt)|0,_=_+Math.imul(He,st)|0,w=w+Math.imul(ze,at)|0,d=d+Math.imul(ze,ot)|0,d=d+Math.imul(Ge,at)|0,_=_+Math.imul(Ge,ot)|0,w=w+Math.imul(Ke,ft)|0,d=d+Math.imul(Ke,ct)|0,d=d+Math.imul(Ue,ft)|0,_=_+Math.imul(Ue,ct)|0,w=w+Math.imul(fe,ut)|0,d=d+Math.imul(fe,ht)|0,d=d+Math.imul(ce,ut)|0,_=_+Math.imul(ce,ht)|0,w=w+Math.imul(ae,lt)|0,d=d+Math.imul(ae,dt)|0,d=d+Math.imul(oe,lt)|0,_=_+Math.imul(oe,dt)|0,w=w+Math.imul(te,pt)|0,d=d+Math.imul(te,bt)|0,d=d+Math.imul(ne,pt)|0,_=_+Math.imul(ne,bt)|0;var Fo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,w=Math.imul(Ye,rt),d=Math.imul(Ye,it),d=d+Math.imul(Je,rt)|0,_=Math.imul(Je,it),w=w+Math.imul(je,nt)|0,d=d+Math.imul(je,st)|0,d=d+Math.imul(We,nt)|0,_=_+Math.imul(We,st)|0,w=w+Math.imul(Ve,at)|0,d=d+Math.imul(Ve,ot)|0,d=d+Math.imul(He,at)|0,_=_+Math.imul(He,ot)|0,w=w+Math.imul(ze,ft)|0,d=d+Math.imul(ze,ct)|0,d=d+Math.imul(Ge,ft)|0,_=_+Math.imul(Ge,ct)|0,w=w+Math.imul(Ke,ut)|0,d=d+Math.imul(Ke,ht)|0,d=d+Math.imul(Ue,ut)|0,_=_+Math.imul(Ue,ht)|0,w=w+Math.imul(fe,lt)|0,d=d+Math.imul(fe,dt)|0,d=d+Math.imul(ce,lt)|0,_=_+Math.imul(ce,dt)|0,w=w+Math.imul(ae,pt)|0,d=d+Math.imul(ae,bt)|0,d=d+Math.imul(oe,pt)|0,_=_+Math.imul(oe,bt)|0;var Ko=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,w=Math.imul(Ye,nt),d=Math.imul(Ye,st),d=d+Math.imul(Je,nt)|0,_=Math.imul(Je,st),w=w+Math.imul(je,at)|0,d=d+Math.imul(je,ot)|0,d=d+Math.imul(We,at)|0,_=_+Math.imul(We,ot)|0,w=w+Math.imul(Ve,ft)|0,d=d+Math.imul(Ve,ct)|0,d=d+Math.imul(He,ft)|0,_=_+Math.imul(He,ct)|0,w=w+Math.imul(ze,ut)|0,d=d+Math.imul(ze,ht)|0,d=d+Math.imul(Ge,ut)|0,_=_+Math.imul(Ge,ht)|0,w=w+Math.imul(Ke,lt)|0,d=d+Math.imul(Ke,dt)|0,d=d+Math.imul(Ue,lt)|0,_=_+Math.imul(Ue,dt)|0,w=w+Math.imul(fe,pt)|0,d=d+Math.imul(fe,bt)|0,d=d+Math.imul(ce,pt)|0,_=_+Math.imul(ce,bt)|0;var Uo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,w=Math.imul(Ye,at),d=Math.imul(Ye,ot),d=d+Math.imul(Je,at)|0,_=Math.imul(Je,ot),w=w+Math.imul(je,ft)|0,d=d+Math.imul(je,ct)|0,d=d+Math.imul(We,ft)|0,_=_+Math.imul(We,ct)|0,w=w+Math.imul(Ve,ut)|0,d=d+Math.imul(Ve,ht)|0,d=d+Math.imul(He,ut)|0,_=_+Math.imul(He,ht)|0,w=w+Math.imul(ze,lt)|0,d=d+Math.imul(ze,dt)|0,d=d+Math.imul(Ge,lt)|0,_=_+Math.imul(Ge,dt)|0,w=w+Math.imul(Ke,pt)|0,d=d+Math.imul(Ke,bt)|0,d=d+Math.imul(Ue,pt)|0,_=_+Math.imul(Ue,bt)|0;var zo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(zo>>>26)|0,zo&=67108863,w=Math.imul(Ye,ft),d=Math.imul(Ye,ct),d=d+Math.imul(Je,ft)|0,_=Math.imul(Je,ct),w=w+Math.imul(je,ut)|0,d=d+Math.imul(je,ht)|0,d=d+Math.imul(We,ut)|0,_=_+Math.imul(We,ht)|0,w=w+Math.imul(Ve,lt)|0,d=d+Math.imul(Ve,dt)|0,d=d+Math.imul(He,lt)|0,_=_+Math.imul(He,dt)|0,w=w+Math.imul(ze,pt)|0,d=d+Math.imul(ze,bt)|0,d=d+Math.imul(Ge,pt)|0,_=_+Math.imul(Ge,bt)|0;var Go=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Go>>>26)|0,Go&=67108863,w=Math.imul(Ye,ut),d=Math.imul(Ye,ht),d=d+Math.imul(Je,ut)|0,_=Math.imul(Je,ht),w=w+Math.imul(je,lt)|0,d=d+Math.imul(je,dt)|0,d=d+Math.imul(We,lt)|0,_=_+Math.imul(We,dt)|0,w=w+Math.imul(Ve,pt)|0,d=d+Math.imul(Ve,bt)|0,d=d+Math.imul(He,pt)|0,_=_+Math.imul(He,bt)|0;var Vo=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,w=Math.imul(Ye,lt),d=Math.imul(Ye,dt),d=d+Math.imul(Je,lt)|0,_=Math.imul(Je,dt),w=w+Math.imul(je,pt)|0,d=d+Math.imul(je,bt)|0,d=d+Math.imul(We,pt)|0,_=_+Math.imul(We,bt)|0;var Ho=(A+w|0)+((d&8191)<<13)|0;A=(_+(d>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,w=Math.imul(Ye,pt),d=Math.imul(Ye,bt),d=d+Math.imul(Je,pt)|0,_=Math.imul(Je,bt);var jo=(A+w|0)+((d&8191)<<13)|0;return A=(_+(d>>>13)|0)+(jo>>>26)|0,jo&=67108863,k[0]=ko,k[1]=Co,k[2]=To,k[3]=Ro,k[4]=Mo,k[5]=Po,k[6]=Do,k[7]=Oo,k[8]=No,k[9]=Lo,k[10]=qo,k[11]=Fo,k[12]=Ko,k[13]=Uo,k[14]=zo,k[15]=Go,k[16]=Vo,k[17]=Ho,k[18]=jo,A!==0&&(k[19]=A,v.length++),v};Math.imul||(y=g);function S(E,l,p){p.negative=l.negative^E.negative,p.length=E.length+l.length;for(var v=0,x=0,m=0;m<p.length-1;m++){var k=x;x=0;for(var A=v&67108863,w=Math.min(m,l.length-1),d=Math.max(0,m-E.length+1);d<=w;d++){var _=m-d,U=E.words[_]|0,V=l.words[d]|0,W=U*V,J=W&67108863;k=k+(W/67108864|0)|0,J=J+A|0,A=J&67108863,k=k+(J>>>26)|0,x+=k>>>26,k&=67108863}p.words[m]=A,v=k,k=x}return v!==0?p.words[m]=v:p.length--,p.strip()}function I(E,l,p){var v=new B;return v.mulp(E,l,p)}n.prototype.mulTo=function(l,p){var v,x=this.length+l.length;return this.length===10&&l.length===10?v=y(this,l,p):x<63?v=g(this,l,p):x<1024?v=S(this,l,p):v=I(this,l,p),v};function B(E,l){this.x=E,this.y=l}B.prototype.makeRBT=function(l){for(var p=new Array(l),v=n.prototype._countBits(l)-1,x=0;x<l;x++)p[x]=this.revBin(x,v,l);return p},B.prototype.revBin=function(l,p,v){if(l===0||l===v-1)return l;for(var x=0,m=0;m<p;m++)x|=(l&1)<<p-m-1,l>>=1;return x},B.prototype.permute=function(l,p,v,x,m,k){for(var A=0;A<k;A++)x[A]=p[l[A]],m[A]=v[l[A]]},B.prototype.transform=function(l,p,v,x,m,k){this.permute(k,l,p,v,x,m);for(var A=1;A<m;A<<=1)for(var w=A<<1,d=Math.cos(2*Math.PI/w),_=Math.sin(2*Math.PI/w),U=0;U<m;U+=w)for(var V=d,W=_,J=0;J<A;J++){var Q=v[U+J],ee=x[U+J],Re=v[U+J+A],te=x[U+J+A],ne=V*Re-W*te;te=V*te+W*Re,Re=ne,v[U+J]=Q+Re,x[U+J]=ee+te,v[U+J+A]=Q-Re,x[U+J+A]=ee-te,J!==w&&(ne=d*V-_*W,W=d*W+_*V,V=ne)}},B.prototype.guessLen13b=function(l,p){var v=Math.max(p,l)|1,x=v&1,m=0;for(v=v/2|0;v;v=v>>>1)m++;return 1<<m+1+x},B.prototype.conjugate=function(l,p,v){if(!(v<=1))for(var x=0;x<v/2;x++){var m=l[x];l[x]=l[v-x-1],l[v-x-1]=m,m=p[x],p[x]=-p[v-x-1],p[v-x-1]=-m}},B.prototype.normalize13b=function(l,p){for(var v=0,x=0;x<p/2;x++){var m=Math.round(l[2*x+1]/p)*8192+Math.round(l[2*x]/p)+v;l[x]=m&67108863,m<67108864?v=0:v=m/67108864|0}return l},B.prototype.convert13b=function(l,p,v,x){for(var m=0,k=0;k<p;k++)m=m+(l[k]|0),v[2*k]=m&8191,m=m>>>13,v[2*k+1]=m&8191,m=m>>>13;for(k=2*p;k<x;++k)v[k]=0;r(m===0),r((m&~8191)==0)},B.prototype.stub=function(l){for(var p=new Array(l),v=0;v<l;v++)p[v]=0;return p},B.prototype.mulp=function(l,p,v){var x=2*this.guessLen13b(l.length,p.length),m=this.makeRBT(x),k=this.stub(x),A=new Array(x),w=new Array(x),d=new Array(x),_=new Array(x),U=new Array(x),V=new Array(x),W=v.words;W.length=x,this.convert13b(l.words,l.length,A,x),this.convert13b(p.words,p.length,_,x),this.transform(A,k,w,d,x,m),this.transform(_,k,U,V,x,m);for(var J=0;J<x;J++){var Q=w[J]*U[J]-d[J]*V[J];d[J]=w[J]*V[J]+d[J]*U[J],w[J]=Q}return this.conjugate(w,d,x),this.transform(w,d,W,k,x,m),this.conjugate(W,k,x),this.normalize13b(W,x),v.negative=l.negative^p.negative,v.length=l.length+p.length,v.strip()},n.prototype.mul=function(l){var p=new n(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},n.prototype.mulf=function(l){var p=new n(null);return p.words=new Array(this.length+l.length),I(this,l,p)},n.prototype.imul=function(l){return this.clone().mulTo(l,this)},n.prototype.imuln=function(l){r(typeof l=="number"),r(l<67108864);for(var p=0,v=0;v<this.length;v++){var x=(this.words[v]|0)*l,m=(x&67108863)+(p&67108863);p>>=26,p+=x/67108864|0,p+=m>>>26,this.words[v]=m&67108863}return p!==0&&(this.words[v]=p,this.length++),this},n.prototype.muln=function(l){return this.clone().imuln(l)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(l){var p=b(l);if(p.length===0)return new n(1);for(var v=this,x=0;x<p.length&&p[x]===0;x++,v=v.sqr());if(++x<p.length)for(var m=v.sqr();x<p.length;x++,m=m.sqr())p[x]!==0&&(v=v.mul(m));return v},n.prototype.iushln=function(l){r(typeof l=="number"&&l>=0);var p=l%26,v=(l-p)/26,x=67108863>>>26-p<<26-p,m;if(p!==0){var k=0;for(m=0;m<this.length;m++){var A=this.words[m]&x,w=(this.words[m]|0)-A<<p;this.words[m]=w|k,k=A>>>26-p}k&&(this.words[m]=k,this.length++)}if(v!==0){for(m=this.length-1;m>=0;m--)this.words[m+v]=this.words[m];for(m=0;m<v;m++)this.words[m]=0;this.length+=v}return this.strip()},n.prototype.ishln=function(l){return r(this.negative===0),this.iushln(l)},n.prototype.iushrn=function(l,p,v){r(typeof l=="number"&&l>=0);var x;p?x=(p-p%26)/26:x=0;var m=l%26,k=Math.min((l-m)/26,this.length),A=67108863^67108863>>>m<<m,w=v;if(x-=k,x=Math.max(0,x),w){for(var d=0;d<k;d++)w.words[d]=this.words[d];w.length=k}if(k!==0)if(this.length>k)for(this.length-=k,d=0;d<this.length;d++)this.words[d]=this.words[d+k];else this.words[0]=0,this.length=1;var _=0;for(d=this.length-1;d>=0&&(_!==0||d>=x);d--){var U=this.words[d]|0;this.words[d]=_<<26-m|U>>>m,_=U&A}return w&&_!==0&&(w.words[w.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(l,p,v){return r(this.negative===0),this.iushrn(l,p,v)},n.prototype.shln=function(l){return this.clone().ishln(l)},n.prototype.ushln=function(l){return this.clone().iushln(l)},n.prototype.shrn=function(l){return this.clone().ishrn(l)},n.prototype.ushrn=function(l){return this.clone().iushrn(l)},n.prototype.testn=function(l){r(typeof l=="number"&&l>=0);var p=l%26,v=(l-p)/26,x=1<<p;if(this.length<=v)return!1;var m=this.words[v];return!!(m&x)},n.prototype.imaskn=function(l){r(typeof l=="number"&&l>=0);var p=l%26,v=(l-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(p!==0&&v++,this.length=Math.min(v,this.length),p!==0){var x=67108863^67108863>>>p<<p;this.words[this.length-1]&=x}return this.strip()},n.prototype.maskn=function(l){return this.clone().imaskn(l)},n.prototype.iaddn=function(l){return r(typeof l=="number"),r(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},n.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},n.prototype.isubn=function(l){if(r(typeof l=="number"),r(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},n.prototype.addn=function(l){return this.clone().iaddn(l)},n.prototype.subn=function(l){return this.clone().isubn(l)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(l,p,v){var x=l.length+v,m;this._expand(x);var k,A=0;for(m=0;m<l.length;m++){k=(this.words[m+v]|0)+A;var w=(l.words[m]|0)*p;k-=w&67108863,A=(k>>26)-(w/67108864|0),this.words[m+v]=k&67108863}for(;m<this.length-v;m++)k=(this.words[m+v]|0)+A,A=k>>26,this.words[m+v]=k&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,m=0;m<this.length;m++)k=-(this.words[m]|0)+A,A=k>>26,this.words[m]=k&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(l,p){var v=this.length-l.length,x=this.clone(),m=l,k=m.words[m.length-1]|0,A=this._countBits(k);v=26-A,v!==0&&(m=m.ushln(v),x.iushln(v),k=m.words[m.length-1]|0);var w=x.length-m.length,d;if(p!=="mod"){d=new n(null),d.length=w+1,d.words=new Array(d.length);for(var _=0;_<d.length;_++)d.words[_]=0}var U=x.clone()._ishlnsubmul(m,1,w);U.negative===0&&(x=U,d&&(d.words[w]=1));for(var V=w-1;V>=0;V--){var W=(x.words[m.length+V]|0)*67108864+(x.words[m.length+V-1]|0);for(W=Math.min(W/k|0,67108863),x._ishlnsubmul(m,W,V);x.negative!==0;)W--,x.negative=0,x._ishlnsubmul(m,1,V),x.isZero()||(x.negative^=1);d&&(d.words[V]=W)}return d&&d.strip(),x.strip(),p!=="div"&&v!==0&&x.iushrn(v),{div:d||null,mod:x}},n.prototype.divmod=function(l,p,v){if(r(!l.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var x,m,k;return this.negative!==0&&l.negative===0?(k=this.neg().divmod(l,p),p!=="mod"&&(x=k.div.neg()),p!=="div"&&(m=k.mod.neg(),v&&m.negative!==0&&m.iadd(l)),{div:x,mod:m}):this.negative===0&&l.negative!==0?(k=this.divmod(l.neg(),p),p!=="mod"&&(x=k.div.neg()),{div:x,mod:k.mod}):(this.negative&l.negative)!=0?(k=this.neg().divmod(l.neg(),p),p!=="div"&&(m=k.mod.neg(),v&&m.negative!==0&&m.isub(l)),{div:k.div,mod:m}):l.length>this.length||this.cmp(l)<0?{div:new n(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new n(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new n(this.modn(l.words[0]))}:this._wordDiv(l,p)},n.prototype.div=function(l){return this.divmod(l,"div",!1).div},n.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},n.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},n.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var v=p.div.negative!==0?p.mod.isub(l):p.mod,x=l.ushrn(1),m=l.andln(1),k=v.cmp(x);return k<0||m===1&&k===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},n.prototype.modn=function(l){r(l<=67108863);for(var p=(1<<26)%l,v=0,x=this.length-1;x>=0;x--)v=(p*v+(this.words[x]|0))%l;return v},n.prototype.idivn=function(l){r(l<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var x=(this.words[v]|0)+p*67108864;this.words[v]=x/l|0,p=x%l}return this.strip()},n.prototype.divn=function(l){return this.clone().idivn(l)},n.prototype.egcd=function(l){r(l.negative===0),r(!l.isZero());var p=this,v=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var x=new n(1),m=new n(0),k=new n(0),A=new n(1),w=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++w;for(var d=v.clone(),_=p.clone();!p.isZero();){for(var U=0,V=1;(p.words[0]&V)==0&&U<26;++U,V<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(x.isOdd()||m.isOdd())&&(x.iadd(d),m.isub(_)),x.iushrn(1),m.iushrn(1);for(var W=0,J=1;(v.words[0]&J)==0&&W<26;++W,J<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(k.isOdd()||A.isOdd())&&(k.iadd(d),A.isub(_)),k.iushrn(1),A.iushrn(1);p.cmp(v)>=0?(p.isub(v),x.isub(k),m.isub(A)):(v.isub(p),k.isub(x),A.isub(m))}return{a:k,b:A,gcd:v.iushln(w)}},n.prototype._invmp=function(l){r(l.negative===0),r(!l.isZero());var p=this,v=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var x=new n(1),m=new n(0),k=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var A=0,w=1;(p.words[0]&w)==0&&A<26;++A,w<<=1);if(A>0)for(p.iushrn(A);A-- >0;)x.isOdd()&&x.iadd(k),x.iushrn(1);for(var d=0,_=1;(v.words[0]&_)==0&&d<26;++d,_<<=1);if(d>0)for(v.iushrn(d);d-- >0;)m.isOdd()&&m.iadd(k),m.iushrn(1);p.cmp(v)>=0?(p.isub(v),x.isub(m)):(v.isub(p),m.isub(x))}var U;return p.cmpn(1)===0?U=x:U=m,U.cmpn(0)<0&&U.iadd(l),U},n.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),v=l.clone();p.negative=0,v.negative=0;for(var x=0;p.isEven()&&v.isEven();x++)p.iushrn(1),v.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var m=p.cmp(v);if(m<0){var k=p;p=v,v=k}else if(m===0||v.cmpn(1)===0)break;p.isub(v)}while(!0);return v.iushln(x)},n.prototype.invm=function(l){return this.egcd(l).a.umod(l)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(l){return this.words[0]&l},n.prototype.bincn=function(l){r(typeof l=="number");var p=l%26,v=(l-p)/26,x=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=x,this;for(var m=x,k=v;m!==0&&k<this.length;k++){var A=this.words[k]|0;A+=m,m=A>>>26,A&=67108863,this.words[k]=A}return m!==0&&(this.words[k]=m,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var v;if(this.length>1)v=1;else{p&&(l=-l),r(l<=67108863,"Number is too big");var x=this.words[0]|0;v=x===l?0:x<l?-1:1}return this.negative!==0?-v|0:v},n.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},n.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var x=this.words[v]|0,m=l.words[v]|0;if(x!==m){x<m?p=-1:x>m&&(p=1);break}}return p},n.prototype.gtn=function(l){return this.cmpn(l)===1},n.prototype.gt=function(l){return this.cmp(l)===1},n.prototype.gten=function(l){return this.cmpn(l)>=0},n.prototype.gte=function(l){return this.cmp(l)>=0},n.prototype.ltn=function(l){return this.cmpn(l)===-1},n.prototype.lt=function(l){return this.cmp(l)===-1},n.prototype.lten=function(l){return this.cmpn(l)<=0},n.prototype.lte=function(l){return this.cmp(l)<=0},n.prototype.eqn=function(l){return this.cmpn(l)===0},n.prototype.eq=function(l){return this.cmp(l)===0},n.red=function(l){return new G(l)},n.prototype.toRed=function(l){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(l){return this.red=l,this},n.prototype.forceRed=function(l){return r(!this.red,"Already a number in reduction context"),this._forceRed(l)},n.prototype.redAdd=function(l){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},n.prototype.redIAdd=function(l){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},n.prototype.redSub=function(l){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},n.prototype.redISub=function(l){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},n.prototype.redShl=function(l){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},n.prototype.redMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},n.prototype.redIMul=function(l){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(l){return r(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var R={k256:null,p224:null,p192:null,p25519:null};function M(E,l){this.name=E,this.p=new n(l,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var l=new n(null);return l.words=new Array(Math.ceil(this.n/13)),l},M.prototype.ireduce=function(l){var p=l,v;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),v=p.bitLength();while(v>this.n);var x=v<this.n?-1:p.ucmp(this.p);return x===0?(p.words[0]=0,p.length=1):x>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},M.prototype.split=function(l,p){l.iushrn(this.n,0,p)},M.prototype.imulK=function(l){return l.imul(this.k)};function F(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,M),F.prototype.split=function(l,p){for(var v=4194303,x=Math.min(l.length,9),m=0;m<x;m++)p.words[m]=l.words[m];if(p.length=x,l.length<=9){l.words[0]=0,l.length=1;return}var k=l.words[9];for(p.words[p.length++]=k&v,m=10;m<l.length;m++){var A=l.words[m]|0;l.words[m-10]=(A&v)<<4|k>>>22,k=A}k>>>=22,l.words[m-10]=k,k===0&&l.length>10?l.length-=10:l.length-=9},F.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,v=0;v<l.length;v++){var x=l.words[v]|0;p+=x*977,l.words[v]=p&67108863,p=x*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function L(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(L,M);function D(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,M);function j(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(j,M),j.prototype.imulK=function(l){for(var p=0,v=0;v<l.length;v++){var x=(l.words[v]|0)*19+p,m=x&67108863;x>>>=26,l.words[v]=m,p=x}return p!==0&&(l.words[l.length++]=p),l},n._prime=function(l){if(R[l])return R[l];var p;if(l==="k256")p=new F;else if(l==="p224")p=new L;else if(l==="p192")p=new D;else if(l==="p25519")p=new j;else throw new Error("Unknown prime "+l);return R[l]=p,p};function G(E){if(typeof E=="string"){var l=n._prime(E);this.m=l.p,this.prime=l}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}G.prototype._verify1=function(l){r(l.negative===0,"red works only with positives"),r(l.red,"red works only with red numbers")},G.prototype._verify2=function(l,p){r((l.negative|p.negative)==0,"red works only with positives"),r(l.red&&l.red===p.red,"red works only with red numbers")},G.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},G.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},G.prototype.add=function(l,p){this._verify2(l,p);var v=l.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},G.prototype.iadd=function(l,p){this._verify2(l,p);var v=l.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},G.prototype.sub=function(l,p){this._verify2(l,p);var v=l.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},G.prototype.isub=function(l,p){this._verify2(l,p);var v=l.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},G.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},G.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},G.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},G.prototype.isqr=function(l){return this.imul(l,l.clone())},G.prototype.sqr=function(l){return this.mul(l,l)},G.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(r(p%2==1),p===3){var v=this.m.add(new n(1)).iushrn(2);return this.pow(l,v)}for(var x=this.m.subn(1),m=0;!x.isZero()&&x.andln(1)===0;)m++,x.iushrn(1);r(!x.isZero());var k=new n(1).toRed(this),A=k.redNeg(),w=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new n(2*d*d).toRed(this);this.pow(d,w).cmp(A)!==0;)d.redIAdd(A);for(var _=this.pow(d,x),U=this.pow(l,x.addn(1).iushrn(1)),V=this.pow(l,x),W=m;V.cmp(k)!==0;){for(var J=V,Q=0;J.cmp(k)!==0;Q++)J=J.redSqr();r(Q<W);var ee=this.pow(_,new n(1).iushln(W-Q-1));U=U.redMul(ee),_=ee.redSqr(),V=V.redMul(_),W=Q}return U},G.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},G.prototype.pow=function(l,p){if(p.isZero())return new n(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var v=4,x=new Array(1<<v);x[0]=new n(1).toRed(this),x[1]=l;for(var m=2;m<x.length;m++)x[m]=this.mul(x[m-1],l);var k=x[0],A=0,w=0,d=p.bitLength()%26;for(d===0&&(d=26),m=p.length-1;m>=0;m--){for(var _=p.words[m],U=d-1;U>=0;U--){var V=_>>U&1;if(k!==x[0]&&(k=this.sqr(k)),V===0&&A===0){w=0;continue}A<<=1,A|=V,w++,!(w!==v&&(m!==0||U!==0))&&(k=this.mul(k,x[A]),w=0,A=0)}d=26}return k},G.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},G.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},n.mont=function(l){return new $(l)};function $(E){G.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i($,G),$.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},$.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},$.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var v=l.imul(p),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=v.isub(x).iushrn(this.shift),k=m;return m.cmp(this.m)>=0?k=m.isub(this.m):m.cmpn(0)<0&&(k=m.iadd(this.m)),k._forceRed(this)},$.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new n(0)._forceRed(this);var v=l.mul(p),x=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=v.isub(x).iushrn(this.shift),k=m;return m.cmp(this.m)>=0?k=m.isub(this.m):m.cmpn(0)<0&&(k=m.iadd(this.m)),k._forceRed(this)},$.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof Bf=="undefined"||Bf,v2)});var ki=C((oS,x2)=>{x2.exports=m2;function m2(t,e){if(!t)throw new Error(e||"Assertion failed")}m2.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var kf=C(w2=>{"use strict";var Ja=w2;function k5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,a=n&255;s?r.push(s,a):r.push(a)}return r}Ja.toArray=k5;function _2(t){return t.length===1?"0"+t:t}Ja.zero2=_2;function E2(t){for(var e="",r=0;r<t.length;r++)e+=_2(t[r].toString(16));return e}Ja.toHex=E2;Ja.encode=function(e,r){return r==="hex"?E2(e):e}});var Zt=C(S2=>{"use strict";var br=S2,C5=Nr(),T5=ki(),Za=kf();br.assert=T5;br.toArray=Za.toArray;br.zero2=Za.zero2;br.toHex=Za.toHex;br.encode=Za.encode;function R5(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),a=0;a<i.length;a++){var f,o=s.andln(n-1);s.isOdd()?(o>(n>>1)-1?f=(n>>1)-o:f=o,s.isubn(f)):f=0,i[a]=f,s.iushrn(1)}return i}br.getNAF=R5;function M5(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,s;t.cmpn(-i)>0||e.cmpn(-n)>0;){var a=t.andln(3)+i&3,f=e.andln(3)+n&3;a===3&&(a=-1),f===3&&(f=-1);var o;(a&1)==0?o=0:(s=t.andln(7)+i&7,(s===3||s===5)&&f===2?o=-a:o=a),r[0].push(o);var c;(f&1)==0?c=0:(s=e.andln(7)+n&7,(s===3||s===5)&&a===2?c=-f:c=f),r[1].push(c),2*i===o+1&&(i=1-i),2*n===c+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}br.getJSF=M5;function P5(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}br.cachedProperty=P5;function D5(t){return typeof t=="string"?br.toArray(t,"hex"):t}br.parseBytes=D5;function O5(t){return new C5(t,"hex","le")}br.intFromLE=O5});var Mf=C((uS,Cf)=>{var Tf;Cf.exports=function(e){return Tf||(Tf=new Ci(null)),Tf.generate(e)};function Ci(t){this.rand=t}Cf.exports.Rand=Ci;Ci.prototype.generate=function(e){return this._rand(e)};Ci.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Ci.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Ci.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Ci.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(Rf=ms(),typeof Rf.randomBytes!="function")throw new Error("Not supported");Ci.prototype._rand=function(e){return Rf.randomBytes(e)}}catch(t){}var Rf});var Rs=C((hS,I2)=>{"use strict";var an=Nr(),Ts=Zt(),Xa=Ts.getNAF,N5=Ts.getJSF,Qa=Ts.assert;function Ti(t,e){this.type=t,this.p=new an(e.p,16),this.red=e.prime?an.red(e.prime):an.mont(this.p),this.zero=new an(0).toRed(this.red),this.one=new an(1).toRed(this.red),this.two=new an(2).toRed(this.red),this.n=e.n&&new an(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}I2.exports=Ti;Ti.prototype.point=function(){throw new Error("Not implemented")};Ti.prototype.validate=function(){throw new Error("Not implemented")};Ti.prototype._fixedNafMul=function(e,r){Qa(e.precomputed);var i=e._getDoubles(),n=Xa(r,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var a=[],f,o;for(f=0;f<n.length;f+=i.step){o=0;for(var c=f+i.step-1;c>=f;c--)o=(o<<1)+n[c];a.push(o)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),b=s;b>0;b--){for(f=0;f<a.length;f++)o=a[f],o===b?h=h.mixedAdd(i.points[f]):o===-b&&(h=h.mixedAdd(i.points[f].neg()));u=u.add(h)}return u.toP()};Ti.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,a=Xa(r,i,this._bitLength),f=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var c=0;o>=0&&a[o]===0;o--)c++;if(o>=0&&c++,f=f.dblp(c),o<0)break;var u=a[o];Qa(u!==0),e.type==="affine"?u>0?f=f.mixedAdd(s[u-1>>1]):f=f.mixedAdd(s[-u-1>>1].neg()):u>0?f=f.add(s[u-1>>1]):f=f.add(s[-u-1>>1].neg())}return e.type==="affine"?f.toP():f};Ti.prototype._wnafMulAdd=function(e,r,i,n,s){var a=this._wnafT1,f=this._wnafT2,o=this._wnafT3,c=0,u,h,b;for(u=0;u<n;u++){b=r[u];var g=b._getNAFPoints(e);a[u]=g.wnd,f[u]=g.points}for(u=n-1;u>=1;u-=2){var y=u-1,S=u;if(a[y]!==1||a[S]!==1){o[y]=Xa(i[y],a[y],this._bitLength),o[S]=Xa(i[S],a[S],this._bitLength),c=Math.max(o[y].length,c),c=Math.max(o[S].length,c);continue}var I=[r[y],null,null,r[S]];r[y].y.cmp(r[S].y)===0?(I[1]=r[y].add(r[S]),I[2]=r[y].toJ().mixedAdd(r[S].neg())):r[y].y.cmp(r[S].y.redNeg())===0?(I[1]=r[y].toJ().mixedAdd(r[S]),I[2]=r[y].add(r[S].neg())):(I[1]=r[y].toJ().mixedAdd(r[S]),I[2]=r[y].toJ().mixedAdd(r[S].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],R=N5(i[y],i[S]);for(c=Math.max(R[0].length,c),o[y]=new Array(c),o[S]=new Array(c),h=0;h<c;h++){var M=R[0][h]|0,F=R[1][h]|0;o[y][h]=B[(M+1)*3+(F+1)],o[S][h]=0,f[y]=I}}var L=this.jpoint(null,null,null),D=this._wnafT4;for(u=c;u>=0;u--){for(var j=0;u>=0;){var G=!0;for(h=0;h<n;h++)D[h]=o[h][u]|0,D[h]!==0&&(G=!1);if(!G)break;j++,u--}if(u>=0&&j++,L=L.dblp(j),u<0)break;for(h=0;h<n;h++){var $=D[h];$!==0&&($>0?b=f[h][$-1>>1]:$<0&&(b=f[h][-$-1>>1].neg()),b.type==="affine"?L=L.mixedAdd(b):L=L.add(b))}}for(u=0;u<n;u++)f[u]=null;return s?L:L.toP()};function sr(t,e){this.curve=t,this.type=e,this.precomputed=null}Ti.BasePoint=sr;sr.prototype.eq=function(){throw new Error("Not implemented")};sr.prototype.validate=function(){return this.curve.validate(this)};Ti.prototype.decodePoint=function(e,r){e=Ts.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?Qa(e[e.length-1]%2==0):e[0]===7&&Qa(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};sr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};sr.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};sr.prototype.encode=function(e,r){return Ts.encode(this._encode(r),e)};sr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};sr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};sr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)n=n.dbl();i.push(n)}return{step:e,points:i}};sr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)r[s]=r[s-1].add(n);return{wnd:e,points:r}};sr.prototype._getBeta=function(){return null};sr.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var Ms=C((lS,Pf)=>{typeof Object.create=="function"?Pf.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pf.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var B2=C((dS,A2)=>{"use strict";var L5=Zt(),Ne=Nr(),Df=Ms(),jn=Rs(),q5=L5.assert;function ar(t){jn.call(this,"short",t),this.a=new Ne(t.a,16).toRed(this.red),this.b=new Ne(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Df(ar,jn);A2.exports=ar;ar.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new Ne(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new Ne(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?i=s[0]:(i=s[1],q5(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(f){return{a:new Ne(f.a,16),b:new Ne(f.b,16)}}):a=this._getEndoBasis(i),{beta:r,lambda:i,basis:a}}};ar.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ne.mont(e),i=new Ne(2).toRed(r).redInvm(),n=i.redNeg(),s=new Ne(3).toRed(r).redNeg().redSqrt().redMul(i),a=n.redAdd(s).fromRed(),f=n.redSub(s).fromRed();return[a,f]};ar.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Ne(1),a=new Ne(0),f=new Ne(0),o=new Ne(1),c,u,h,b,g,y,S,I=0,B,R;i.cmpn(0)!==0;){var M=n.div(i);B=n.sub(M.mul(i)),R=f.sub(M.mul(s));var F=o.sub(M.mul(a));if(!h&&B.cmp(r)<0)c=S.neg(),u=s,h=B.neg(),b=R;else if(h&&++I==2)break;S=B,n=i,i=B,f=s,s=R,o=a,a=F}g=B.neg(),y=R;var L=h.sqr().add(b.sqr()),D=g.sqr().add(y.sqr());return D.cmp(L)>=0&&(g=c,y=u),h.negative&&(h=h.neg(),b=b.neg()),g.negative&&(g=g.neg(),y=y.neg()),[{a:h,b},{a:g,b:y}]};ar.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],s=n.b.mul(e).divRound(this.n),a=i.b.neg().mul(e).divRound(this.n),f=s.mul(i.a),o=a.mul(n.a),c=s.mul(i.b),u=a.mul(n.b),h=e.sub(f).sub(o),b=c.add(u).neg();return{k1:h,k2:b}};ar.prototype.pointFromX=function(e,r){e=new Ne(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(r&&!s||!r&&s)&&(n=n.redNeg()),this.point(e,n)};ar.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};ar.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var f=this._endoSplit(r[a]),o=e[a],c=o._getBeta();f.k1.negative&&(f.k1.ineg(),o=o.neg(!0)),f.k2.negative&&(f.k2.ineg(),c=c.neg(!0)),n[a*2]=o,n[a*2+1]=c,s[a*2]=f.k1,s[a*2+1]=f.k2}for(var u=this._wnafMulAdd(1,n,s,a*2,i),h=0;h<a*2;h++)n[h]=null,s[h]=null;return u};function At(t,e,r,i){jn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ne(e,16),this.y=new Ne(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Df(At,jn.BasePoint);ar.prototype.point=function(e,r,i){return new At(this,e,r,i)};ar.prototype.pointFromJSON=function(e,r){return At.fromJSON(this,e,r)};At.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};At.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};At.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function s(f){return e.point(f[0],f[1],i)}var a=r[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(s))}},n};At.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};At.prototype.isInfinity=function(){return this.inf};At.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};At.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),a=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,f)};At.prototype.getX=function(){return this.x.fromRed()};At.prototype.getY=function(){return this.y.fromRed()};At.prototype.mul=function(e){return e=new Ne(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};At.prototype.mulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};At.prototype.jmulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};At.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};At.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};At.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Mt(t,e,r,i){jn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ne(0)):(this.x=new Ne(e,16),this.y=new Ne(r,16),this.z=new Ne(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Df(Mt,jn.BasePoint);ar.prototype.jpoint=function(e,r,i){return new Mt(this,e,r,i)};Mt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Mt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Mt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),s=e.x.redMul(i),a=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(i.redMul(this.z)),o=n.redSub(s),c=a.redSub(f);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),b=n.redMul(u),g=c.redSqr().redIAdd(h).redISub(b).redISub(b),y=c.redMul(b.redISub(g)).redISub(a.redMul(h)),S=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(g,y,S)};Mt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),f=i.redSub(n),o=s.redSub(a);if(f.cmpn(0)===0)return o.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=f.redSqr(),u=c.redMul(f),h=i.redMul(c),b=o.redSqr().redIAdd(u).redISub(h).redISub(h),g=o.redMul(h.redISub(b)).redISub(s.redMul(u)),y=this.z.redMul(f);return this.curve.jpoint(b,g,y)};Mt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,a=this.x,f=this.y,o=this.z,c=o.redSqr().redSqr(),u=f.redAdd(f);for(r=0;r<e;r++){var h=a.redSqr(),b=u.redSqr(),g=b.redSqr(),y=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),S=a.redMul(b),I=y.redSqr().redISub(S.redAdd(S)),B=S.redISub(I),R=y.redMul(B);R=R.redIAdd(R).redISub(g);var M=u.redMul(o);r+1<e&&(c=c.redMul(g)),a=I,o=M,u=R}return this.curve.jpoint(a,u.redMul(s),o)};Mt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Mt.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(n).redISub(a);f=f.redIAdd(f);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(f).redISub(f),u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=o.redMul(f.redISub(c)).redISub(u),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),b=this.y.redSqr(),g=b.redSqr(),y=this.x.redAdd(b).redSqr().redISub(h).redISub(g);y=y.redIAdd(y);var S=h.redAdd(h).redIAdd(h),I=S.redSqr(),B=g.redIAdd(g);B=B.redIAdd(B),B=B.redIAdd(B),e=I.redISub(y).redISub(y),r=S.redMul(y.redISub(e)).redISub(B),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Mt.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(n).redISub(a);f=f.redIAdd(f);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(f).redISub(f);e=c;var u=a.redIAdd(a);u=u.redIAdd(u),u=u.redIAdd(u),r=o.redMul(f.redISub(c)).redISub(u),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),b=this.y.redSqr(),g=this.x.redMul(b),y=this.x.redSub(h).redMul(this.x.redAdd(h));y=y.redAdd(y).redIAdd(y);var S=g.redIAdd(g);S=S.redIAdd(S);var I=S.redAdd(S);e=y.redSqr().redISub(I),i=this.y.redAdd(this.z).redSqr().redISub(b).redISub(h);var B=b.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),r=y.redMul(S.redISub(e)).redISub(B)}return this.curve.jpoint(e,r,i)};Mt.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),a=r.redSqr(),f=i.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(f),h=o.redSqr().redISub(u.redAdd(u)),b=u.redISub(h),g=f.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=o.redMul(b).redISub(g),S=i.redAdd(i).redMul(n);return this.curve.jpoint(h,y,S)};Mt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(n);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(a);var o=f.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(f).redSqr().redISub(a).redISub(o).redISub(c),h=r.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var b=this.x.redMul(o).redISub(h);b=b.redIAdd(b),b=b.redIAdd(b);var g=this.y.redMul(u.redMul(c.redISub(u)).redISub(f.redMul(o)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var y=this.z.redAdd(f).redSqr().redISub(i).redISub(o);return this.curve.jpoint(b,g,y)};Mt.prototype.mul=function(e,r){return e=new Ne(e,r),this.curve._wnafMul(this,e)};Mt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};Mt.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};Mt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Mt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var T2=C((pS,k2)=>{"use strict";var Wn=Nr(),C2=Ms(),$a=Rs(),F5=Zt();function Yn(t){$a.call(this,"mont",t),this.a=new Wn(t.a,16).toRed(this.red),this.b=new Wn(t.b,16).toRed(this.red),this.i4=new Wn(4).toRed(this.red).redInvm(),this.two=new Wn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}C2(Yn,$a);k2.exports=Yn;Yn.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),s=n.redSqrt();return s.redSqr().cmp(n)===0};function Bt(t,e,r){$a.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Wn(e,16),this.z=new Wn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}C2(Bt,$a.BasePoint);Yn.prototype.decodePoint=function(e,r){return this.point(F5.toArray(e,r),1)};Yn.prototype.point=function(e,r){return new Bt(this,e,r)};Yn.prototype.pointFromJSON=function(e){return Bt.fromJSON(this,e)};Bt.prototype.precompute=function(){};Bt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Bt.fromJSON=function(e,r){return new Bt(e,r[0],r[1]||e.one)};Bt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Bt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Bt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=r.redSub(n),a=r.redMul(n),f=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,f)};Bt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Bt.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),f=a.redMul(i),o=s.redMul(n),c=r.z.redMul(f.redAdd(o).redSqr()),u=r.x.redMul(f.redISub(o).redSqr());return this.curve.point(c,u)};Bt.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var f=a.length-1;f>=0;f--)a[f]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};Bt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Bt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Bt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Bt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Bt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var P2=C((bS,R2)=>{"use strict";var K5=Zt(),si=Nr(),M2=Ms(),eo=Rs(),U5=K5.assert;function Lr(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,eo.call(this,"edwards",t),this.a=new si(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new si(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new si(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),U5(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}M2(Lr,eo);R2.exports=Lr;Lr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Lr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Lr.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Lr.prototype.pointFromX=function(e,r){e=new si(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),a=n.redMul(s.redInvm()),f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var o=f.fromRed().isOdd();return(r&&!o||!r&&o)&&(f=f.redNeg()),this.point(e,f)};Lr.prototype.pointFromY=function(e,r){e=new si(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var f=a.redSqrt();if(f.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,e)};Lr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(s)===0};function Te(t,e,r,i,n){eo.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new si(e,16),this.y=new si(r,16),this.z=i?new si(i,16):this.curve.one,this.t=n&&new si(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}M2(Te,eo.BasePoint);Lr.prototype.pointFromJSON=function(e){return Te.fromJSON(this,e)};Lr.prototype.point=function(e,r,i,n){return new Te(this,e,r,i,n)};Te.fromJSON=function(e,r){return new Te(e,r[0],r[1],r[2])};Te.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Te.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Te.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=n.redAdd(r),f=a.redSub(i),o=n.redSub(r),c=s.redMul(f),u=a.redMul(o),h=s.redMul(o),b=f.redMul(a);return this.curve.point(c,u,b,h)};Te.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,s,a,f,o,c;if(this.curve.twisted){f=this.curve._mulA(r);var u=f.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(u.redSub(this.curve.two)),s=u.redMul(f.redSub(i)),a=u.redSqr().redSub(u).redSub(u)):(o=this.z.redSqr(),c=u.redSub(o).redISub(o),n=e.redSub(r).redISub(i).redMul(c),s=u.redMul(f.redSub(i)),a=u.redMul(c))}else f=r.redAdd(i),o=this.curve._mulC(this.z).redSqr(),c=f.redSub(o).redSub(o),n=this.curve._mulC(e.redISub(f)).redMul(c),s=this.curve._mulC(f).redMul(r.redISub(i)),a=f.redMul(c);return this.curve.point(n,s,a)};Te.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Te.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=i.redSub(r),f=s.redSub(n),o=s.redAdd(n),c=i.redAdd(r),u=a.redMul(f),h=o.redMul(c),b=a.redMul(c),g=f.redMul(o);return this.curve.point(u,h,g,b)};Te.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(n).redMul(s),f=i.redSub(a),o=i.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),u=r.redMul(f).redMul(c),h,b;return this.curve.twisted?(h=r.redMul(o).redMul(s.redSub(this.curve._mulA(n))),b=f.redMul(o)):(h=r.redMul(o).redMul(s.redSub(n)),b=this.curve._mulC(f).redMul(o)),this.curve.point(u,h,b)};Te.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Te.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Te.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Te.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Te.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Te.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Te.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Te.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Te.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Te.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Te.prototype.toP=Te.prototype.normalize;Te.prototype.mixedAdd=Te.prototype.add});var Of=C(D2=>{"use strict";var to=D2;to.base=Rs();to.short=B2();to.mont=T2();to.edwards=P2()});var yr=C(Se=>{"use strict";var z5=ki(),G5=Ms();Se.inherits=G5;function V5(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function H5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):V5(t,n)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Se.toArray=H5;function j5(t){for(var e="",r=0;r<t.length;r++)e+=O2(t[r].toString(16));return e}Se.toHex=j5;function N2(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Se.htonl=N2;function W5(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=N2(n)),r+=L2(n.toString(16))}return r}Se.toHex32=W5;function O2(t){return t.length===1?"0"+t:t}Se.zero2=O2;function L2(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Se.zero8=L2;function Y5(t,e,r,i){var n=r-e;z5(n%4==0);for(var s=new Array(n/4),a=0,f=e;a<s.length;a++,f+=4){var o;i==="big"?o=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:o=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],s[a]=o>>>0}return s}Se.join32=Y5;function J5(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];e==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Se.split32=J5;function Z5(t,e){return t>>>e|t<<32-e}Se.rotr32=Z5;function X5(t,e){return t<<e|t>>>32-e}Se.rotl32=X5;function Q5(t,e){return t+e>>>0}Se.sum32=Q5;function $5(t,e,r){return t+e+r>>>0}Se.sum32_3=$5;function em(t,e,r,i){return t+e+r+i>>>0}Se.sum32_4=em;function tm(t,e,r,i,n){return t+e+r+i+n>>>0}Se.sum32_5=tm;function rm(t,e,r,i){var n=t[e],s=t[e+1],a=i+s>>>0,f=(a<i?1:0)+r+n;t[e]=f>>>0,t[e+1]=a}Se.sum64=rm;function im(t,e,r,i){var n=e+i>>>0,s=(n<e?1:0)+t+r;return s>>>0}Se.sum64_hi=im;function nm(t,e,r,i){var n=e+i;return n>>>0}Se.sum64_lo=nm;function sm(t,e,r,i,n,s,a,f){var o=0,c=e;c=c+i>>>0,o+=c<e?1:0,c=c+s>>>0,o+=c<s?1:0,c=c+f>>>0,o+=c<f?1:0;var u=t+r+n+a+o;return u>>>0}Se.sum64_4_hi=sm;function am(t,e,r,i,n,s,a,f){var o=e+i+s+f;return o>>>0}Se.sum64_4_lo=am;function om(t,e,r,i,n,s,a,f,o,c){var u=0,h=e;h=h+i>>>0,u+=h<e?1:0,h=h+s>>>0,u+=h<s?1:0,h=h+f>>>0,u+=h<f?1:0,h=h+c>>>0,u+=h<c?1:0;var b=t+r+n+a+o+u;return b>>>0}Se.sum64_5_hi=om;function fm(t,e,r,i,n,s,a,f,o,c){var u=e+i+s+f+c;return u>>>0}Se.sum64_5_lo=fm;function cm(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Se.rotr64_hi=cm;function um(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Se.rotr64_lo=um;function hm(t,e,r){return t>>>r}Se.shr64_hi=hm;function lm(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Se.shr64_lo=lm});var Jn=C(q2=>{"use strict";var F2=yr(),dm=ki();function ro(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}q2.BlockHash=ro;ro.prototype.update=function(e,r){if(e=F2.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=F2.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};ro.prototype.digest=function(e){return this.update(this._pad()),dm(this.pending===null),this._digest(e)};ro.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,a=8;a<this.padLength;a++)n[s++]=0;return n}});var Nf=C(ai=>{"use strict";var pm=yr(),qr=pm.rotr32;function bm(t,e,r,i){if(t===0)return K2(e,r,i);if(t===1||t===3)return z2(e,r,i);if(t===2)return U2(e,r,i)}ai.ft_1=bm;function K2(t,e,r){return t&e^~t&r}ai.ch32=K2;function U2(t,e,r){return t&e^t&r^e&r}ai.maj32=U2;function z2(t,e,r){return t^e^r}ai.p32=z2;function ym(t){return qr(t,2)^qr(t,13)^qr(t,22)}ai.s0_256=ym;function gm(t){return qr(t,6)^qr(t,11)^qr(t,25)}ai.s1_256=gm;function vm(t){return qr(t,7)^qr(t,18)^t>>>3}ai.g0_256=vm;function xm(t){return qr(t,17)^qr(t,19)^t>>>10}ai.g1_256=xm});var H2=C((mS,G2)=>{"use strict";var Zn=yr(),mm=Jn(),wm=Nf(),Lf=Zn.rotl32,Ps=Zn.sum32,_m=Zn.sum32_5,Em=wm.ft_1,V2=mm.BlockHash,Sm=[1518500249,1859775393,2400959708,3395469782];function Fr(){if(!(this instanceof Fr))return new Fr;V2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Zn.inherits(Fr,V2);G2.exports=Fr;Fr.blockSize=512;Fr.outSize=160;Fr.hmacStrength=80;Fr.padLength=64;Fr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Lf(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],a=this.h[1],f=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<i.length;n++){var u=~~(n/20),h=_m(Lf(s,5),Em(u,a,f,o),c,i[n],Sm[u]);c=o,o=f,f=Lf(a,30),a=s,s=h}this.h[0]=Ps(this.h[0],s),this.h[1]=Ps(this.h[1],a),this.h[2]=Ps(this.h[2],f),this.h[3]=Ps(this.h[3],o),this.h[4]=Ps(this.h[4],c)};Fr.prototype._digest=function(e){return e==="hex"?Zn.toHex32(this.h,"big"):Zn.split32(this.h,"big")}});var qf=C((wS,j2)=>{"use strict";var Xn=yr(),Im=Jn(),Qn=Nf(),Am=ki(),gr=Xn.sum32,Bm=Xn.sum32_4,km=Xn.sum32_5,Cm=Qn.ch32,Tm=Qn.maj32,Rm=Qn.s0_256,Mm=Qn.s1_256,Pm=Qn.g0_256,Dm=Qn.g1_256,W2=Im.BlockHash,Om=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Kr(){if(!(this instanceof Kr))return new Kr;W2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Om,this.W=new Array(64)}Xn.inherits(Kr,W2);j2.exports=Kr;Kr.blockSize=512;Kr.outSize=256;Kr.hmacStrength=192;Kr.padLength=64;Kr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Bm(Dm(i[n-2]),i[n-7],Pm(i[n-15]),i[n-16]);var s=this.h[0],a=this.h[1],f=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],b=this.h[7];for(Am(this.k.length===i.length),n=0;n<i.length;n++){var g=km(b,Mm(c),Cm(c,u,h),this.k[n],i[n]),y=gr(Rm(s),Tm(s,a,f));b=h,h=u,u=c,c=gr(o,g),o=f,f=a,a=s,s=gr(g,y)}this.h[0]=gr(this.h[0],s),this.h[1]=gr(this.h[1],a),this.h[2]=gr(this.h[2],f),this.h[3]=gr(this.h[3],o),this.h[4]=gr(this.h[4],c),this.h[5]=gr(this.h[5],u),this.h[6]=gr(this.h[6],h),this.h[7]=gr(this.h[7],b)};Kr.prototype._digest=function(e){return e==="hex"?Xn.toHex32(this.h,"big"):Xn.split32(this.h,"big")}});var Z2=C((_S,Y2)=>{"use strict";var Ff=yr(),J2=qf();function oi(){if(!(this instanceof oi))return new oi;J2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ff.inherits(oi,J2);Y2.exports=oi;oi.blockSize=512;oi.outSize=224;oi.hmacStrength=192;oi.padLength=64;oi.prototype._digest=function(e){return e==="hex"?Ff.toHex32(this.h.slice(0,7),"big"):Ff.split32(this.h.slice(0,7),"big")}});var zf=C((ES,X2)=>{"use strict";var Vt=yr(),Nm=Jn(),Lm=ki(),Ur=Vt.rotr64_hi,zr=Vt.rotr64_lo,Q2=Vt.shr64_hi,$2=Vt.shr64_lo,Ri=Vt.sum64,Kf=Vt.sum64_hi,Uf=Vt.sum64_lo,qm=Vt.sum64_4_hi,Fm=Vt.sum64_4_lo,Km=Vt.sum64_5_hi,Um=Vt.sum64_5_lo,eb=Nm.BlockHash,zm=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function vr(){if(!(this instanceof vr))return new vr;eb.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=zm,this.W=new Array(160)}Vt.inherits(vr,eb);X2.exports=vr;vr.blockSize=1024;vr.outSize=512;vr.hmacStrength=192;vr.padLength=128;vr.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var s=Hm(i[n-4],i[n-3]),a=jm(i[n-4],i[n-3]),f=i[n-14],o=i[n-13],c=Gm(i[n-30],i[n-29]),u=Vm(i[n-30],i[n-29]),h=i[n-32],b=i[n-31];i[n]=qm(s,a,f,o,c,u,h,b),i[n+1]=Fm(s,a,f,o,c,u,h,b)}};vr.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],s=this.h[1],a=this.h[2],f=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],b=this.h[8],g=this.h[9],y=this.h[10],S=this.h[11],I=this.h[12],B=this.h[13],R=this.h[14],M=this.h[15];Lm(this.k.length===i.length);for(var F=0;F<i.length;F+=2){var L=R,D=M,j=$m(b,g),G=e9(b,g),$=Wm(b,g,y,S,I,B),E=Ym(b,g,y,S,I,B),l=this.k[F],p=this.k[F+1],v=i[F],x=i[F+1],m=Km(L,D,j,G,$,E,l,p,v,x),k=Um(L,D,j,G,$,E,l,p,v,x);L=Xm(n,s),D=Qm(n,s),j=Jm(n,s,a,f,o,c),G=Zm(n,s,a,f,o,c);var A=Kf(L,D,j,G),w=Uf(L,D,j,G);R=I,M=B,I=y,B=S,y=b,S=g,b=Kf(u,h,m,k),g=Uf(h,h,m,k),u=o,h=c,o=a,c=f,a=n,f=s,n=Kf(m,k,A,w),s=Uf(m,k,A,w)}Ri(this.h,0,n,s),Ri(this.h,2,a,f),Ri(this.h,4,o,c),Ri(this.h,6,u,h),Ri(this.h,8,b,g),Ri(this.h,10,y,S),Ri(this.h,12,I,B),Ri(this.h,14,R,M)};vr.prototype._digest=function(e){return e==="hex"?Vt.toHex32(this.h,"big"):Vt.split32(this.h,"big")};function Wm(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function Ym(t,e,r,i,n,s){var a=e&i^~e&s;return a<0&&(a+=4294967296),a}function Jm(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function Zm(t,e,r,i,n,s){var a=e&i^e&s^i&s;return a<0&&(a+=4294967296),a}function Xm(t,e){var r=Ur(t,e,28),i=Ur(e,t,2),n=Ur(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Qm(t,e){var r=zr(t,e,28),i=zr(e,t,2),n=zr(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function $m(t,e){var r=Ur(t,e,14),i=Ur(t,e,18),n=Ur(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function e9(t,e){var r=zr(t,e,14),i=zr(t,e,18),n=zr(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function Gm(t,e){var r=Ur(t,e,1),i=Ur(t,e,8),n=Q2(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Vm(t,e){var r=zr(t,e,1),i=zr(t,e,8),n=$2(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Hm(t,e){var r=Ur(t,e,19),i=Ur(e,t,29),n=Q2(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}function jm(t,e){var r=zr(t,e,19),i=zr(e,t,29),n=$2(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}});var ib=C((SS,tb)=>{"use strict";var Gf=yr(),rb=zf();function fi(){if(!(this instanceof fi))return new fi;rb.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Gf.inherits(fi,rb);tb.exports=fi;fi.blockSize=1024;fi.outSize=384;fi.hmacStrength=192;fi.padLength=128;fi.prototype._digest=function(e){return e==="hex"?Gf.toHex32(this.h.slice(0,12),"big"):Gf.split32(this.h.slice(0,12),"big")}});var nb=C($n=>{"use strict";$n.sha1=H2();$n.sha224=Z2();$n.sha256=qf();$n.sha384=ib();$n.sha512=zf()});var ub=C(sb=>{"use strict";var on=yr(),t9=Jn(),io=on.rotl32,ab=on.sum32,Ds=on.sum32_3,ob=on.sum32_4,fb=t9.BlockHash;function Gr(){if(!(this instanceof Gr))return new Gr;fb.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}on.inherits(Gr,fb);sb.ripemd160=Gr;Gr.blockSize=512;Gr.outSize=160;Gr.hmacStrength=192;Gr.padLength=64;Gr.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],o=i,c=n,u=s,h=a,b=f,g=0;g<80;g++){var y=ab(io(ob(i,cb(g,n,s,a),e[n9[g]+r],r9(g)),a9[g]),f);i=f,f=a,a=io(s,10),s=n,n=y,y=ab(io(ob(o,cb(79-g,c,u,h),e[s9[g]+r],i9(g)),o9[g]),b),o=b,b=h,h=io(u,10),u=c,c=y}y=Ds(this.h[1],s,h),this.h[1]=Ds(this.h[2],a,b),this.h[2]=Ds(this.h[3],f,o),this.h[3]=Ds(this.h[4],i,c),this.h[4]=Ds(this.h[0],n,u),this.h[0]=y};Gr.prototype._digest=function(e){return e==="hex"?on.toHex32(this.h,"little"):on.split32(this.h,"little")};function cb(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function r9(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function i9(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var n9=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s9=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a9=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o9=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var lb=C((BS,hb)=>{"use strict";var f9=yr(),c9=ki();function es(t,e,r){if(!(this instanceof es))return new es(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(f9.toArray(e,r))}hb.exports=es;es.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),c9(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};es.prototype.update=function(e,r){return this.inner.update(e,r),this};es.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var no=C(db=>{var Pt=db;Pt.utils=yr();Pt.common=Jn();Pt.sha=nb();Pt.ripemd=ub();Pt.hmac=lb();Pt.sha1=Pt.sha.sha1;Pt.sha256=Pt.sha.sha256;Pt.sha224=Pt.sha.sha224;Pt.sha384=Pt.sha.sha384;Pt.sha512=Pt.sha.sha512;Pt.ripemd160=Pt.ripemd.ripemd160});var bb=C((CS,pb)=>{pb.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var so=C(yb=>{"use strict";var Vf=yb,Mi=no(),Hf=Of(),u9=Zt(),gb=u9.assert;function vb(t){t.type==="short"?this.curve=new Hf.short(t):t.type==="edwards"?this.curve=new Hf.edwards(t):this.curve=new Hf.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,gb(this.g.validate(),"Invalid curve"),gb(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Vf.PresetCurve=vb;function Pi(t,e){Object.defineProperty(Vf,t,{configurable:!0,enumerable:!0,get:function(){var r=new vb(e);return Object.defineProperty(Vf,t,{configurable:!0,enumerable:!0,value:r}),r}})}Pi("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Mi.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Pi("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Mi.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Pi("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Mi.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Pi("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Mi.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Pi("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Mi.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Pi("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mi.sha256,gRed:!1,g:["9"]});Pi("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Mi.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var jf;try{jf=bb()}catch(t){jf=void 0}Pi("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Mi.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",jf]})});var wb=C((RS,xb)=>{"use strict";var h9=no(),fn=kf(),mb=ki();function Di(t){if(!(this instanceof Di))return new Di(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=fn.toArray(t.entropy,t.entropyEnc||"hex"),r=fn.toArray(t.nonce,t.nonceEnc||"hex"),i=fn.toArray(t.pers,t.persEnc||"hex");mb(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}xb.exports=Di;Di.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Di.prototype._hmac=function(){return new h9.hmac(this.hash,this.K)};Di.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Di.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=fn.toArray(e,r),i=fn.toArray(i,n),mb(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Di.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=fn.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(i),this._reseed++,fn.encode(a,r)}});var Eb=C((MS,_b)=>{"use strict";var l9=Nr(),d9=Zt(),Wf=d9.assert;function Nt(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}_b.exports=Nt;Nt.fromPublic=function(e,r,i){return r instanceof Nt?r:new Nt(e,{pub:r,pubEnc:i})};Nt.fromPrivate=function(e,r,i){return r instanceof Nt?r:new Nt(e,{priv:r,privEnc:i})};Nt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Nt.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Nt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Nt.prototype._importPrivate=function(e,r){this.priv=new l9(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Nt.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Wf(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Wf(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Nt.prototype.derive=function(e){return e.validate()||Wf(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Nt.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Nt.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Nt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Ab=C((PS,Sb)=>{"use strict";var ao=Nr(),Yf=Zt(),p9=Yf.assert;function oo(t,e){if(t instanceof oo)return t;this._importDER(t,e)||(p9(t.r&&t.s,"Signature without r or s"),this.r=new ao(t.r,16),this.s=new ao(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Sb.exports=oo;function b9(){this.place=0}function Jf(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,a=e.place;s<i;s++,a++)n<<=8,n|=t[a],n>>>=0;return n<=127?!1:(e.place=a,n)}function Ib(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}oo.prototype._importDER=function(e,r){e=Yf.toArray(e,r);var i=new b9;if(e[i.place++]!==48)return!1;var n=Jf(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=Jf(e,i);if(s===!1)return!1;var a=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var f=Jf(e,i);if(f===!1||e.length!==f+i.place)return!1;var o=e.slice(i.place,f+i.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;return this.r=new ao(a),this.s=new ao(o),this.recoveryParam=null,!0};function Zf(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}oo.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=Ib(r),i=Ib(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];Zf(n,r.length),n=n.concat(r),n.push(2),Zf(n,i.length);var s=n.concat(i),a=[48];return Zf(a,s.length),a=a.concat(s),Yf.encode(a,e)}});var Tb=C((DS,Bb)=>{"use strict";var cn=Nr(),kb=wb(),y9=Zt(),Xf=so(),g9=Mf(),Cb=y9.assert,Qf=Eb(),fo=Ab();function or(t){if(!(this instanceof or))return new or(t);typeof t=="string"&&(Cb(Object.prototype.hasOwnProperty.call(Xf,t),"Unknown curve "+t),t=Xf[t]),t instanceof Xf.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Bb.exports=or;or.prototype.keyPair=function(e){return new Qf(this,e)};or.prototype.keyFromPrivate=function(e,r){return Qf.fromPrivate(this,e,r)};or.prototype.keyFromPublic=function(e,r){return Qf.fromPublic(this,e,r)};or.prototype.genKeyPair=function(e){e||(e={});for(var r=new kb({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||g9(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new cn(2));;){var s=new cn(r.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};or.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};or.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new cn(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),f=e.toArray("be",s),o=new kb({hash:this.hash,entropy:a,nonce:f,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new cn(1)),u=0;;u++){var h=n.k?n.k(u):new cn(o.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var b=this.g.mul(h);if(!b.isInfinity()){var g=b.getX(),y=g.umod(this.n);if(y.cmpn(0)!==0){var S=h.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var I=(b.getY().isOdd()?1:0)|(g.cmp(y)!==0?2:0);return n.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),I^=1),new fo({r:y,s:S,recoveryParam:I})}}}}}};or.prototype.verify=function(e,r,i,n){e=this._truncateToN(new cn(e,16)),i=this.keyFromPublic(i,n),r=new fo(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var f=a.invm(this.n),o=f.mul(e).umod(this.n),c=f.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(o,i.getPublic(),c),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(o,i.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};or.prototype.recoverPubKey=function(t,e,r,i){Cb((3&r)===r,"The recovery param is more than two bits"),e=new fo(e,i);var n=this.n,s=new cn(t),a=e.r,f=e.s,o=r&1,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?a=this.curve.pointFromX(a.add(this.curve.n),o):a=this.curve.pointFromX(a,o);var u=e.r.invm(n),h=n.sub(s).mul(u).umod(n),b=f.mul(u).umod(n);return this.g.mulAdd(h,a,b)};or.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new fo(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch(a){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var Db=C((OS,Rb)=>{"use strict";var Os=Zt(),Mb=Os.assert,Pb=Os.parseBytes,ts=Os.cachedProperty;function kt(t,e){this.eddsa=t,this._secret=Pb(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Pb(e.pub)}kt.fromPublic=function(e,r){return r instanceof kt?r:new kt(e,{pub:r})};kt.fromSecret=function(e,r){return r instanceof kt?r:new kt(e,{secret:r})};kt.prototype.secret=function(){return this._secret};ts(kt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ts(kt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ts(kt,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});ts(kt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ts(kt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ts(kt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});kt.prototype.sign=function(e){return Mb(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};kt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};kt.prototype.getSecret=function(e){return Mb(this._secret,"KeyPair is public only"),Os.encode(this.secret(),e)};kt.prototype.getPublic=function(e){return Os.encode(this.pubBytes(),e)};Rb.exports=kt});var Nb=C((NS,Ob)=>{"use strict";var v9=Nr(),co=Zt(),x9=co.assert,uo=co.cachedProperty,m9=co.parseBytes;function un(t,e){this.eddsa=t,typeof e!="object"&&(e=m9(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),x9(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof v9&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}uo(un,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});uo(un,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});uo(un,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});uo(un,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});un.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};un.prototype.toHex=function(){return co.encode(this.toBytes(),"hex").toUpperCase()};Ob.exports=un});var Ub=C((LS,Lb)=>{"use strict";var w9=no(),_9=so(),rs=Zt(),E9=rs.assert,qb=rs.parseBytes,Fb=Db(),Kb=Nb();function Ht(t){if(E9(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ht))return new Ht(t);t=_9[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=w9.sha512}Lb.exports=Ht;Ht.prototype.sign=function(e,r){e=qb(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),a=this.encodePoint(s),f=this.hashInt(a,i.pubBytes(),e).mul(i.priv()),o=n.add(f).umod(this.curve.n);return this.makeSignature({R:s,S:o,Rencoded:a})};Ht.prototype.verify=function(e,r,i){e=qb(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),s=this.hashInt(r.Rencoded(),n.pubBytes(),e),a=this.g.mul(r.S()),f=r.R().add(n.pub().mul(s));return f.eq(a)};Ht.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return rs.intFromLE(e.digest()).umod(this.curve.n)};Ht.prototype.keyFromPublic=function(e){return Fb.fromPublic(this,e)};Ht.prototype.keyFromSecret=function(e){return Fb.fromSecret(this,e)};Ht.prototype.makeSignature=function(e){return e instanceof Kb?e:new Kb(this,e)};Ht.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ht.prototype.decodePoint=function(e){e=rs.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&~128),n=(e[r]&128)!=0,s=rs.intFromLE(i);return this.curve.pointFromY(s,n)};Ht.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ht.prototype.decodeInt=function(e){return rs.intFromLE(e)};Ht.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Gb=C(zb=>{"use strict";var hn=zb;hn.version=y2().version;hn.utils=Zt();hn.rand=Mf();hn.curve=Of();hn.curves=so();hn.ec=Tb();hn.eddsa=Ub()});var Hb=C((FS,Vb)=>{var S9=Gb().ec,Vr=new S9("secp256k1"),le=Vr.curve,Ie=le.n.constructor;function I9(t,e){let r=new Ie(e);if(r.cmp(le.p)>=0)return null;r=r.toRed(le.red);let i=r.redSqr().redIMul(r).redIAdd(le.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),Vr.keyPair({pub:{x:r,y:i}})}function A9(t,e,r){let i=new Ie(e),n=new Ie(r);if(i.cmp(le.p)>=0||n.cmp(le.p)>=0||(i=i.toRed(le.red),n=n.toRed(le.red),(t===6||t===7)&&n.isOdd()!==(t===7)))return null;let s=i.redSqr().redIMul(i);return n.redSqr().redISub(s.redIAdd(le.b)).isZero()?Vr.keyPair({pub:{x:i,y:n}}):null}function Oi(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:I9(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:A9(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function ln(t,e){let r=e.encode(null,t.length===33);for(let i=0;i<t.length;++i)t[i]=r[i]}Vb.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Ie(t);return e.cmp(le.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new Ie(t),r=le.n.sub(e).umod(le.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new Ie(e);if(r.cmp(le.n)>=0||(r.iadd(new Ie(t)),r.cmp(le.n)>=0&&r.isub(le.n),r.isZero()))return 1;let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},privateKeyTweakMul(t,e){let r=new Ie(e);if(r.cmp(le.n)>=0||r.isZero())return 1;r.imul(new Ie(t)),r.cmp(le.n)>=0&&(r=r.umod(le.n));let i=r.toArrayLike(Uint8Array,"be",32);return t.set(i),0},publicKeyVerify(t){return Oi(t)===null?1:0},publicKeyCreate(t,e){let r=new Ie(e);if(r.cmp(le.n)>=0||r.isZero())return 1;let i=Vr.keyFromPrivate(e).getPublic();return ln(t,i),0},publicKeyConvert(t,e){let r=Oi(e);if(r===null)return 1;let i=r.getPublic();return ln(t,i),0},publicKeyNegate(t,e){let r=Oi(e);if(r===null)return 1;let i=r.getPublic();return i.y=i.y.redNeg(),ln(t,i),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let n=0;n<e.length;++n)if(r[n]=Oi(e[n]),r[n]===null)return 1;let i=r[0].getPublic();for(let n=1;n<r.length;++n)i=i.add(r[n].pub);return i.isInfinity()?2:(ln(t,i),0)},publicKeyTweakAdd(t,e,r){let i=Oi(e);if(i===null)return 1;if(r=new Ie(r),r.cmp(le.n)>=0)return 2;let n=i.getPublic().add(le.g.mul(r));return n.isInfinity()?2:(ln(t,n),0)},publicKeyTweakMul(t,e,r){let i=Oi(e);if(i===null)return 1;if(r=new Ie(r),r.cmp(le.n)>=0||r.isZero())return 2;let n=i.getPublic().mul(r);return ln(t,n),0},signatureNormalize(t){let e=new Ie(t.subarray(0,32)),r=new Ie(t.subarray(32,64));return e.cmp(le.n)>=0||r.cmp(le.n)>=0?1:(r.cmp(Vr.nh)===1&&t.set(le.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),i=e.subarray(32,64);if(new Ie(r).cmp(le.n)>=0||new Ie(i).cmp(le.n)>=0)return 1;let{output:n}=t,s=n.subarray(4,4+33);s[0]=0,s.set(r,1);let a=33,f=0;for(;a>1&&s[f]===0&&!(s[f+1]&128);--a,++f);if(s=s.subarray(f),s[0]&128||a>1&&s[0]===0&&!(s[1]&128))return 1;let o=n.subarray(6+33,6+33+33);o[0]=0,o.set(i,1);let c=33,u=0;for(;c>1&&o[u]===0&&!(o[u+1]&128);--c,++u);return o=o.subarray(u),o[0]&128||c>1&&o[0]===0&&!(o[1]&128)?1:(t.outputlen=6+a+c,n[0]=48,n[1]=t.outputlen-2,n[2]=2,n[3]=s.length,n.set(s,4),n[4+a]=2,n[5+a]=o.length,n.set(o,6+a),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let i=e[5+r];if(i===0||6+r+i!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||i>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let n=e.subarray(4,4+r);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let s=e.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let a=new Ie(n);a.cmp(le.n)>=0&&(a=new Ie(0));let f=new Ie(e.subarray(6+r));return f.cmp(le.n)>=0&&(f=new Ie(0)),t.set(a.toArrayLike(Uint8Array,"be",32),0),t.set(f.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,i,n){if(n){let f=n;n=o=>{let c=f(e,r,null,i,o);if(!(c instanceof Uint8Array&&c.length===32))throw new Error("This is the way");return new Ie(c)}}let s=new Ie(r);if(s.cmp(le.n)>=0||s.isZero())return 1;let a;try{a=Vr.sign(e,r,{canonical:!0,k:n,pers:i})}catch(f){return 1}return t.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),t.recid=a.recoveryParam,0},ecdsaVerify(t,e,r){let i={r:t.subarray(0,32),s:t.subarray(32,64)},n=new Ie(i.r),s=new Ie(i.s);if(n.cmp(le.n)>=0||s.cmp(le.n)>=0)return 1;if(s.cmp(Vr.nh)===1||n.isZero()||s.isZero())return 3;let a=Oi(r);if(a===null)return 2;let f=a.getPublic();return Vr.verify(e,i,f)?0:3},ecdsaRecover(t,e,r,i){let n={r:e.slice(0,32),s:e.slice(32,64)},s=new Ie(n.r),a=new Ie(n.s);if(s.cmp(le.n)>=0||a.cmp(le.n)>=0)return 1;if(s.isZero()||a.isZero())return 2;let f;try{f=Vr.recoverPubKey(i,n,r)}catch(o){return 2}return ln(t,f),0},ecdh(t,e,r,i,n,s,a){let f=Oi(e);if(f===null)return 1;let o=new Ie(r);if(o.cmp(le.n)>=0||o.isZero())return 2;let c=f.getPublic().mul(o);if(n===void 0){let u=c.encode(null,!0),h=Vr.hash().update(u).digest();for(let b=0;b<32;++b)t[b]=h[b]}else{s||(s=new Uint8Array(32));let u=c.getX().toArray("be",32);for(let y=0;y<32;++y)s[y]=u[y];a||(a=new Uint8Array(32));let h=c.getY().toArray("be",32);for(let y=0;y<32;++y)a[y]=h[y];let b=n(s,a,i);if(!(b instanceof Uint8Array&&b.length===t.length))return 2;t.set(b)}return 0}}});var Wb=C((KS,jb)=>{jb.exports=p2()(Hb())});var Xb=C((US,Yb)=>{"use strict";var xr=Wb(),Jb=Ss(),Zb="sha2-256";Yb.exports=t=>{let e=32;function r(){let u;do u=t(32);while(!xr.privateKeyVerify(u));return u}async function i(u,h){let b=await Jb.digest(h,Zb),g=xr.ecdsaSign(b,u);return xr.signatureExport(g.signature)}async function n(u,h,b){let g=await Jb.digest(b,Zb);return h=xr.signatureImport(h),xr.ecdsaVerify(h,g,u)}function s(u){if(!xr.publicKeyVerify(u))throw new Error("Invalid public key");return xr.publicKeyConvert(u,!0)}function a(u){return xr.publicKeyConvert(u,!1)}function f(u){if(!xr.privateKeyVerify(u))throw new Error("Invalid private key")}function o(u){if(!xr.publicKeyVerify(u))throw new Error("Invalid public key")}function c(u){return f(u),xr.publicKeyCreate(u)}return{generateKey:r,privateKeyLength:e,hashAndSign:i,hashAndVerify:n,compressPublicKey:s,decompressPublicKey:a,validatePrivateKey:f,validatePublicKey:o,computePublicKey:c}}});var ty=C((zS,Qb)=>{"use strict";var $b=Ss(),B9=Xr(),ey=wi(),k9=Yt(),C9=Ga();Qb.exports=(t,e,r)=>{r=r||Xb()(e);class i{constructor(c){r.validatePublicKey(c),this._key=c}verify(c,u){return r.hashAndVerify(this._key,u,c)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return ey(this.bytes,c.bytes)}hash(){return $b.multihashing(this.bytes,"sha2-256")}}class n{constructor(c,u){this._key=c,this._publicKey=u||r.computePublicKey(c),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(c){return r.hashAndSign(this._key,c)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(c){return ey(this.bytes,c.bytes)}hash(){return $b.multihashing(this.bytes,"sha2-256")}async id(){let c=await this.public.hash();return k9(c,"base58btc")}async export(c,u="libp2p-key"){if(u==="libp2p-key")return C9.export(this.bytes,c);throw B9(new Error(`export format '${u}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(o){return new n(o)}function a(o){return new i(o)}async function f(){let o=await r.generateKey();return new n(o)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:a,generateKeyPair:f}}});var iy=C((GS,ry)=>{"use strict";ry.exports={SHA1:20,SHA256:32,SHA512:64}});var ay=C(ny=>{"use strict";var sy=Es(),T9=iy(),R9={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},M9=async(t,e)=>{let r=await sy.get().subtle.sign({name:"HMAC"},t,e);return new Uint8Array(r,r.byteOffset,r.byteLength)};ny.create=async function(t,e){let r=R9[t],i=await sy.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:r}},!1,["sign"]);return{async digest(n){return M9(i,n)},length:T9[t]}}});var hy=C((HS,oy)=>{"use strict";var fy=Xr(),cy=Br(),P9=Jt(),D9=ay(),uy={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};oy.exports=async(t,e,r)=>{let i=uy[t];if(!i){let R=Object.keys(uy).join(" / ");throw fy(new Error(`unknown cipher type '${t}'. Must be ${R}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw fy(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,s=i.ivSize,a=20,f=P9("key expansion"),o=2*(s+n+a),c=await D9.create(e,r),u=await c.digest(f),h=[],b=0;for(;b<o;){let R=await c.digest(cy([u,f])),M=R.length;b+M>o&&(M=o-b),h.push(R),b+=M,u=await c.digest(u)}let g=o/2,y=cy(h),S=y.slice(0,g),I=y.slice(g,o),B=R=>({iv:R.slice(0,s),cipherKey:R.slice(s,s+n),macKey:R.slice(s+n)});return{k1:B(S),k2:B(I)}}});var dy=C((jS,ly)=>{"use strict";var O9=Xr();ly.exports=function(t,e){if(!t.includes(e)){let r=t.join(" / ");throw O9(new Error(`Unknown curve: ${e}. Must be ${r}`),"ERR_INVALID_CURVE")}}});var xy=C(py=>{"use strict";var N9=Xr(),Ns=Es(),{base64urlToBuffer:by}=za(),L9=dy(),$f=Yt(),q9=Br(),F9=wi(),yy={"P-256":256,"P-384":384,"P-521":521};py.generateEphmeralKeyPair=async function(t){L9(Object.keys(yy),t);let e=await Ns.get().subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]),r=async(n,s)=>{let a;s?a=await Ns.get().subtle.importKey("jwk",U9(t,s),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):a=e.privateKey;let f=[await Ns.get().subtle.importKey("jwk",gy(t,n),{name:"ECDH",namedCurve:t},!1,[]),a],o=await Ns.get().subtle.deriveBits({name:"ECDH",namedCurve:t,public:f[0]},f[1],yy[t]);return new Uint8Array(o,o.byteOffset,o.byteLength)},i=await Ns.get().subtle.exportKey("jwk",e.publicKey);return{key:K9(i),genSharedKey:r}};var vy={"P-256":32,"P-384":48,"P-521":66};function K9(t){let e=vy[t.crv];return q9([Uint8Array.from([4]),by(t.x,e),by(t.y,e)],1+e*2)}function gy(t,e){let r=vy[t];if(F9(!e.slice(0,1),Uint8Array.from([4])))throw N9(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:t,x:$f(e.slice(1,r+1),"base64url"),y:$f(e.slice(1+r),"base64url"),ext:!0}}var U9=(t,e)=>({...gy(t,e.public),d:$f(e.private,"base64url")})});var wy=C((YS,my)=>{"use strict";var z9=xy();my.exports=async t=>z9.generateEphmeralKeyPair(t)});var tc=C((JS,_y)=>{"use strict";var Hr=_a();Pn();v1();var ec=me(),Ls=Xr(),G9=Jt(),V9=E1(),fr={rsa:s2(),ed25519:l2(),secp256k1:ty()(Hr,la())},ho={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function is(t){let e=fr[t.toLowerCase()];if(!e){let r=Object.keys(fr).join(" / ");throw Ls(new Error(`invalid or unsupported key type ${t}. Must be ${r}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}var H9=async(t,e)=>is(t).generateKeyPair(e),j9=async(t,e,r)=>{let i=is(t);if(t.toLowerCase()!=="ed25519")throw Ls(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,r)},W9=t=>{let e=Hr.PublicKey.decode(t),r=e.Data;switch(e.Type){case Hr.KeyType.RSA:return fr.rsa.unmarshalRsaPublicKey(r);case Hr.KeyType.Ed25519:return fr.ed25519.unmarshalEd25519PublicKey(r);case Hr.KeyType.Secp256k1:if(fr.secp256k1)return fr.secp256k1.unmarshalSecp256k1PublicKey(r);throw Ls(new Error(ho.message),ho.code);default:is(e.Type)}},Y9=(t,e)=>(e=(e||"rsa").toLowerCase(),is(e),t.bytes),Ey=async t=>{let e=Hr.PrivateKey.decode(t),r=e.Data;switch(e.Type){case Hr.KeyType.RSA:return fr.rsa.unmarshalRsaPrivateKey(r);case Hr.KeyType.Ed25519:return fr.ed25519.unmarshalEd25519PrivateKey(r);case Hr.KeyType.Secp256k1:if(fr.secp256k1)return fr.secp256k1.unmarshalSecp256k1PrivateKey(r);throw Ls(new Error(ho.message),ho.code);default:is(e.Type)}},J9=(t,e)=>(e=(e||"rsa").toLowerCase(),is(e),t.bytes),Z9=async(t,e)=>{try{let n=await V9.import(t,e);return Ey(n)}catch(n){}let r=ec.pki.decryptRsaPrivateKey(t,e);if(r===null)throw Ls(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=ec.asn1.toDer(ec.pki.privateKeyToAsn1(r));return i=G9(i.getBytes(),"ascii"),fr.rsa.unmarshalRsaPrivateKey(i)};_y.exports={supportedKeys:fr,keysPBM:Hr,keyStretcher:hy(),generateEphemeralKeyPair:wy(),generateKeyPair:H9,generateKeyPairFromSeed:j9,unmarshalPublicKey:W9,marshalPublicKey:Y9,unmarshalPrivateKey:Ey,marshalPrivateKey:J9,import:Z9}});var Sy=C((ZS,rc)=>{"use strict";function X9(t,{className:e,symbolName:r}){let i=Symbol.for(r),n={[e]:class extends t{constructor(...s){super(...s);Object.defineProperty(this,i,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return n[`is${e}`]=s=>!!(s&&s[i]),n}function Q9(t,{className:e,symbolName:r,withoutNew:i}){let n=Symbol.for(r),s={[e]:function(...a){if(i&&!(this instanceof s))return new s(...a);let f=t.call(this,...a)||this;return f&&!f[n]&&Object.defineProperty(f,n,{value:!0}),f}}[e];return s.prototype=Object.create(t.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=a=>!!(a&&a[n]),s}rc.exports=X9;rc.exports.proto=Q9});var By=C((XS,Iy)=>{"use strict";var ns=En(),Ay=ns.Reader,$9=ns.Writer,xt=ns.util,qs=ns.roots["libp2p-peer-id"]||(ns.roots["libp2p-peer-id"]={});qs.PeerIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.id=xt.newBuffer([]),t.prototype.pubKey=xt.newBuffer([]),t.prototype.privKey=xt.newBuffer([]),t.encode=function(r,i){return i||(i=$9.create()),i.uint32(10).bytes(r.id),r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&i.uint32(18).bytes(r.pubKey),r.privKey!=null&&Object.hasOwnProperty.call(r,"privKey")&&i.uint32(26).bytes(r.privKey),i},t.decode=function(r,i){r instanceof Ay||(r=Ay.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new qs.PeerIdProto;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.id=r.bytes();break;case 2:s.pubKey=r.bytes();break;case 3:s.privKey=r.bytes();break;default:r.skipType(a&7);break}}if(!s.hasOwnProperty("id"))throw xt.ProtocolError("missing required 'id'",{instance:s});return s},t.fromObject=function(r){if(r instanceof qs.PeerIdProto)return r;var i=new qs.PeerIdProto;return r.id!=null&&(typeof r.id=="string"?xt.base64.decode(r.id,i.id=xt.newBuffer(xt.base64.length(r.id)),0):r.id.length&&(i.id=r.id)),r.pubKey!=null&&(typeof r.pubKey=="string"?xt.base64.decode(r.pubKey,i.pubKey=xt.newBuffer(xt.base64.length(r.pubKey)),0):r.pubKey.length&&(i.pubKey=r.pubKey)),r.privKey!=null&&(typeof r.privKey=="string"?xt.base64.decode(r.privKey,i.privKey=xt.newBuffer(xt.base64.length(r.privKey)),0):r.privKey.length&&(i.privKey=r.privKey)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.id="":(n.id=[],i.bytes!==Array&&(n.id=xt.newBuffer(n.id))),i.bytes===String?n.pubKey="":(n.pubKey=[],i.bytes!==Array&&(n.pubKey=xt.newBuffer(n.pubKey))),i.bytes===String?n.privKey="":(n.privKey=[],i.bytes!==Array&&(n.privKey=xt.newBuffer(n.privKey)))),r.id!=null&&r.hasOwnProperty("id")&&(n.id=i.bytes===String?xt.base64.encode(r.id,0,r.id.length):i.bytes===Array?Array.prototype.slice.call(r.id):r.id),r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(n.pubKey=i.bytes===String?xt.base64.encode(r.pubKey,0,r.pubKey.length):i.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey),r.privKey!=null&&r.hasOwnProperty("privKey")&&(n.privKey=i.bytes===String?xt.base64.encode(r.privKey,0,r.privKey.length):i.bytes===Array?Array.prototype.slice.call(r.privKey):r.privKey),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,ns.util.toJSONOptions)},t}();Iy.exports=qs});var ss=C((Xt,ky)=>{"use strict";var dn=Wi(),ic=ep(),jr=tc(),e7=Sy(),{PeerIdProto:Cy}=By(),pn=wi(),Fs=Jt(),t7=Yt(),Ty=class{constructor(e,r,i){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(r&&i&&!pn(r.public.bytes,i.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=dn.toB58String(this.id),this._privKey=r,this._pubKey=i}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=dn.decode(this.id);e.name==="identity"&&(this._pubKey=jr.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return jr.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return jr.marshalPrivateKey(this.privKey)}marshal(e){return Cy.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let r=6;return e.length<r&&(r=e.length),"<peer.ID "+e.substr(0,r)+">"}toJSON(){return{id:this.toB58String(),privKey:Ry(this.marshalPrivKey()),pubKey:Ry(this.marshalPubKey())}}toHexString(){return dn.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=new ic(1,"libp2p-key",this.id,"base32");Object.defineProperty(this,"_idCIDString",{value:e.toBaseEncodedString("base32"),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return pn(this.id,e);if(e.id)return pn(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&pn(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(dn.decode(this.id).name==="identity")return!0}catch(e){}return!1}},Wr=e7(Ty,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Xt=ky.exports=Wr;var Ks=t=>t.bytes.length<=42?dn.encode(t.bytes,"identity"):t.hash(),nc=async(t,e)=>{let r=await Ks(e);return new Wr(r,t,e)};Xt.create=async t=>{t=t||{},t.bits=t.bits||2048,t.keyType=t.keyType||"RSA";let e=await jr.generateKeyPair(t.keyType,t.bits);return nc(e,e.public)};Xt.createFromHexString=t=>new Wr(dn.fromHexString(t));Xt.createFromBytes=t=>new Wr(t);Xt.createFromB58String=t=>Xt.createFromCID(t);var r7=t=>t.codec==="libp2p-key"||t.codec==="dag-pb";Xt.createFromCID=t=>{if(t=ic.isCID(t)?t:new ic(t),!r7(t))throw new Error("Supplied PeerID CID has invalid multicodec: "+t.codec);return new Wr(t.multihash)};Xt.createFromPubKey=async t=>{let e=t;if(typeof e=="string"&&(e=Fs(t,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let r=await jr.unmarshalPublicKey(e);return nc(null,r)};Xt.createFromPrivKey=async t=>{if(typeof t=="string"&&(t=Fs(t,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await jr.unmarshalPrivateKey(t);return nc(e,e.public)};Xt.createFromJSON=async t=>{let e=dn.fromB58String(t.id),r=t.privKey&&Fs(t.privKey,"base64pad"),i=t.pubKey&&Fs(t.pubKey,"base64pad"),n=i&&await jr.unmarshalPublicKey(i);if(!r)return new Wr(e,null,n);let s=await jr.unmarshalPrivateKey(r),a=await Ks(s.public),f;if(n&&(f=await Ks(n)),n&&!pn(a,f))throw new Error("Public and private key do not match");if(e&&!pn(a,e))throw new Error("Id and private key do not match");return new Wr(e,s,n)};Xt.createFromProtobuf=async t=>{typeof t=="string"&&(t=Fs(t,"base16"));let{id:e,privKey:r,pubKey:i}=Cy.decode(t);r=r?await jr.unmarshalPrivateKey(r):!1,i=i?await jr.unmarshalPublicKey(i):!1;let n,s;if(r&&(s=await Ks(r.public)),i&&(n=await Ks(i)),r){if(i&&!pn(s,n))throw new Error("Public and private key do not match");return new Wr(s,r,r.public)}if(i)return new Wr(n,null,i);if(e)return new Wr(e);throw new Error("Protobuf did not contain any usable key material")};Xt.isPeerId=t=>Boolean(typeof t=="object"&&t._id&&t._idB58String);function Ry(t){if(t)return t7(t,"base64pad")}});var Dy=C((QS,My)=>{"use strict";var i7=la(),n7=Yt(),Py=Jt(),s7=ss(),a7=Wi(),o7=()=>i7(8),f7=(t,e)=>{let r=s7.createFromB58String(t).id,i=new Uint8Array(r.length+e.length);return i.set(r,0),i.set(e,r.length),i},c7=t=>a7.encode(t,"sha2-256"),u7=(t,e)=>{let r;Array.isArray(e)?r=i=>e.indexOf(i)>-1:r=i=>e.has(i);for(let i of t)if(r(i))return!0;return!1},h7=t=>Array.isArray(t)?t:[t],l7=(t,e)=>{let r=Object.assign({},t);return t.from instanceof Uint8Array&&(r.from=n7(t.from,"base58btc")),e&&(r.receivedFrom=e),r},d7=t=>{let e=Object.assign({},t);return typeof t.from=="string"&&(e.from=Py(t.from,"base58btc")),typeof t.data=="string"&&(e.data=Py(t.data)),e};My.exports={randomSeqno:o7,msgId:f7,noSignMsgId:c7,anyMatch:u7,ensureArray:h7,normalizeInRpcMessage:l7,normalizeOutRpcMessage:d7}});var Fy=C(($S,Oy)=>{"use strict";var sc=ss(),{RPC:Ny}=h0(),Ly=Br(),p7=Jt(),ac=p7("libp2p-pubsub:");async function b7(t,e){let r=Ly([ac,Ny.Message.encode(e).finish()]),i=await t.privKey.sign(r);return{...e,signature:i,key:t.pubKey.bytes}}async function y7(t){if(!t.signature)throw new Error("Message must contain a signature to be verified");let e=Ly([ac,Ny.Message.encode({...t,from:sc.createFromCID(t.from).toBytes(),signature:void 0,key:void 0}).finish()]);return(await qy(t)).verify(e,t.signature)}async function qy(t){if(!t.from)throw new Error("Could not get the public key from the originator id");let e=sc.createFromCID(t.from);if(t.key){let r=await sc.createFromPubKey(t.key);if(r.equals(e))return r.pubKey;throw new Error("Public Key does not match the originator")}else{if(e.pubKey)return e.pubKey;throw new Error("Could not get the public key from the originator id")}}Oy.exports={messagePublicKey:qy,signMessage:b7,SignPrefix:ac,verifySignature:y7}});var Gy=C((eI,Ky)=>{"use strict";var Uy=Js(),g7=Yo(),jt=eu(),{pipe:v7}=Zo(),x7=hu(),{codes:mr}=$s(),{RPC:zy}=h0(),m7=Rl(),{SignaturePolicy:ci}=Pl(),ui=Dy(),{signMessage:w7,verifySignature:_7}=Fy(),lo=class extends g7{constructor({debugName:e,multicodecs:r,libp2p:i,globalSignaturePolicy:n=ci.StrictSign,canRelayMessage:s=!1,emitSelf:a=!1}){if(typeof e!="string")throw new Error("a debugname `string` is required");if(!r)throw new Error("multicodecs are required");if(!i)throw new Error("libp2p is required");super();if(this.log=Object.assign(Uy(e),{err:Uy(`${e}:error`)}),this.multicodecs=ui.ensureArray(r),this._libp2p=i,this.registrar=i.registrar,this.peerId=i.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!ci[n])throw jt(new Error("Invalid global signature policy"),mr.ERR_INVALID_SIGNATURE_POLICY);this.globalSignaturePolicy=n,this.canRelayMessage=s,this.emitSelf=a,this.topicValidators=new Map,this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){if(this.started)return;this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream);let e=new x7({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}});this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0}stop(){!this.started||(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:r,connection:i}){let n=i.remotePeer,s=n.toB58String(),a=this._addPeer(n,e),f=a.attachInboundStream(r);this._processMessages(s,f,a)}async _onPeerConnected(e,r){let i=e.toB58String();this.log("connected",i);try{let{stream:n,protocol:s}=await r.newStream(this.multicodecs);await this._addPeer(e,s).attachOutboundStream(n)}catch(n){this.log.err(n)}this._sendSubscriptions(i,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,r){let i=e.toB58String();this.log("connection ended",i,r?r.message:""),this._removePeer(e)}_addPeer(e,r){let i=e.toB58String(),n=this.peers.get(i);if(n)return n;this.log("new peer",i);let s=new m7({id:e,protocol:r});return this.peers.set(i,s),s.once("close",()=>this._removePeer(e)),s}_removePeer(e){if(!e)return;let r=e.toB58String(),i=this.peers.get(r);if(!!i){i.removeAllListeners(),i.close(),this.log("delete peer",r),this.peers.delete(r);for(let n of this.topics.values())n.delete(r);return i}}async _processMessages(e,r,i){try{await v7(r,async n=>{for await(let s of n){let a=s instanceof Uint8Array?s:s.slice(),f=this._decodeRpc(a);this._processRpc(e,i,f)}})}catch(n){this._onPeerDisconnected(i.id,n)}}_processRpc(e,r,i){this.log("rpc from",e);let n=i.subscriptions,s=i.msgs;return n.length&&(n.forEach(a=>{this._processRpcSubOpt(e,a)}),this.emit("pubsub:subscription-change",r.id,n)),this._acceptFrom(e)?(s.length&&s.forEach(a=>{if(!(this.canRelayMessage||a.topicIDs&&a.topicIDs.some(o=>this.subscriptions.has(o)))){this.log("received message we didn't subscribe to. Dropping.");return}let f=ui.normalizeInRpcMessage(a,e);this._processRpcMessage(f)}),!0):(this.log("received message from unacceptable peer %s",e),!1)}_processRpcSubOpt(e,r){let i=r.topicID;if(!i)return;let n=this.topics.get(i);n||(n=new Set,this.topics.set(i,n)),r.subscribe?n.add(e):n.delete(e)}async _processRpcMessage(e){if(!(this.peerId.toB58String()===e.from&&!this.emitSelf)){try{await this.validate(e)}catch(r){this.log("Message is invalid, dropping it. %O",r);return}this._emitMessage(e),this._publish(ui.normalizeOutRpcMessage(e))}}_emitMessage(e){e.topicIDs.forEach(r=>{this.subscriptions.has(r)&&this.emit(r,e)})}getMsgId(e){let r=this.globalSignaturePolicy;switch(r){case ci.StrictSign:return ui.msgId(e.from,e.seqno);case ci.StrictNoSign:return ui.noSignMsgId(e.data);default:throw jt(new Error("Cannot get message id: unhandled signature policy: "+r),mr.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return zy.decode(e)}_encodeRpc(e){return zy.encode(e).finish()}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable){let n=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(n);return}i.write(this._encodeRpc(r))}_sendSubscriptions(e,r,i){return this._sendRpc(e,{subscriptions:r.map(n=>({topicID:n,subscribe:i}))})}async validate(e){let r=this.globalSignaturePolicy;switch(r){case ci.StrictNoSign:if(e.from)throw jt(new Error("StrictNoSigning: from should not be present"),mr.ERR_UNEXPECTED_FROM);if(e.signature)throw jt(new Error("StrictNoSigning: signature should not be present"),mr.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw jt(new Error("StrictNoSigning: key should not be present"),mr.ERR_UNEXPECTED_KEY);if(e.seqno)throw jt(new Error("StrictNoSigning: seqno should not be present"),mr.ERR_UNEXPECTED_SEQNO);break;case ci.StrictSign:if(!e.signature)throw jt(new Error("StrictSigning: Signing required and no signature was present"),mr.ERR_MISSING_SIGNATURE);if(!e.seqno)throw jt(new Error("StrictSigning: Signing required and no seqno was present"),mr.ERR_MISSING_SEQNO);if(!await _7(e))throw jt(new Error("StrictSigning: Invalid message signature"),mr.ERR_INVALID_SIGNATURE);break;default:throw jt(new Error("Cannot validate message: unhandled signature policy: "+r),mr.ERR_UNHANDLED_SIGNATURE_POLICY)}for(let i of e.topicIDs){let n=this.topicValidators.get(i);n&&await n(i,e)}}_buildMessage(e){let r=this.globalSignaturePolicy;switch(r){case ci.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=ui.randomSeqno(),w7(this.peerId,ui.normalizeOutRpcMessage(e));case ci.StrictNoSign:return Promise.resolve(e);default:throw jt(new Error("Cannot build message: unhandled signature policy: "+r),mr.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw jt(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||typeof e!="string")throw jt(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");let r=this.topics.get(e);return r?Array.from(r):[]}async publish(e,r){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,r);let n={receivedFrom:this.peerId.toB58String(),data:r,topicIDs:[e]},s=await this._buildMessage(n),a=ui.normalizeInRpcMessage(s);this.emitSelf&&this._emitMessage(a),await this._publish(a)}_publish(e){throw jt(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(e){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(e)||(this.subscriptions.add(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!0)))}unsubscribe(e){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(e)&&this.listenerCount(e)===0&&(this.subscriptions.delete(e),this.peers.forEach((r,i)=>this._sendSubscriptions(i,[e],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}};lo.utils=ui;lo.SignaturePolicy=ci;Ky.exports=lo});var Vy=C(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.createGossipRpc=void 0;function E7(t=[],e={}){return{subscriptions:[],msgs:t,control:Object.assign({ihave:[],iwant:[],graft:[],prune:[]},e)}}po.createGossipRpc=E7});var Hy=C(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.shuffle=void 0;function S7(t){if(t.length<=1)return t;let e=()=>Math.floor(Math.random()*Math.floor(t.length));for(let r=0;r<t.length;r++){let i=e(),n=t[r];t[r]=t[i],t[i]=n}return t}bo.shuffle=S7});var bn=C(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.ERR_TOPIC_VALIDATOR_IGNORE=z.ERR_TOPIC_VALIDATOR_REJECT=z.TimeCacheDuration=z.GossipsubIWantFollowupTime=z.GossipsubMaxIHaveMessages=z.GossipsubMaxIHaveLength=z.GossipsubGraftFloodThreshold=z.GossipsubOpportunisticGraftPeers=z.GossipsubOpportunisticGraftTicks=z.GossipsubDirectConnectInitialDelay=z.GossipsubDirectConnectTicks=z.GossipsubConnectionTimeout=z.GossipsubMaxPendingConnections=z.GossipsubConnectors=z.GossipsubPruneBackoffTicks=z.GossipsubPruneBackoff=z.GossipsubPrunePeers=z.GossipsubFanoutTTL=z.GossipsubHeartbeatInterval=z.GossipsubHeartbeatInitialDelay=z.GossipsubGossipRetransmission=z.GossipsubGossipFactor=z.GossipsubDlazy=z.GossipsubHistoryGossip=z.GossipsubHistoryLength=z.GossipsubDout=z.GossipsubDscore=z.GossipsubDhi=z.GossipsubDlo=z.GossipsubD=z.GossipsubIDv11=z.GossipsubIDv10=z.FloodsubID=z.minute=z.second=void 0;z.second=1e3;z.minute=60*z.second;z.FloodsubID="/floodsub/1.0.0";z.GossipsubIDv10="/meshsub/1.0.0";z.GossipsubIDv11="/meshsub/1.1.0";z.GossipsubD=6;z.GossipsubDlo=4;z.GossipsubDhi=12;z.GossipsubDscore=4;z.GossipsubDout=2;z.GossipsubHistoryLength=5;z.GossipsubHistoryGossip=3;z.GossipsubDlazy=6;z.GossipsubGossipFactor=.25;z.GossipsubGossipRetransmission=3;z.GossipsubHeartbeatInitialDelay=100;z.GossipsubHeartbeatInterval=z.second;z.GossipsubFanoutTTL=z.minute;z.GossipsubPrunePeers=16;z.GossipsubPruneBackoff=z.minute;z.GossipsubPruneBackoffTicks=15;z.GossipsubConnectors=8;z.GossipsubMaxPendingConnections=128;z.GossipsubConnectionTimeout=30*z.second;z.GossipsubDirectConnectTicks=300;z.GossipsubDirectConnectInitialDelay=z.second;z.GossipsubOpportunisticGraftTicks=60;z.GossipsubOpportunisticGraftPeers=2;z.GossipsubGraftFloodThreshold=10*z.second;z.GossipsubMaxIHaveLength=5e3;z.GossipsubMaxIHaveMessages=10;z.GossipsubIWantFollowupTime=3*z.second;z.TimeCacheDuration=120*1e3;z.ERR_TOPIC_VALIDATOR_REJECT="ERR_TOPIC_VALIDATOR_REJECT";z.ERR_TOPIC_VALIDATOR_IGNORE="ERR_TOPIC_VALIDATOR_IGNORE"});var Wy=C(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.hasGossipProtocol=void 0;var jy=bn();function I7(t){return t===jy.GossipsubIDv10||t===jy.GossipsubIDv11}yo.hasGossipProtocol=I7});var Yy=C(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.messageIdToString=void 0;var A7=Yt();function B7(t){return A7(t,"base64")}go.messageIdToString=B7});var yn=C(Yr=>{"use strict";var k7=Yr&&Yr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),vo=Yr&&Yr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&k7(e,t,r)};Object.defineProperty(Yr,"__esModule",{value:!0});vo(Vy(),Yr);vo(Hy(),Yr);vo(Wy(),Yr);vo(Yy(),Yr)});var Zy=C(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.MessageCache=void 0;var mo=yn(),Jy=class{constructor(e,r,i){this.msgs=new Map,this.peertx=new Map,this.history=[];for(let n=0;n<r;n++)this.history[n]=[];this.gossip=e,this.msgIdFn=i}put(e){let r=this.getMsgId(e),i=mo.messageIdToString(r);this.msgs.set(i,e),this.history[0].push({msgID:r,topics:e.topicIDs})}getMsgId(e){return this.msgIdFn(e)}get(e){return this.msgs.get(mo.messageIdToString(e))}getForPeer(e,r){let i=mo.messageIdToString(e),n=this.msgs.get(i);if(!n)return[void 0,0];let s=this.peertx.get(i);s||(s=new Map,this.peertx.set(i,s));let a=(s.get(r)||0)+1;return s.set(r,a),[n,a]}getGossipIDs(e){let r=[];for(let i=0;i<this.gossip;i++)this.history[i].forEach(n=>{for(let s of n.topics)if(s===e){r.push(n.msgID);break}});return r}shift(){this.history[this.history.length-1].forEach(r=>{let i=mo.messageIdToString(r.msgID);this.msgs.delete(i),this.peertx.delete(i)}),this.history.pop(),this.history.unshift([])}};xo.MessageCache=Jy});var Qy=C((Xy,Us)=>{(function(t,e){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],e):typeof Us=="object"&&Us&&Us.exports&&(Us.exports=e(En()))})(Xy,function(t){"use strict";var e=t.Reader,r=t.Writer,i=t.util,n=t.roots.default||(t.roots.default={});return n.RPC=function(){function s(a){if(this.subscriptions=[],this.msgs=[],a)for(var f=Object.keys(a),o=0;o<f.length;++o)a[f[o]]!=null&&(this[f[o]]=a[f[o]])}return s.prototype.subscriptions=i.emptyArray,s.prototype.msgs=i.emptyArray,s.prototype.control=null,s.encode=function(f,o){if(o||(o=r.create()),f.subscriptions!=null&&f.subscriptions.length)for(var c=0;c<f.subscriptions.length;++c)n.RPC.SubOpts.encode(f.subscriptions[c],o.uint32(10).fork()).ldelim();if(f.msgs!=null&&f.msgs.length)for(var c=0;c<f.msgs.length;++c)n.RPC.Message.encode(f.msgs[c],o.uint32(18).fork()).ldelim();return f.control!=null&&Object.hasOwnProperty.call(f,"control")&&n.RPC.ControlMessage.encode(f.control,o.uint32(26).fork()).ldelim(),o},s.decode=function(f,o){f instanceof e||(f=e.create(f));for(var c=o===void 0?f.len:f.pos+o,u=new n.RPC;f.pos<c;){var h=f.uint32();switch(h>>>3){case 1:u.subscriptions&&u.subscriptions.length||(u.subscriptions=[]),u.subscriptions.push(n.RPC.SubOpts.decode(f,f.uint32()));break;case 2:u.msgs&&u.msgs.length||(u.msgs=[]),u.msgs.push(n.RPC.Message.decode(f,f.uint32()));break;case 3:u.control=n.RPC.ControlMessage.decode(f,f.uint32());break;default:f.skipType(h&7);break}}return u},s.fromObject=function(f){if(f instanceof n.RPC)return f;var o=new n.RPC;if(f.subscriptions){if(!Array.isArray(f.subscriptions))throw TypeError(".RPC.subscriptions: array expected");o.subscriptions=[];for(var c=0;c<f.subscriptions.length;++c){if(typeof f.subscriptions[c]!="object")throw TypeError(".RPC.subscriptions: object expected");o.subscriptions[c]=n.RPC.SubOpts.fromObject(f.subscriptions[c])}}if(f.msgs){if(!Array.isArray(f.msgs))throw TypeError(".RPC.msgs: array expected");o.msgs=[];for(var c=0;c<f.msgs.length;++c){if(typeof f.msgs[c]!="object")throw TypeError(".RPC.msgs: object expected");o.msgs[c]=n.RPC.Message.fromObject(f.msgs[c])}}if(f.control!=null){if(typeof f.control!="object")throw TypeError(".RPC.control: object expected");o.control=n.RPC.ControlMessage.fromObject(f.control)}return o},s.toObject=function(f,o){o||(o={});var c={};if((o.arrays||o.defaults)&&(c.subscriptions=[],c.msgs=[]),o.defaults&&(c.control=null),f.subscriptions&&f.subscriptions.length){c.subscriptions=[];for(var u=0;u<f.subscriptions.length;++u)c.subscriptions[u]=n.RPC.SubOpts.toObject(f.subscriptions[u],o)}if(f.msgs&&f.msgs.length){c.msgs=[];for(var u=0;u<f.msgs.length;++u)c.msgs[u]=n.RPC.Message.toObject(f.msgs[u],o)}return f.control!=null&&f.hasOwnProperty("control")&&(c.control=n.RPC.ControlMessage.toObject(f.control,o)),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},s.SubOpts=function(){function a(f){if(f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.subscribe=!1,a.prototype.topicID="",a.encode=function(o,c){return c||(c=r.create()),o.subscribe!=null&&Object.hasOwnProperty.call(o,"subscribe")&&c.uint32(8).bool(o.subscribe),o.topicID!=null&&Object.hasOwnProperty.call(o,"topicID")&&c.uint32(18).string(o.topicID),c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.SubOpts;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.subscribe=o.bool();break;case 2:h.topicID=o.string();break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.SubOpts)return o;var c=new n.RPC.SubOpts;return o.subscribe!=null&&(c.subscribe=Boolean(o.subscribe)),o.topicID!=null&&(c.topicID=String(o.topicID)),c},a.toObject=function(o,c){c||(c={});var u={};return c.defaults&&(u.subscribe=!1,u.topicID=""),o.subscribe!=null&&o.hasOwnProperty("subscribe")&&(u.subscribe=o.subscribe),o.topicID!=null&&o.hasOwnProperty("topicID")&&(u.topicID=o.topicID),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s.Message=function(){function a(f){if(this.topicIDs=[],f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.from=i.newBuffer([]),a.prototype.data=i.newBuffer([]),a.prototype.seqno=i.newBuffer([]),a.prototype.topicIDs=i.emptyArray,a.prototype.signature=i.newBuffer([]),a.prototype.key=i.newBuffer([]),a.encode=function(o,c){if(c||(c=r.create()),o.from!=null&&Object.hasOwnProperty.call(o,"from")&&c.uint32(10).bytes(o.from),o.data!=null&&Object.hasOwnProperty.call(o,"data")&&c.uint32(18).bytes(o.data),o.seqno!=null&&Object.hasOwnProperty.call(o,"seqno")&&c.uint32(26).bytes(o.seqno),o.topicIDs!=null&&o.topicIDs.length)for(var u=0;u<o.topicIDs.length;++u)c.uint32(34).string(o.topicIDs[u]);return o.signature!=null&&Object.hasOwnProperty.call(o,"signature")&&c.uint32(42).bytes(o.signature),o.key!=null&&Object.hasOwnProperty.call(o,"key")&&c.uint32(50).bytes(o.key),c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.Message;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.from=o.bytes();break;case 2:h.data=o.bytes();break;case 3:h.seqno=o.bytes();break;case 4:h.topicIDs&&h.topicIDs.length||(h.topicIDs=[]),h.topicIDs.push(o.string());break;case 5:h.signature=o.bytes();break;case 6:h.key=o.bytes();break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.Message)return o;var c=new n.RPC.Message;if(o.from!=null&&(typeof o.from=="string"?i.base64.decode(o.from,c.from=i.newBuffer(i.base64.length(o.from)),0):o.from.length&&(c.from=o.from)),o.data!=null&&(typeof o.data=="string"?i.base64.decode(o.data,c.data=i.newBuffer(i.base64.length(o.data)),0):o.data.length&&(c.data=o.data)),o.seqno!=null&&(typeof o.seqno=="string"?i.base64.decode(o.seqno,c.seqno=i.newBuffer(i.base64.length(o.seqno)),0):o.seqno.length&&(c.seqno=o.seqno)),o.topicIDs){if(!Array.isArray(o.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");c.topicIDs=[];for(var u=0;u<o.topicIDs.length;++u)c.topicIDs[u]=String(o.topicIDs[u])}return o.signature!=null&&(typeof o.signature=="string"?i.base64.decode(o.signature,c.signature=i.newBuffer(i.base64.length(o.signature)),0):o.signature.length&&(c.signature=o.signature)),o.key!=null&&(typeof o.key=="string"?i.base64.decode(o.key,c.key=i.newBuffer(i.base64.length(o.key)),0):o.key.length&&(c.key=o.key)),c},a.toObject=function(o,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.topicIDs=[]),c.defaults&&(c.bytes===String?u.from="":(u.from=[],c.bytes!==Array&&(u.from=i.newBuffer(u.from))),c.bytes===String?u.data="":(u.data=[],c.bytes!==Array&&(u.data=i.newBuffer(u.data))),c.bytes===String?u.seqno="":(u.seqno=[],c.bytes!==Array&&(u.seqno=i.newBuffer(u.seqno))),c.bytes===String?u.signature="":(u.signature=[],c.bytes!==Array&&(u.signature=i.newBuffer(u.signature))),c.bytes===String?u.key="":(u.key=[],c.bytes!==Array&&(u.key=i.newBuffer(u.key)))),o.from!=null&&o.hasOwnProperty("from")&&(u.from=c.bytes===String?i.base64.encode(o.from,0,o.from.length):c.bytes===Array?Array.prototype.slice.call(o.from):o.from),o.data!=null&&o.hasOwnProperty("data")&&(u.data=c.bytes===String?i.base64.encode(o.data,0,o.data.length):c.bytes===Array?Array.prototype.slice.call(o.data):o.data),o.seqno!=null&&o.hasOwnProperty("seqno")&&(u.seqno=c.bytes===String?i.base64.encode(o.seqno,0,o.seqno.length):c.bytes===Array?Array.prototype.slice.call(o.seqno):o.seqno),o.topicIDs&&o.topicIDs.length){u.topicIDs=[];for(var h=0;h<o.topicIDs.length;++h)u.topicIDs[h]=o.topicIDs[h]}return o.signature!=null&&o.hasOwnProperty("signature")&&(u.signature=c.bytes===String?i.base64.encode(o.signature,0,o.signature.length):c.bytes===Array?Array.prototype.slice.call(o.signature):o.signature),o.key!=null&&o.hasOwnProperty("key")&&(u.key=c.bytes===String?i.base64.encode(o.key,0,o.key.length):c.bytes===Array?Array.prototype.slice.call(o.key):o.key),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s.ControlMessage=function(){function a(f){if(this.ihave=[],this.iwant=[],this.graft=[],this.prune=[],f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.ihave=i.emptyArray,a.prototype.iwant=i.emptyArray,a.prototype.graft=i.emptyArray,a.prototype.prune=i.emptyArray,a.encode=function(o,c){if(c||(c=r.create()),o.ihave!=null&&o.ihave.length)for(var u=0;u<o.ihave.length;++u)n.RPC.ControlIHave.encode(o.ihave[u],c.uint32(10).fork()).ldelim();if(o.iwant!=null&&o.iwant.length)for(var u=0;u<o.iwant.length;++u)n.RPC.ControlIWant.encode(o.iwant[u],c.uint32(18).fork()).ldelim();if(o.graft!=null&&o.graft.length)for(var u=0;u<o.graft.length;++u)n.RPC.ControlGraft.encode(o.graft[u],c.uint32(26).fork()).ldelim();if(o.prune!=null&&o.prune.length)for(var u=0;u<o.prune.length;++u)n.RPC.ControlPrune.encode(o.prune[u],c.uint32(34).fork()).ldelim();return c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.ControlMessage;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.ihave&&h.ihave.length||(h.ihave=[]),h.ihave.push(n.RPC.ControlIHave.decode(o,o.uint32()));break;case 2:h.iwant&&h.iwant.length||(h.iwant=[]),h.iwant.push(n.RPC.ControlIWant.decode(o,o.uint32()));break;case 3:h.graft&&h.graft.length||(h.graft=[]),h.graft.push(n.RPC.ControlGraft.decode(o,o.uint32()));break;case 4:h.prune&&h.prune.length||(h.prune=[]),h.prune.push(n.RPC.ControlPrune.decode(o,o.uint32()));break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.ControlMessage)return o;var c=new n.RPC.ControlMessage;if(o.ihave){if(!Array.isArray(o.ihave))throw TypeError(".RPC.ControlMessage.ihave: array expected");c.ihave=[];for(var u=0;u<o.ihave.length;++u){if(typeof o.ihave[u]!="object")throw TypeError(".RPC.ControlMessage.ihave: object expected");c.ihave[u]=n.RPC.ControlIHave.fromObject(o.ihave[u])}}if(o.iwant){if(!Array.isArray(o.iwant))throw TypeError(".RPC.ControlMessage.iwant: array expected");c.iwant=[];for(var u=0;u<o.iwant.length;++u){if(typeof o.iwant[u]!="object")throw TypeError(".RPC.ControlMessage.iwant: object expected");c.iwant[u]=n.RPC.ControlIWant.fromObject(o.iwant[u])}}if(o.graft){if(!Array.isArray(o.graft))throw TypeError(".RPC.ControlMessage.graft: array expected");c.graft=[];for(var u=0;u<o.graft.length;++u){if(typeof o.graft[u]!="object")throw TypeError(".RPC.ControlMessage.graft: object expected");c.graft[u]=n.RPC.ControlGraft.fromObject(o.graft[u])}}if(o.prune){if(!Array.isArray(o.prune))throw TypeError(".RPC.ControlMessage.prune: array expected");c.prune=[];for(var u=0;u<o.prune.length;++u){if(typeof o.prune[u]!="object")throw TypeError(".RPC.ControlMessage.prune: object expected");c.prune[u]=n.RPC.ControlPrune.fromObject(o.prune[u])}}return c},a.toObject=function(o,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.ihave=[],u.iwant=[],u.graft=[],u.prune=[]),o.ihave&&o.ihave.length){u.ihave=[];for(var h=0;h<o.ihave.length;++h)u.ihave[h]=n.RPC.ControlIHave.toObject(o.ihave[h],c)}if(o.iwant&&o.iwant.length){u.iwant=[];for(var h=0;h<o.iwant.length;++h)u.iwant[h]=n.RPC.ControlIWant.toObject(o.iwant[h],c)}if(o.graft&&o.graft.length){u.graft=[];for(var h=0;h<o.graft.length;++h)u.graft[h]=n.RPC.ControlGraft.toObject(o.graft[h],c)}if(o.prune&&o.prune.length){u.prune=[];for(var h=0;h<o.prune.length;++h)u.prune[h]=n.RPC.ControlPrune.toObject(o.prune[h],c)}return u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s.ControlIHave=function(){function a(f){if(this.messageIDs=[],f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.topicID="",a.prototype.messageIDs=i.emptyArray,a.encode=function(o,c){if(c||(c=r.create()),o.topicID!=null&&Object.hasOwnProperty.call(o,"topicID")&&c.uint32(10).string(o.topicID),o.messageIDs!=null&&o.messageIDs.length)for(var u=0;u<o.messageIDs.length;++u)c.uint32(18).bytes(o.messageIDs[u]);return c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.ControlIHave;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.topicID=o.string();break;case 2:h.messageIDs&&h.messageIDs.length||(h.messageIDs=[]),h.messageIDs.push(o.bytes());break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.ControlIHave)return o;var c=new n.RPC.ControlIHave;if(o.topicID!=null&&(c.topicID=String(o.topicID)),o.messageIDs){if(!Array.isArray(o.messageIDs))throw TypeError(".RPC.ControlIHave.messageIDs: array expected");c.messageIDs=[];for(var u=0;u<o.messageIDs.length;++u)typeof o.messageIDs[u]=="string"?i.base64.decode(o.messageIDs[u],c.messageIDs[u]=i.newBuffer(i.base64.length(o.messageIDs[u])),0):o.messageIDs[u].length&&(c.messageIDs[u]=o.messageIDs[u])}return c},a.toObject=function(o,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.messageIDs=[]),c.defaults&&(u.topicID=""),o.topicID!=null&&o.hasOwnProperty("topicID")&&(u.topicID=o.topicID),o.messageIDs&&o.messageIDs.length){u.messageIDs=[];for(var h=0;h<o.messageIDs.length;++h)u.messageIDs[h]=c.bytes===String?i.base64.encode(o.messageIDs[h],0,o.messageIDs[h].length):c.bytes===Array?Array.prototype.slice.call(o.messageIDs[h]):o.messageIDs[h]}return u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s.ControlIWant=function(){function a(f){if(this.messageIDs=[],f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.messageIDs=i.emptyArray,a.encode=function(o,c){if(c||(c=r.create()),o.messageIDs!=null&&o.messageIDs.length)for(var u=0;u<o.messageIDs.length;++u)c.uint32(10).bytes(o.messageIDs[u]);return c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.ControlIWant;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.messageIDs&&h.messageIDs.length||(h.messageIDs=[]),h.messageIDs.push(o.bytes());break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.ControlIWant)return o;var c=new n.RPC.ControlIWant;if(o.messageIDs){if(!Array.isArray(o.messageIDs))throw TypeError(".RPC.ControlIWant.messageIDs: array expected");c.messageIDs=[];for(var u=0;u<o.messageIDs.length;++u)typeof o.messageIDs[u]=="string"?i.base64.decode(o.messageIDs[u],c.messageIDs[u]=i.newBuffer(i.base64.length(o.messageIDs[u])),0):o.messageIDs[u].length&&(c.messageIDs[u]=o.messageIDs[u])}return c},a.toObject=function(o,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.messageIDs=[]),o.messageIDs&&o.messageIDs.length){u.messageIDs=[];for(var h=0;h<o.messageIDs.length;++h)u.messageIDs[h]=c.bytes===String?i.base64.encode(o.messageIDs[h],0,o.messageIDs[h].length):c.bytes===Array?Array.prototype.slice.call(o.messageIDs[h]):o.messageIDs[h]}return u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s.ControlGraft=function(){function a(f){if(f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.topicID="",a.encode=function(o,c){return c||(c=r.create()),o.topicID!=null&&Object.hasOwnProperty.call(o,"topicID")&&c.uint32(10).string(o.topicID),c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.ControlGraft;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.topicID=o.string();break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.ControlGraft)return o;var c=new n.RPC.ControlGraft;return o.topicID!=null&&(c.topicID=String(o.topicID)),c},a.toObject=function(o,c){c||(c={});var u={};return c.defaults&&(u.topicID=""),o.topicID!=null&&o.hasOwnProperty("topicID")&&(u.topicID=o.topicID),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s.ControlPrune=function(){function a(f){if(this.peers=[],f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.topicID="",a.prototype.peers=i.emptyArray,a.prototype.backoff=i.Long?i.Long.fromBits(0,0,!0):0,a.encode=function(o,c){if(c||(c=r.create()),o.topicID!=null&&Object.hasOwnProperty.call(o,"topicID")&&c.uint32(10).string(o.topicID),o.peers!=null&&o.peers.length)for(var u=0;u<o.peers.length;++u)n.RPC.PeerInfo.encode(o.peers[u],c.uint32(18).fork()).ldelim();return o.backoff!=null&&Object.hasOwnProperty.call(o,"backoff")&&c.uint32(24).uint64(o.backoff),c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.ControlPrune;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.topicID=o.string();break;case 2:h.peers&&h.peers.length||(h.peers=[]),h.peers.push(n.RPC.PeerInfo.decode(o,o.uint32()));break;case 3:h.backoff=o.uint64();break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.ControlPrune)return o;var c=new n.RPC.ControlPrune;if(o.topicID!=null&&(c.topicID=String(o.topicID)),o.peers){if(!Array.isArray(o.peers))throw TypeError(".RPC.ControlPrune.peers: array expected");c.peers=[];for(var u=0;u<o.peers.length;++u){if(typeof o.peers[u]!="object")throw TypeError(".RPC.ControlPrune.peers: object expected");c.peers[u]=n.RPC.PeerInfo.fromObject(o.peers[u])}}return o.backoff!=null&&(i.Long?(c.backoff=i.Long.fromValue(o.backoff)).unsigned=!0:typeof o.backoff=="string"?c.backoff=parseInt(o.backoff,10):typeof o.backoff=="number"?c.backoff=o.backoff:typeof o.backoff=="object"&&(c.backoff=new i.LongBits(o.backoff.low>>>0,o.backoff.high>>>0).toNumber(!0))),c},a.toObject=function(o,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.peers=[]),c.defaults)if(u.topicID="",i.Long){var h=new i.Long(0,0,!0);u.backoff=c.longs===String?h.toString():c.longs===Number?h.toNumber():h}else u.backoff=c.longs===String?"0":0;if(o.topicID!=null&&o.hasOwnProperty("topicID")&&(u.topicID=o.topicID),o.peers&&o.peers.length){u.peers=[];for(var b=0;b<o.peers.length;++b)u.peers[b]=n.RPC.PeerInfo.toObject(o.peers[b],c)}return o.backoff!=null&&o.hasOwnProperty("backoff")&&(typeof o.backoff=="number"?u.backoff=c.longs===String?String(o.backoff):o.backoff:u.backoff=c.longs===String?i.Long.prototype.toString.call(o.backoff):c.longs===Number?new i.LongBits(o.backoff.low>>>0,o.backoff.high>>>0).toNumber(!0):o.backoff),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s.PeerInfo=function(){function a(f){if(f)for(var o=Object.keys(f),c=0;c<o.length;++c)f[o[c]]!=null&&(this[o[c]]=f[o[c]])}return a.prototype.peerID=i.newBuffer([]),a.prototype.signedPeerRecord=i.newBuffer([]),a.encode=function(o,c){return c||(c=r.create()),o.peerID!=null&&Object.hasOwnProperty.call(o,"peerID")&&c.uint32(10).bytes(o.peerID),o.signedPeerRecord!=null&&Object.hasOwnProperty.call(o,"signedPeerRecord")&&c.uint32(18).bytes(o.signedPeerRecord),c},a.decode=function(o,c){o instanceof e||(o=e.create(o));for(var u=c===void 0?o.len:o.pos+c,h=new n.RPC.PeerInfo;o.pos<u;){var b=o.uint32();switch(b>>>3){case 1:h.peerID=o.bytes();break;case 2:h.signedPeerRecord=o.bytes();break;default:o.skipType(b&7);break}}return h},a.fromObject=function(o){if(o instanceof n.RPC.PeerInfo)return o;var c=new n.RPC.PeerInfo;return o.peerID!=null&&(typeof o.peerID=="string"?i.base64.decode(o.peerID,c.peerID=i.newBuffer(i.base64.length(o.peerID)),0):o.peerID.length&&(c.peerID=o.peerID)),o.signedPeerRecord!=null&&(typeof o.signedPeerRecord=="string"?i.base64.decode(o.signedPeerRecord,c.signedPeerRecord=i.newBuffer(i.base64.length(o.signedPeerRecord)),0):o.signedPeerRecord.length&&(c.signedPeerRecord=o.signedPeerRecord)),c},a.toObject=function(o,c){c||(c={});var u={};return c.defaults&&(c.bytes===String?u.peerID="":(u.peerID=[],c.bytes!==Array&&(u.peerID=i.newBuffer(u.peerID))),c.bytes===String?u.signedPeerRecord="":(u.signedPeerRecord=[],c.bytes!==Array&&(u.signedPeerRecord=i.newBuffer(u.signedPeerRecord)))),o.peerID!=null&&o.hasOwnProperty("peerID")&&(u.peerID=c.bytes===String?i.base64.encode(o.peerID,0,o.peerID.length):c.bytes===Array?Array.prototype.slice.call(o.peerID):o.peerID),o.signedPeerRecord!=null&&o.hasOwnProperty("signedPeerRecord")&&(u.signedPeerRecord=c.bytes===String?i.base64.encode(o.signedPeerRecord,0,o.signedPeerRecord.length):c.bytes===Array?Array.prototype.slice.call(o.signedPeerRecord):o.signedPeerRecord),u},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a}(),s}(),n})});var oc=C(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.getGossipPeers=void 0;var $y=yn();function C7(t,e,r,i=()=>!0){let n=t.topics.get(e);if(!n)return new Set;let s=[];return n.forEach(a=>{let f=t.peers.get(a);!f||$y.hasGossipProtocol(f.protocol)&&i(a)&&s.push(a)}),s=$y.shuffle(s),r>0&&s.length>r&&(s=s.slice(0,r)),new Set(s)}wo.getGossipPeers=C7});var tg=C(Jr=>{"use strict";var T7=Jr&&Jr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),R7=Jr&&Jr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M7=Jr&&Jr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&T7(e,t,r);return R7(e,t),e};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Heartbeat=void 0;var zs=M7(bn()),_o=oc(),P7=yn(),eg=class{constructor(e){this.gossipsub=e}start(){if(this._heartbeatTimer)return;let e=this._heartbeat.bind(this),r=setTimeout(()=>{e(),this._heartbeatTimer.runPeriodically(e,zs.GossipsubHeartbeatInterval)},zs.GossipsubHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(i,n)=>{this._heartbeatTimer._intervalId=setInterval(i,n)},cancel:()=>{clearTimeout(r),clearInterval(this._heartbeatTimer._intervalId)}}}stop(){!this._heartbeatTimer||(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){let{D:e,Dlo:r,Dhi:i,Dscore:n,Dout:s}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;let a=new Map,f=b=>{let g=a.get(b);return g===void 0&&(g=this.gossipsub.score.score(b),a.set(b,g)),g},o=new Map,c=new Map,u=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach((b,g)=>{let y=I=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",I,g),this.gossipsub.score.prune(I,g),this.gossipsub._addBackoff(I,g),b.delete(I);let B=c.get(I);B?B.push(g):c.set(I,[g])},S=I=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",I,g),this.gossipsub.score.graft(I,g),b.add(I);let B=o.get(I);B?B.push(g):o.set(I,[g])};if(b.forEach(I=>{let B=f(I);B<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",I,B,g),y(I),u.set(I,!0))}),b.size<r){let I=this.gossipsub.backoff.get(g),B=e-b.size;_o.getGossipPeers(this.gossipsub,g,B,M=>!b.has(M)&&!this.gossipsub.direct.has(M)&&(!I||!I.has(M))&&f(M)>=0).forEach(S)}if(b.size>i){let I=Array.from(b);I.sort((R,M)=>f(M)-f(R)),I=I.slice(0,n).concat(P7.shuffle(I.slice(n)));let B=0;if(I.slice(0,e).forEach(R=>{this.gossipsub.outbound.get(R)&&B++}),B<s){let R=F=>{let L=I[F];for(let D=F;D>0;D--)I[D]=I[D-1];I[0]=L};if(B>0){let F=B;for(let L=1;L<e&&F>0;L++)this.gossipsub.outbound.get(I[L])&&(R(L),F--)}let M=e-B;for(let F=e;F<I.length&&M>0;F++)this.gossipsub.outbound.get(I[F])&&(R(F),M--)}I.slice(e).forEach(y)}if(b.size>=r){let I=0;if(b.forEach(B=>{this.gossipsub.outbound.get(B)&&I++}),I<s){let B=s-I,R=this.gossipsub.backoff.get(g);_o.getGossipPeers(this.gossipsub,g,B,M=>!b.has(M)&&!this.gossipsub.direct.has(M)&&(!R||!R.has(M))&&f(M)>=0).forEach(S)}}if(this.gossipsub.heartbeatTicks%zs.GossipsubOpportunisticGraftTicks==0&&b.size>1){let I=Array.from(b).sort((M,F)=>f(M)-f(F)),B=b.size/2,R=f(I[B]);if(R<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){let M=this.gossipsub.backoff.get(g);_o.getGossipPeers(this.gossipsub,g,zs.GossipsubOpportunisticGraftPeers,L=>b.has(L)&&!this.gossipsub.direct.has(L)&&(!M||!M.has(L))&&f(L)>R).forEach(L=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",L,g),S(L)})}}this.gossipsub._emitGossip(g,b)});let h=this.gossipsub._now();this.gossipsub.lastpub.forEach((b,g)=>{b+zs.GossipsubFanoutTTL<h&&(this.gossipsub.fanout.delete(g),this.gossipsub.lastpub.delete(g))}),this.gossipsub.fanout.forEach((b,g)=>{let y=this.gossipsub.topics.get(g);if(b.forEach(S=>{(!y.has(S)||f(S)<this.gossipsub._options.scoreThresholds.publishThreshold)&&b.delete(S)}),b.size<e){let S=e-b.size;_o.getGossipPeers(this.gossipsub,g,S,B=>!b.has(B)&&!this.gossipsub.direct.has(B)&&f(B)>=this.gossipsub._options.scoreThresholds.publishThreshold).forEach(B=>{b.add(B)})}this.gossipsub._emitGossip(g,b)}),this.gossipsub._sendGraftPrune(o,c,u),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}};Jr.Heartbeat=eg});var fc=C(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.ERR_INVALID_PEER_SCORE_THRESHOLDS=as.ERR_INVALID_PEER_SCORE_PARAMS=void 0;as.ERR_INVALID_PEER_SCORE_PARAMS="ERR_INVALID_PEER_SCORE_PARAMS";as.ERR_INVALID_PEER_SCORE_THRESHOLDS="ERR_INVALID_PEER_SCORE_THRESHOLDS"});var cc=C((hI,rg)=>{"use strict";function ig(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function D7(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=void 0),e!=null&&(r.code=e);try{return ig(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),ig(new n,r)}}rg.exports=D7});var uc=C(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.validateTopicScoreParams=Lt.validatePeerScoreParams=Lt.createTopicScoreParams=Lt.createPeerScoreParams=Lt.defaultTopicScoreParams=Lt.defaultPeerScoreParams=void 0;var Ae=fc(),Be=cc();Lt.defaultPeerScoreParams={topics:{},topicScoreCap:10,appSpecificScore:()=>0,appSpecificWeight:10,IPColocationFactorWeight:-5,IPColocationFactorThreshold:10,IPColocationFactorWhitelist:new Set,behaviourPenaltyWeight:-10,behaviourPenaltyDecay:.2,decayInterval:1e3,decayToZero:.1,retainScore:3600*1e3};Lt.defaultTopicScoreParams={topicWeight:.5,timeInMeshWeight:1,timeInMeshQuantum:1,timeInMeshCap:3600,firstMessageDeliveriesWeight:1,firstMessageDeliveriesDecay:.5,firstMessageDeliveriesCap:2e3,meshMessageDeliveriesWeight:-1,meshMessageDeliveriesDecay:.5,meshMessageDeliveriesCap:100,meshMessageDeliveriesThreshold:20,meshMessageDeliveriesWindow:10,meshMessageDeliveriesActivation:5e3,meshFailurePenaltyWeight:-1,meshFailurePenaltyDecay:.5,invalidMessageDeliveriesWeight:-1,invalidMessageDeliveriesDecay:.3};function O7(t={}){return Object.assign(Object.assign(Object.assign({},Lt.defaultPeerScoreParams),t),{topics:t.topics?Object.entries(t.topics).reduce((e,[r,i])=>(e[r]=ng(i),e),{}):{}})}Lt.createPeerScoreParams=O7;function ng(t={}){return Object.assign(Object.assign({},Lt.defaultTopicScoreParams),t)}Lt.createTopicScoreParams=ng;function N7(t){for(let[e,r]of Object.entries(t.topics))try{sg(r)}catch(i){throw Be(new Error(`invalid score parameters for topic ${e}: ${i.message}`),Ae.ERR_INVALID_PEER_SCORE_PARAMS)}if(t.topicScoreCap<0)throw Be(new Error("invalid topic score cap; must be positive (or 0 for no cap)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.appSpecificScore===null||t.appSpecificScore===void 0)throw Be(new Error("missing application specific score function"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.IPColocationFactorWeight>0)throw Be(new Error("invalid IPColocationFactorWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.IPColocationFactorWeight!==0&&t.IPColocationFactorThreshold<1)throw Be(new Error("invalid IPColocationFactorThreshold; must be at least 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.behaviourPenaltyWeight>0)throw Be(new Error("invalid BehaviourPenaltyWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.behaviourPenaltyWeight!==0&&(t.behaviourPenaltyDecay<=0||t.behaviourPenaltyDecay>=1))throw Be(new Error("invalid BehaviourPenaltyDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.decayInterval<1e3)throw Be(new Error("invalid DecayInterval; must be at least 1s"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.decayToZero<=0||t.decayToZero>=1)throw Be(new Error("invalid DecayToZero; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS)}Lt.validatePeerScoreParams=N7;function sg(t){if(t.topicWeight<0)throw Be(new Error("invalid topic weight; must be >= 0"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshQuantum===0)throw Be(new Error("invalid TimeInMeshQuantum; must be non zero"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight<0)throw Be(new Error("invalid TimeInMeshWeight; must be positive (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight!==0&&t.timeInMeshQuantum<=0)throw Be(new Error("invalid TimeInMeshQuantum; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.timeInMeshWeight!==0&&t.timeInMeshCap<=0)throw Be(new Error("invalid TimeInMeshCap; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight<0)throw Be(new Error("invallid FirstMessageDeliveriesWeight; must be positive (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight!==0&&(t.firstMessageDeliveriesDecay<=0||t.firstMessageDeliveriesDecay>=1))throw Be(new Error("invalid FirstMessageDeliveriesDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.firstMessageDeliveriesWeight!==0&&t.firstMessageDeliveriesCap<=0)throw Be(new Error("invalid FirstMessageDeliveriesCap; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight>0)throw Be(new Error("invalid MeshMessageDeliveriesWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&(t.meshMessageDeliveriesDecay<=0||t.meshMessageDeliveriesDecay>=1))throw Be(new Error("invalid MeshMessageDeliveriesDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesCap<=0)throw Be(new Error("invalid MeshMessageDeliveriesCap; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesThreshold<=0)throw Be(new Error("invalid MeshMessageDeliveriesThreshold; must be positive"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWindow<0)throw Be(new Error("invalid MeshMessageDeliveriesWindow; must be non-negative"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshMessageDeliveriesWeight!==0&&t.meshMessageDeliveriesActivation<1e3)throw Be(new Error("invalid MeshMessageDeliveriesActivation; must be at least 1s"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshFailurePenaltyWeight>0)throw Be(new Error("invalid MeshFailurePenaltyWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.meshFailurePenaltyWeight!==0&&(t.meshFailurePenaltyDecay<=0||t.meshFailurePenaltyDecay>=1))throw Be(new Error("invalid MeshFailurePenaltyDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.invalidMessageDeliveriesWeight>0)throw Be(new Error("invalid InvalidMessageDeliveriesWeight; must be negative (or 0 to disable)"),Ae.ERR_INVALID_PEER_SCORE_PARAMS);if(t.invalidMessageDeliveriesDecay<=0||t.invalidMessageDeliveriesDecay>=1)throw Be(new Error("invalid InvalidMessageDeliveriesDecay; must be between 0 and 1"),Ae.ERR_INVALID_PEER_SCORE_PARAMS)}Lt.validateTopicScoreParams=sg});var ag=C(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.validatePeerScoreThresholds=hi.createPeerScoreThresholds=hi.defaultPeerScoreThresholds=void 0;var Gs=fc(),Vs=cc();hi.defaultPeerScoreThresholds={gossipThreshold:-10,publishThreshold:-50,graylistThreshold:-80,acceptPXThreshold:10,opportunisticGraftThreshold:20};function L7(t={}){return Object.assign(Object.assign({},hi.defaultPeerScoreThresholds),t)}hi.createPeerScoreThresholds=L7;function q7(t){if(t.gossipThreshold>0)throw Vs(new Error("invalid gossip threshold; it must be <= 0"),Gs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.publishThreshold>0||t.publishThreshold>t.gossipThreshold)throw Vs(new Error("invalid publish threshold; it must be <= 0 and <= gossip threshold"),Gs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.graylistThreshold>0||t.graylistThreshold>t.publishThreshold)throw Vs(new Error("invalid graylist threshold; it must be <= 0 and <= publish threshold"),Gs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.acceptPXThreshold<0)throw Vs(new Error("invalid accept PX threshold; it must be >= 0"),Gs.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(t.opportunisticGraftThreshold<0)throw Vs(new Error("invalid opportunistic grafting threshold; it must be >= 0"),Gs.ERR_INVALID_PEER_SCORE_THRESHOLDS)}hi.validatePeerScoreThresholds=q7});var og=C(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.ensureTopicStats=Ni.createTopicStats=Ni.createPeerStats=void 0;function F7(t={}){return Object.assign(Object.assign({connected:!1,expire:0,ips:[],behaviourPenalty:0},t),{topics:t.topics?Object.entries(t.topics).reduce((e,[r,i])=>(e[r]=hc(i),e),{}):{}})}Ni.createPeerStats=F7;function hc(t={}){return Object.assign({inMesh:!1,graftTime:0,meshTime:0,firstMessageDeliveries:0,meshMessageDeliveries:0,meshMessageDeliveriesActive:!1,meshFailurePenalty:0,invalidMessageDeliveries:0},t)}Ni.createTopicStats=hc;function K7(t,e,r){let i=e.topics[t];if(i)return i;if(!!r.topics[t])return e.topics[t]=i=hc(),i}Ni.ensureTopicStats=K7});var fg=C(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.computeScore=void 0;function U7(t,e,r,i){let n=0;return Object.entries(e.topics).forEach(([f,o])=>{let c=r.topics[f];if(!c)return;let u=0;if(o.inMesh){let y=o.meshTime/c.timeInMeshQuantum;y>c.timeInMeshCap&&(y=c.timeInMeshCap),u+=y*c.timeInMeshWeight}if(u+=o.firstMessageDeliveries*c.firstMessageDeliveriesWeight,o.meshMessageDeliveriesActive&&o.meshMessageDeliveries<c.meshMessageDeliveriesThreshold){let y=c.meshMessageDeliveriesThreshold-o.meshMessageDeliveries;u+=y*y*c.meshMessageDeliveriesWeight}u+=o.meshFailurePenalty*c.meshFailurePenaltyWeight,u+=o.invalidMessageDeliveries*o.invalidMessageDeliveries*c.invalidMessageDeliveriesWeight,n+=u*c.topicWeight}),r.topicScoreCap>0&&n>r.topicScoreCap&&(n=r.topicScoreCap),n+=r.appSpecificScore(t)*r.appSpecificWeight,e.ips.forEach(f=>{if(r.IPColocationFactorWhitelist.has(f))return;let o=i.get(f),c=o?o.size:0;if(c>r.IPColocationFactorThreshold){let u=c-r.IPColocationFactorThreshold;n+=u*u*r.IPColocationFactorWeight}}),n+=e.behaviourPenalty*e.behaviourPenalty*r.behaviourPenaltyWeight,n}Eo.computeScore=U7});var ug=C((yI,cg)=>{"use strict";function Le(t,e){var e=e||{};this._head=0,this._tail=0,this._capacity=e.capacity,this._capacityMask=3,this._list=new Array(4),Array.isArray(t)&&this._fromArray(t)}Le.prototype.peekAt=function(e){var r=e;if(r===(r|0)){var i=this.size();if(!(r>=i||r<-i))return r<0&&(r+=i),r=this._head+r&this._capacityMask,this._list[r]}};Le.prototype.get=function(e){return this.peekAt(e)};Le.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};Le.prototype.peekFront=function(){return this.peek()};Le.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(Le.prototype,"length",{get:function(){return this.size()}});Le.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Le.prototype.unshift=function(e){if(e===void 0)return this.size();var r=this._list.length;return this._head=this._head-1+r&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Le.prototype.shift=function(){var e=this._head;if(e!==this._tail){var r=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),r}};Le.prototype.push=function(e){if(e===void 0)return this.size();var r=this._tail;return this._list[r]=e,this._tail=r+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Le.prototype.pop=function(){var e=this._tail;if(e!==this._head){var r=this._list.length;this._tail=e-1+r&this._capacityMask;var i=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=r>>>2&&this._shrinkArray(),i}};Le.prototype.removeOne=function(e){var r=e;if(r===(r|0)&&this._head!==this._tail){var i=this.size(),n=this._list.length;if(!(r>=i||r<-i)){r<0&&(r+=i),r=this._head+r&this._capacityMask;var s=this._list[r],a;if(e<i/2){for(a=e;a>0;a--)this._list[r]=this._list[r=r-1+n&this._capacityMask];this._list[r]=void 0,this._head=this._head+1+n&this._capacityMask}else{for(a=i-1-e;a>0;a--)this._list[r]=this._list[r=r+1+n&this._capacityMask];this._list[r]=void 0,this._tail=this._tail-1+n&this._capacityMask}return s}}};Le.prototype.remove=function(e,r){var i=e,n,s=r;if(i===(i|0)&&this._head!==this._tail){var a=this.size(),f=this._list.length;if(!(i>=a||i<-a||r<1)){if(i<0&&(i+=a),r===1||!r)return n=new Array(1),n[0]=this.removeOne(i),n;if(i===0&&i+r>=a)return n=this.toArray(),this.clear(),n;i+r>a&&(r=a-i);var o;for(n=new Array(r),o=0;o<r;o++)n[o]=this._list[this._head+i+o&this._capacityMask];if(i=this._head+i&this._capacityMask,e+r===a){for(this._tail=this._tail-r+f&this._capacityMask,o=r;o>0;o--)this._list[i=i+1+f&this._capacityMask]=void 0;return n}if(e===0){for(this._head=this._head+r+f&this._capacityMask,o=r-1;o>0;o--)this._list[i=i+1+f&this._capacityMask]=void 0;return n}if(i<a/2){for(this._head=this._head+e+r+f&this._capacityMask,o=e;o>0;o--)this.unshift(this._list[i=i-1+f&this._capacityMask]);for(i=this._head-1+f&this._capacityMask;s>0;)this._list[i=i-1+f&this._capacityMask]=void 0,s--;e<0&&(this._tail=i)}else{for(this._tail=i,i=i+r+f&this._capacityMask,o=a-(r+e);o>0;o--)this.push(this._list[i++]);for(i=this._tail;s>0;)this._list[i=i+1+f&this._capacityMask]=void 0,s--}return this._head<2&&this._tail>1e4&&this._tail<=f>>>2&&this._shrinkArray(),n}}};Le.prototype.splice=function(e,r){var i=e;if(i===(i|0)){var n=this.size();if(i<0&&(i+=n),!(i>n))if(arguments.length>2){var s,a,f,o=arguments.length,c=this._list.length,u=2;if(!n||i<n/2){for(a=new Array(i),s=0;s<i;s++)a[s]=this._list[this._head+s&this._capacityMask];for(r===0?(f=[],i>0&&(this._head=this._head+i+c&this._capacityMask)):(f=this.remove(i,r),this._head=this._head+i+c&this._capacityMask);o>u;)this.unshift(arguments[--o]);for(s=i;s>0;s--)this.unshift(a[s-1])}else{a=new Array(n-(i+r));var h=a.length;for(s=0;s<h;s++)a[s]=this._list[this._head+i+r+s&this._capacityMask];for(r===0?(f=[],i!=n&&(this._tail=this._head+i+c&this._capacityMask)):(f=this.remove(i,r),this._tail=this._tail-h+c&this._capacityMask);u<o;)this.push(arguments[u++]);for(s=0;s<h;s++)this.push(a[s])}return f}else return this.remove(i,r)}};Le.prototype.clear=function(){this._head=0,this._tail=0};Le.prototype.isEmpty=function(){return this._head===this._tail};Le.prototype.toArray=function(){return this._copyArray(!1)};Le.prototype._fromArray=function(e){for(var r=0;r<e.length;r++)this.push(e[r])};Le.prototype._copyArray=function(e){var r=[],i=this._list,n=i.length,s;if(e||this._head>this._tail){for(s=this._head;s<n;s++)r.push(i[s]);for(s=0;s<this._tail;s++)r.push(i[s])}else for(s=this._head;s<this._tail;s++)r.push(i[s]);return r};Le.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1};Le.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};cg.exports=Le});var dg=C(li=>{"use strict";var z7=li&&li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(li,"__esModule",{value:!0});li.MessageDeliveries=li.DeliveryRecordStatus=void 0;var G7=bn(),V7=z7(ug()),H7=yn(),hg;(function(t){t[t.unknown=0]="unknown",t[t.valid=1]="valid",t[t.invalid=2]="invalid",t[t.ignored=3]="ignored"})(hg=li.DeliveryRecordStatus||(li.DeliveryRecordStatus={}));var lg=class{constructor(){this.records=new Map,this.queue=new V7.default}ensureRecord(e){let r=H7.messageIdToString(e),i=this.records.get(r);if(i)return i;i={status:hg.unknown,firstSeen:Date.now(),validated:0,peers:new Set},this.records.set(r,i);let n={msgId:r,expire:Date.now()+G7.TimeCacheDuration};return this.queue.push(n),i}gc(){let e=Date.now(),r=this.queue.peekFront();for(;r&&r.expire<e;)this.records.delete(r.msgId),this.queue.shift(),r=this.queue.peekFront()}clear(){this.records.clear(),this.queue.clear()}};li.MessageDeliveries=lg});var bg=C(os=>{"use strict";var j7=os&&os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});os.PeerScore=void 0;var W7=uc(),fs=og(),Y7=fg(),wr=dg(),J7=bn(),Z7=j7(ss()),X7=Js(),Q7=$s(),{ERR_INVALID_SIGNATURE:$7,ERR_MISSING_SIGNATURE:ew}=Q7.codes,cs=X7("libp2p:gossipsub:score"),pg=class{constructor(e,r,i){W7.validatePeerScoreParams(e),this.params=e,this._connectionManager=r,this.peerStats=new Map,this.peerIPs=new Map,this.deliveryRecords=new wr.MessageDeliveries,this.msgId=i}start(){if(this._backgroundInterval){cs("Peer score already running");return}this._backgroundInterval=setInterval(()=>this.background(),this.params.decayInterval),cs("started")}stop(){if(!this._backgroundInterval){cs("Peer score already stopped");return}clearInterval(this._backgroundInterval),delete this._backgroundInterval,this.peerIPs.clear(),this.peerStats.clear(),this.deliveryRecords.clear(),cs("stopped")}background(){this._refreshScores(),this._updateIPs(),this.deliveryRecords.gc()}_refreshScores(){let e=Date.now(),r=this.params.decayToZero;this.peerStats.forEach((i,n)=>{if(!i.connected){e>i.expire&&(this._removeIPs(n,i.ips),this.peerStats.delete(n));return}Object.entries(i.topics).forEach(([s,a])=>{let f=this.params.topics[s];!f||(a.firstMessageDeliveries*=f.firstMessageDeliveriesDecay,a.firstMessageDeliveries<r&&(a.firstMessageDeliveries=0),a.meshMessageDeliveries*=f.meshMessageDeliveriesDecay,a.meshMessageDeliveries<r&&(a.meshMessageDeliveries=0),a.meshFailurePenalty*=f.meshFailurePenaltyDecay,a.meshFailurePenalty<r&&(a.meshFailurePenalty=0),a.invalidMessageDeliveries*=f.invalidMessageDeliveriesDecay,a.invalidMessageDeliveries<r&&(a.invalidMessageDeliveries=0),a.inMesh&&(a.meshTime=e-a.graftTime,a.meshTime>f.meshMessageDeliveriesActivation&&(a.meshMessageDeliveriesActive=!0)))}),i.behaviourPenalty*=this.params.behaviourPenaltyDecay,i.behaviourPenalty<r&&(i.behaviourPenalty=0)})}score(e){let r=this.peerStats.get(e);return r?Y7.computeScore(e,r,this.params,this.peerIPs):0}addPenalty(e,r){let i=this.peerStats.get(e);!i||(i.behaviourPenalty+=r)}addPeer(e){let r=fs.createPeerStats({connected:!0});this.peerStats.set(e,r);let i=this._getIPs(e);this._setIPs(e,i,r.ips),r.ips=i}removePeer(e){let r=this.peerStats.get(e);if(!!r){if(this.score(e)>0){this._removeIPs(e,r.ips),this.peerStats.delete(e);return}Object.entries(r.topics).forEach(([i,n])=>{n.firstMessageDeliveries=0;let s=this.params.topics[i].meshMessageDeliveriesThreshold;if(n.inMesh&&n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let a=s-n.meshMessageDeliveries;n.meshFailurePenalty+=a*a}n.inMesh=!1}),r.connected=!1,r.expire=Date.now()+this.params.retainScore}}graft(e,r){let i=this.peerStats.get(e);if(!i)return;let n=fs.ensureTopicStats(r,i,this.params);!n||(n.inMesh=!0,n.graftTime=Date.now(),n.meshTime=0,n.meshMessageDeliveriesActive=!1)}prune(e,r){let i=this.peerStats.get(e);if(!i)return;let n=fs.ensureTopicStats(r,i,this.params);if(!n)return;let s=this.params.topics[r].meshMessageDeliveriesThreshold;if(n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let a=s-n.meshMessageDeliveries;n.meshFailurePenalty+=a*a}n.inMesh=!1}validateMessage(e){this.deliveryRecords.ensureRecord(this.msgId(e))}deliverMessage(e){let r=e.receivedFrom;this._markFirstMessageDelivery(r,e);let i=this.deliveryRecords.ensureRecord(this.msgId(e)),n=Date.now();if(i.status!==wr.DeliveryRecordStatus.unknown){cs("unexpected delivery: message from %s was first seen %s ago and has delivery status %d",r,n-i.firstSeen,wr.DeliveryRecordStatus[i.status]);return}i.status=wr.DeliveryRecordStatus.valid,i.validated=n,i.peers.forEach(s=>{s!==r&&this._markDuplicateMessageDelivery(s,e)})}rejectMessage(e,r){let i=e.receivedFrom;switch(r){case ew:case $7:this._markInvalidMessageDelivery(i,e);return}let n=this.deliveryRecords.ensureRecord(this.msgId(e));if(n.status!==wr.DeliveryRecordStatus.unknown){cs("unexpected rejection: message from %s was first seen %s ago and has delivery status %d",i,Date.now()-n.firstSeen,wr.DeliveryRecordStatus[n.status]);return}switch(r){case J7.ERR_TOPIC_VALIDATOR_IGNORE:n.status=wr.DeliveryRecordStatus.ignored;return}n.status=wr.DeliveryRecordStatus.invalid,this._markInvalidMessageDelivery(i,e),n.peers.forEach(s=>{this._markInvalidMessageDelivery(s,e)})}duplicateMessage(e){let r=e.receivedFrom,i=this.deliveryRecords.ensureRecord(this.msgId(e));if(!i.peers.has(r))switch(i.status){case wr.DeliveryRecordStatus.unknown:i.peers.add(r);break;case wr.DeliveryRecordStatus.valid:i.peers.add(r),this._markDuplicateMessageDelivery(r,e,i.validated);break;case wr.DeliveryRecordStatus.invalid:this._markInvalidMessageDelivery(r,e);break}}_markInvalidMessageDelivery(e,r){let i=this.peerStats.get(e);!i||r.topicIDs.forEach(n=>{let s=fs.ensureTopicStats(n,i,this.params);!s||(s.invalidMessageDeliveries+=1)})}_markFirstMessageDelivery(e,r){let i=this.peerStats.get(e);!i||r.topicIDs.forEach(n=>{let s=fs.ensureTopicStats(n,i,this.params);if(!s)return;let a=this.params.topics[n].firstMessageDeliveriesCap;s.firstMessageDeliveries+=1,s.firstMessageDeliveries>a&&(s.firstMessageDeliveries=a),!!s.inMesh&&(a=this.params.topics[n].meshMessageDeliveriesCap,s.meshMessageDeliveries+=1,s.meshMessageDeliveries>a&&(s.meshMessageDeliveries=a))})}_markDuplicateMessageDelivery(e,r,i=0){let n=this.peerStats.get(e);if(!n)return;let s=i?Date.now():0;r.topicIDs.forEach(a=>{let f=fs.ensureTopicStats(a,n,this.params);if(!f||!f.inMesh)return;let o=this.params.topics[a];if(i&&s>i+o.meshMessageDeliveriesWindow)return;let c=o.meshMessageDeliveriesCap;f.meshMessageDeliveries+=1,f.meshMessageDeliveries>c&&(f.meshMessageDeliveries=c)})}_getIPs(e){return this._connectionManager.getAll(Z7.default.createFromB58String(e)).map(r=>r.remoteAddr.toOptions().host)}_setIPs(e,r,i){e:for(let n of r){for(let a of i)if(n===a)continue e;let s=this.peerIPs.get(n);s||(s=new Set,this.peerIPs.set(n,s)),s.add(e)}e:for(let n of i){for(let a of r)if(n===a)continue e;let s=this.peerIPs.get(n);!s||(s.delete(e),s.size||this.peerIPs.delete(n))}}_removeIPs(e,r){r.forEach(i=>{let n=this.peerIPs.get(i);!n||(n.delete(e),n.size||this.peerIPs.delete(i))})}_updateIPs(){this.peerStats.forEach((e,r)=>{let i=this._getIPs(r);this._setIPs(r,i,e.ips),e.ips=i})}};os.PeerScore=pg});var yg=C(di=>{"use strict";var tw=di&&di.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),lc=di&&di.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tw(e,t,r)};Object.defineProperty(di,"__esModule",{value:!0});lc(uc(),di);lc(ag(),di);lc(bg(),di)});var vg=C(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.IWantTracer=void 0;var rw=bn(),dc=yn(),iw=$s(),{ERR_INVALID_SIGNATURE:nw,ERR_MISSING_SIGNATURE:sw}=iw.codes,gg=class{constructor(e){this.getMsgId=e,this.promises=new Map}addPromise(e,r){let i=Math.floor(Math.random()*r.length),n=r[i],s=dc.messageIdToString(n),a=this.promises.get(s);a||(a=new Map,this.promises.set(s,a)),a.has(e)||a.set(e,Date.now()+rw.GossipsubIWantFollowupTime)}getBrokenPromises(){let e=Date.now(),r=new Map;return this.promises.forEach((i,n)=>{i.forEach((s,a)=>{s<e&&(r.set(a,(r.get(a)||0)+1),i.delete(a))}),i.size||this.promises.delete(n)}),r}deliverMessage(e){let r=this.getMsgId(e),i=dc.messageIdToString(r);this.promises.delete(i)}rejectMessage(e,r){switch(r){case nw:case sw:return}let i=this.getMsgId(e),n=dc.messageIdToString(i);this.promises.delete(n)}clear(){this.promises.clear()}};So.IWantTracer=gg});var Eg=C((wI,xg)=>{var mg="Expected a function",wg=0/0,aw="[object Symbol]",ow=/^\s+|\s+$/g,fw=/^[-+]0x[0-9a-f]+$/i,cw=/^0b[01]+$/i,uw=/^0o[0-7]+$/i,hw=parseInt,lw=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,dw=typeof self=="object"&&self&&self.Object===Object&&self,pw=lw||dw||Function("return this")(),bw=Object.prototype,yw=bw.toString,gw=Math.max,vw=Math.min,pc=function(){return pw.Date.now()};function xw(t,e,r){var i,n,s,a,f,o,c=0,u=!1,h=!1,b=!0;if(typeof t!="function")throw new TypeError(mg);e=_g(e)||0,Io(r)&&(u=!!r.leading,h="maxWait"in r,s=h?gw(_g(r.maxWait)||0,e):s,b="trailing"in r?!!r.trailing:b);function g(D){var j=i,G=n;return i=n=void 0,c=D,a=t.apply(G,j),a}function y(D){return c=D,f=setTimeout(B,e),u?g(D):a}function S(D){var j=D-o,G=D-c,$=e-j;return h?vw($,s-G):$}function I(D){var j=D-o,G=D-c;return o===void 0||j>=e||j<0||h&&G>=s}function B(){var D=pc();if(I(D))return R(D);f=setTimeout(B,S(D))}function R(D){return f=void 0,b&&i?g(D):(i=n=void 0,a)}function M(){f!==void 0&&clearTimeout(f),c=0,i=o=n=f=void 0}function F(){return f===void 0?a:R(pc())}function L(){var D=pc(),j=I(D);if(i=arguments,n=this,o=D,j){if(f===void 0)return y(o);if(h)return f=setTimeout(B,e),g(o)}return f===void 0&&(f=setTimeout(B,e)),a}return L.cancel=M,L.flush=F,L}function mw(t,e,r){var i=!0,n=!0;if(typeof t!="function")throw new TypeError(mg);return Io(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),xw(t,e,{leading:i,maxWait:e,trailing:n})}function Io(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ww(t){return!!t&&typeof t=="object"}function _w(t){return typeof t=="symbol"||ww(t)&&yw.call(t)==aw}function _g(t){if(typeof t=="number")return t;if(_w(t))return wg;if(Io(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Io(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ow,"");var r=cw.test(t);return r||uw.test(t)?hw(t.slice(2),r?2:8):fw.test(t)?wg:+t}xg.exports=mw});var Ag=C((Sg,Ig)=>{"use strict";var Ew=Eg();Sg=Ig.exports=bc;function bc(t){if(!(this instanceof bc))return new bc(t);t=t||{};let e=t.validity||30,r=new Map,i=Ew(()=>{r.forEach((n,s)=>{let a=n.validity||e;Sw(n.timestamp)>a&&r.delete(s)})},200);this.put=(n,s,a)=>{this.has(n)||r.set(n,{value:s,timestamp:new Date,validity:a}),i()},this.get=n=>{if(r.has(n))return r.get(n).value;throw new Error("key does not exist")},this.has=n=>r.has(n)}function Sw(t){let r=new Date().getTime()-t.getTime();return Math.floor(r/1e3)}});var Cg=C((_I,Bg)=>{"use strict";function kg(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Iw(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return kg(t,r)}catch(i){r.message=t.message,r.stack=t.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(t)),kg(new n,r)}}Bg.exports=Iw});var Tg=C(yc=>{"use strict";yc.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"};yc.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_INVALID_PROTOCOLS_FOR_STREAM:"ERR_INVALID_PROTOCOLS_FOR_STREAM",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_RELAYED_DIAL:"ERR_RELAYED_DIAL",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}});var Pg=C((SI,Rg)=>{"use strict";var us=En(),Mg=us.Reader,Aw=us.Writer,Oe=us.util,Hs=us.roots["libp2p-envelope"]||(us.roots["libp2p-envelope"]={});Hs.Envelope=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.publicKey=Oe.newBuffer([]),t.prototype.payloadType=Oe.newBuffer([]),t.prototype.payload=Oe.newBuffer([]),t.prototype.signature=Oe.newBuffer([]),t.encode=function(r,i){return i||(i=Aw.create()),r.publicKey!=null&&Object.hasOwnProperty.call(r,"publicKey")&&i.uint32(10).bytes(r.publicKey),r.payloadType!=null&&Object.hasOwnProperty.call(r,"payloadType")&&i.uint32(18).bytes(r.payloadType),r.payload!=null&&Object.hasOwnProperty.call(r,"payload")&&i.uint32(26).bytes(r.payload),r.signature!=null&&Object.hasOwnProperty.call(r,"signature")&&i.uint32(42).bytes(r.signature),i},t.decode=function(r,i){r instanceof Mg||(r=Mg.create(r));for(var n=i===void 0?r.len:r.pos+i,s=new Hs.Envelope;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:s.publicKey=r.bytes();break;case 2:s.payloadType=r.bytes();break;case 3:s.payload=r.bytes();break;case 5:s.signature=r.bytes();break;default:r.skipType(a&7);break}}return s},t.fromObject=function(r){if(r instanceof Hs.Envelope)return r;var i=new Hs.Envelope;return r.publicKey!=null&&(typeof r.publicKey=="string"?Oe.base64.decode(r.publicKey,i.publicKey=Oe.newBuffer(Oe.base64.length(r.publicKey)),0):r.publicKey.length&&(i.publicKey=r.publicKey)),r.payloadType!=null&&(typeof r.payloadType=="string"?Oe.base64.decode(r.payloadType,i.payloadType=Oe.newBuffer(Oe.base64.length(r.payloadType)),0):r.payloadType.length&&(i.payloadType=r.payloadType)),r.payload!=null&&(typeof r.payload=="string"?Oe.base64.decode(r.payload,i.payload=Oe.newBuffer(Oe.base64.length(r.payload)),0):r.payload.length&&(i.payload=r.payload)),r.signature!=null&&(typeof r.signature=="string"?Oe.base64.decode(r.signature,i.signature=Oe.newBuffer(Oe.base64.length(r.signature)),0):r.signature.length&&(i.signature=r.signature)),i},t.toObject=function(r,i){i||(i={});var n={};return i.defaults&&(i.bytes===String?n.publicKey="":(n.publicKey=[],i.bytes!==Array&&(n.publicKey=Oe.newBuffer(n.publicKey))),i.bytes===String?n.payloadType="":(n.payloadType=[],i.bytes!==Array&&(n.payloadType=Oe.newBuffer(n.payloadType))),i.bytes===String?n.payload="":(n.payload=[],i.bytes!==Array&&(n.payload=Oe.newBuffer(n.payload))),i.bytes===String?n.signature="":(n.signature=[],i.bytes!==Array&&(n.signature=Oe.newBuffer(n.signature)))),r.publicKey!=null&&r.hasOwnProperty("publicKey")&&(n.publicKey=i.bytes===String?Oe.base64.encode(r.publicKey,0,r.publicKey.length):i.bytes===Array?Array.prototype.slice.call(r.publicKey):r.publicKey),r.payloadType!=null&&r.hasOwnProperty("payloadType")&&(n.payloadType=i.bytes===String?Oe.base64.encode(r.payloadType,0,r.payloadType.length):i.bytes===Array?Array.prototype.slice.call(r.payloadType):r.payloadType),r.payload!=null&&r.hasOwnProperty("payload")&&(n.payload=i.bytes===String?Oe.base64.encode(r.payload,0,r.payload.length):i.bytes===Array?Array.prototype.slice.call(r.payload):r.payload),r.signature!=null&&r.hasOwnProperty("signature")&&(n.signature=i.bytes===String?Oe.base64.encode(r.signature,0,r.signature.length):i.bytes===Array?Array.prototype.slice.call(r.signature):r.signature),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,us.util.toJSONOptions)},t}();Rg.exports=Hs});var Lg=C((II,Dg)=>{"use strict";var Bw=Cg(),kw=Br(),Cw=Jt(),Tw=tc(),Rw=ss(),gc=oa(),Ao=wi(),{codes:Mw}=Tg(),{Envelope:Og}=Pg(),Li=class{constructor({peerId:e,payloadType:r,payload:i,signature:n}){this.peerId=e,this.payloadType=r,this.payload=i,this.signature=n,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;let e=Tw.marshalPublicKey(this.peerId.pubKey);return this._marshal=Og.encode({publicKey:e,payloadType:this.payloadType,payload:this.payload,signature:this.signature}).finish(),this._marshal}equals(e){return Ao(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&Ao(this.payloadType,e.payloadType)&&Ao(this.payload,e.payload)&&Ao(this.signature,e.signature)}validate(e){let r=Ng(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(r,this.signature)}},Ng=(t,e,r)=>{let i=Cw(t),n=gc.encode(i.byteLength),s=gc.encode(e.length),a=gc.encode(r.length);return kw([new Uint8Array(n),i,new Uint8Array(s),e,new Uint8Array(a),r])};Li.createFromProtobuf=async t=>{let e=Og.decode(t),r=await Rw.createFromPubKey(e.publicKey);return new Li({peerId:r,payloadType:e.payloadType,payload:e.payload,signature:e.signature})};Li.seal=async(t,e)=>{let r=t.domain,i=t.codec,n=t.marshal(),s=Ng(r,i,n),a=await e.privKey.sign(s);return new Li({peerId:e,payloadType:i,payload:n,signature:a})};Li.openAndCertify=async(t,e)=>{let r=await Li.createFromProtobuf(t);if(!await r.validate(e))throw Bw(new Error("envelope signature is not valid for the given domain"),Mw.ERR_SIGNATURE_NOT_VALID);return r};Dg.exports=Li});var Kw=C((pi,qg)=>{"use strict";var Pw=pi&&pi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Dw=pi&&pi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fg=pi&&pi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pw(e,t,r);return Dw(e,t),e},js=pi&&pi.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function f(u){try{c(i.next(u))}catch(h){a(h)}}function o(u){try{c(i.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):n(u.value).then(f,o)}c((i=i.apply(t,e||[])).next())})},vc=Fg(Gy()),Ow=Zy(),xc=Qy(),ve=Fg(bn()),Nw=tg(),Bo=oc(),Ct=yn(),mc=yg(),Lw=vg(),qw=Ag(),wc=ss(),Fw=Lg(),_c=class extends vc.default{constructor(e,r={}){let i=[ve.GossipsubIDv11,ve.GossipsubIDv10],n=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:ve.GossipsubD,Dlo:ve.GossipsubDlo,Dhi:ve.GossipsubDhi,Dscore:ve.GossipsubDscore,Dout:ve.GossipsubDout,Dlazy:ve.GossipsubDlazy},r),{scoreParams:mc.createPeerScoreParams(r.scoreParams),scoreThresholds:mc.createPeerScoreThresholds(r.scoreThresholds)});n.fallbackToFloodsub&&i.push(ve.FloodsubID),super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:i,libp2p:e},n)),this._options=n,this.direct=new Set(n.directPeers.map(s=>s.id.toB58String())),n.directPeers.forEach(s=>{e.peerStore.addressBook.add(s.id,s.addrs)}),this.seenCache=new qw,this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=r.messageCache||new Ow.MessageCache(ve.GossipsubHistoryGossip,ve.GossipsubHistoryLength,this.getMsgId.bind(this)),this.heartbeat=new Nw.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new Lw.IWantTracer(this.getMsgId.bind(this)),this._libp2p=e,this.score=new mc.PeerScore(this._options.scoreParams,e.connectionManager,this.getMsgId.bind(this))}_decodeRpc(e){return xc.RPC.decode(e)}_encodeRpc(e){return xc.RPC.encode(e).finish()}_addPeer(e,r){let i=super._addPeer(e,r);this.score.addPeer(e.toB58String());let n=!1;for(let s of this._libp2p.connectionManager.getAll(e))if(s.stat.direction==="outbound"&&Array.from(s.registry.values()).some(a=>r===a.protocol)){n=!0;break}return this.outbound.set(i.id.toB58String(),n),i}_removePeer(e){let r=super._removePeer(e),i=e.toB58String();for(let n of this.mesh.values())n.delete(i);for(let n of this.fanout.values())n.delete(i);return this.gossip.delete(i),this.control.delete(i),this.outbound.delete(i),this.score.removePeer(i),r}_processRpc(e,r,i){return super._processRpc(e,r,i)?(i.control&&this._processRpcControlMessage(e,i.control),!0):!1}_processRpcControlMessage(e,r){if(!r)return;let i=r.ihave?this._handleIHave(e,r.ihave):[],n=r.iwant?this._handleIWant(e,r.iwant):[],s=r.graft?this._handleGraft(e,r.graft):[];if(r.prune&&this._handlePrune(e,r.prune),!i.length&&!n.length&&!s.length)return;let a=Ct.createGossipRpc(n,{iwant:i,prune:s});this._sendRpc(e,a)}_processRpcMessage(e){let r=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return js(this,void 0,void 0,function*(){let i=this.getMsgId(e),n=Ct.messageIdToString(i);if(this.seenCache.has(n)){this.score.duplicateMessage(e);return}this.seenCache.put(n),this.score.validateMessage(e),yield r._processRpcMessage.call(this,e)})}_acceptFrom(e){return this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.graylistThreshold}validate(e){let r=Object.create(null,{validate:{get:()=>super.validate}});return js(this,void 0,void 0,function*(){try{yield r.validate.call(this,e)}catch(i){throw this.score.rejectMessage(e,i.code),this.gossipTracer.rejectMessage(e,i.code),i}})}_handleIHave(e,r){if(!r.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,i),[];let n=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,n),n>ve.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,n),[];let s=this.iasked.get(e)||0;if(s>=ve.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,s),[];let a=new Map;if(r.forEach(({topicID:c,messageIDs:u})=>{!c||!u||!this.mesh.has(c)||u.forEach(h=>{let b=Ct.messageIdToString(h);this.seenCache.has(b)||a.set(b,h)})}),!a.size)return[];let f=a.size;f+s>ve.GossipsubMaxIHaveLength&&(f=ve.GossipsubMaxIHaveLength-s),this.log("IHAVE: Asking for %d out of %d messages from %s",f,a.size,e);let o=Array.from(a.values());return Ct.shuffle(o),o=o.slice(0,f),this.iasked.set(e,s+f),this.gossipTracer.addPromise(e,o),[{messageIDs:o}]}_handleIWant(e,r){if(!r.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",e,i),[];let n=new Map;return r.forEach(({messageIDs:s})=>{s&&s.forEach(a=>{let[f,o]=this.messageCache.getForPeer(a,e);if(!!f){if(o>ve.GossipsubGossipRetransmission){this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",e,a);return}n.set(Ct.messageIdToString(a),f)}})}),n.size?(this.log("IWANT: Sending %d messages to %s",n.size,e),Array.from(n.values()).map(vc.utils.normalizeOutRpcMessage)):[]}_handleGraft(e,r){let i=[],n=this.score.score(e),s=this._now(),a=this._options.doPX;return r.forEach(({topicID:f})=>{var o;if(!f)return;let c=this.mesh.get(f);if(!c){a=!1;return}if(c.has(e))return;if(this.direct.has(e)){this.log("GRAFT: ignoring request from direct peer %s",e),i.push(f),a=!1;return}let u=(o=this.backoff.get(f))===null||o===void 0?void 0:o.get(e);if(typeof u=="number"&&s<u){this.log("GRAFT: ignoring backed off peer %s",e),this.score.addPenalty(e,1),a=!1;let h=u+ve.GossipsubGraftFloodThreshold-ve.GossipsubPruneBackoff;s<h&&this.score.addPenalty(e,1),this._addBackoff(e,f),i.push(f);return}if(n<0){this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",e,n,f),i.push(f),a=!1,this._addBackoff(e,f);return}if(c.size>=this._options.Dhi&&!this.outbound.get(e)){i.push(f),this._addBackoff(e,f);return}this.log("GRAFT: Add mesh link from %s in %s",e,f),this.score.graft(e,f),c.add(e)}),i.length?i.map(f=>this._makePrune(e,f,a)):[]}_handlePrune(e,r){let i=this.score.score(e);r.forEach(({topicID:n,backoff:s,peers:a})=>{if(!n)return;let f=this.mesh.get(n);if(!!f&&(this.log("PRUNE: Remove mesh link to %s in %s",e,n),this.score.prune(e,n),f.delete(e),typeof s=="number"&&s>0?this._doAddBackoff(e,n,s*1e3):this._addBackoff(e,n),a&&a.length)){if(i<this._options.scoreThresholds.acceptPXThreshold){this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",e,i,n);return}this._pxConnect(a)}})}_addBackoff(e,r){this._doAddBackoff(e,r,ve.GossipsubPruneBackoff)}_doAddBackoff(e,r,i){let n=this.backoff.get(r);n||(n=new Map,this.backoff.set(r,n));let s=this._now()+i;(n.get(e)||0)<s&&n.set(e,s)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach((e,r)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",r,e),this.score.addPenalty(r,e)})}_clearBackoff(){if(this.heartbeatTicks%ve.GossipsubPruneBackoffTicks!=0)return;let e=this._now();this.backoff.forEach((r,i)=>{r.forEach((n,s)=>{n<e&&r.delete(s)}),r.size===0&&this.backoff.delete(i)})}_directConnect(){if(this.heartbeatTicks%ve.GossipsubDirectConnectTicks!=0)return;let e=[];this.direct.forEach(r=>{let i=this.peers.get(r);(!i||!i.isWritable)&&e.push(r)}),e.length&&e.forEach(r=>{this._connect(r)})}_pxConnect(e){return js(this,void 0,void 0,function*(){e.length>ve.GossipsubPrunePeers&&(Ct.shuffle(e),e=e.slice(0,ve.GossipsubPrunePeers));let r=[];yield Promise.all(e.map(i=>js(this,void 0,void 0,function*(){if(!i.peerID)return;let s=wc.createFromBytes(i.peerID).toB58String();if(!this.peers.has(s)){if(!i.signedPeerRecord){r.push(s);return}try{let a=yield Fw.openAndCertify(i.signedPeerRecord,"libp2p-peer-record"),f=a.peerId.toB58String();if(s!==f){this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",f,s);return}if(!this._libp2p.peerStore.addressBook.consumePeerRecord(a)){this.log("bogus peer record obtained through px: could not add peer record to address book");return}r.push(s)}catch(a){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}}}))),!!r.length&&r.forEach(i=>this._connect(i))})}start(){super.start(),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout(()=>{this.direct.forEach(e=>{this._connect(e)})},ve.GossipsubDirectConnectInitialDelay)}stop(){super.stop(),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),clearTimeout(this._directPeerInitial)}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(wc.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",e);let r=this.fanout.get(e);if(r)r.forEach(i=>{this.score.score(i)<0&&r.delete(i)}),r.size<this._options.D&&Bo.getGossipPeers(this,e,this._options.D-r.size,i=>!r.has(i)&&!this.direct.has(i)&&this.score.score(i)>=0).forEach(i=>r.add(i)),this.mesh.set(e,r),this.fanout.delete(e),this.lastpub.delete(e);else{let i=Bo.getGossipPeers(this,e,this._options.D,n=>!this.direct.has(n)&&this.score.score(n)>=0);this.mesh.set(e,i)}this.mesh.get(e).forEach(i=>{this.log("JOIN: Add mesh link to %s in %s",i,e),this._sendGraft(i,e)})}leave(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",e);let r=this.mesh.get(e);r&&(r.forEach(i=>{this.log("LEAVE: Remove mesh link to %s in %s",i,e),this._sendPrune(i,e)}),this.mesh.delete(e))}_publish(e){return js(this,void 0,void 0,function*(){e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e),this.gossipTracer.deliverMessage(e));let r=this.getMsgId(e),i=Ct.messageIdToString(r);this.seenCache.put(i),this.messageCache.put(e);let n=new Set;e.topicIDs.forEach(a=>{let f=this.topics.get(a);if(!!f)if(this._options.floodPublish&&e.from===this.peerId.toB58String())f.forEach(o=>{(this.direct.has(o)||this.score.score(o)>=this._options.scoreThresholds.publishThreshold)&&n.add(o)});else{this.direct.forEach(c=>{n.add(c)}),f.forEach(c=>{let u=this.score.score(c),h=this.peers.get(c);!h||h.protocol===ve.FloodsubID&&u>=this._options.scoreThresholds.publishThreshold&&n.add(c)});let o=this.mesh.get(a);if(!o||!o.size){if(o=this.fanout.get(a),!o){let c=Bo.getGossipPeers(this,a,this._options.D,u=>this.score.score(u)>=this._options.scoreThresholds.publishThreshold);c.size>0?(o=c,this.fanout.set(a,c)):o=new Set}this.lastpub.set(a,this._now())}o.forEach(c=>{n.add(c)})}});let s=Ct.createGossipRpc([vc.utils.normalizeOutRpcMessage(e)]);n.forEach(a=>{a!==e.from&&this._sendRpc(a,s)})})}_sendGraft(e,r){let i=[{topicID:r}],n=Ct.createGossipRpc([],{graft:i});this._sendRpc(e,n)}_sendPrune(e,r){let i=[this._makePrune(e,r,this._options.doPX)],n=Ct.createGossipRpc([],{prune:i});this._sendRpc(e,n)}_sendRpc(e,r){let i=this.peers.get(e);if(!i||!i.isWritable)return;let n=this.control.get(e);n&&(this._piggybackControl(e,r,n),this.control.delete(e));let s=this.gossip.get(e);s&&(this._piggybackGossip(e,r,s),this.gossip.delete(e)),i.write(xc.RPC.encode(r).finish())}_piggybackControl(e,r,i){let n=(i.graft||[]).filter(({topicID:a})=>(a&&this.mesh.get(a)||new Set).has(e)),s=(i.prune||[]).filter(({topicID:a})=>!(a&&this.mesh.get(a)||new Set).has(e));!n.length&&!s.length||(r.control?(r.control.graft=r.control.graft&&r.control.graft.concat(n),r.control.prune=r.control.prune&&r.control.prune.concat(s)):r.control={ihave:[],iwant:[],graft:n,prune:s})}_piggybackGossip(e,r,i){r.control||(r.control={ihave:[],iwant:[],graft:[],prune:[]}),r.control.ihave=i}_sendGraftPrune(e,r,i){let n=this._options.doPX;for(let[s,a]of e){let f=a.map(h=>({topicID:h})),o=[],c=r.get(s);c&&(o=c.map(h=>this._makePrune(s,h,n&&!i.get(s))),r.delete(s));let u=Ct.createGossipRpc([],{graft:f,prune:o});this._sendRpc(s,u)}for(let[s,a]of r){let f=a.map(c=>this._makePrune(s,c,n&&!i.get(s))),o=Ct.createGossipRpc([],{prune:f});this._sendRpc(s,o)}}_emitGossip(e,r){let i=this.messageCache.getGossipIDs(e);if(!i.length)return;Ct.shuffle(i),i.length>ve.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",i.length);let n=[],s=this.topics.get(e);if(!s)return;s.forEach(o=>{let c=this.peers.get(o);!c||!r.has(o)&&!this.direct.has(o)&&Ct.hasGossipProtocol(c.protocol)&&this.score.score(o)>=this._options.scoreThresholds.gossipThreshold&&n.push(o)});let a=this._options.Dlazy,f=ve.GossipsubGossipFactor*n.length;f>a&&(a=f),a>n.length?a=n.length:Ct.shuffle(n),n.slice(0,a).forEach(o=>{let c=i;i.length>ve.GossipsubMaxIHaveLength&&(c=Ct.shuffle(c.slice()).slice(0,ve.GossipsubMaxIHaveLength)),this._pushGossip(o,{topicID:e,messageIDs:c})})}_flush(){for(let[e,r]of this.gossip.entries()){this.gossip.delete(e);let i=Ct.createGossipRpc([],{ihave:r});this._sendRpc(e,i)}for(let[e,r]of this.control.entries()){this.control.delete(e);let i=Ct.createGossipRpc([],{graft:r.graft,prune:r.prune});this._sendRpc(e,i)}}_pushGossip(e,r){this.log("Add gossip to %s",e);let i=this.gossip.get(e)||[];this.gossip.set(e,i.concat(r))}_now(){return Date.now()}_makePrune(e,r,i){if(this.peers.get(e).protocol===ve.GossipsubIDv10)return{topicID:r,peers:[]};let n=ve.GossipsubPruneBackoff/1e3,s=[];return i&&Bo.getGossipPeers(this,r,ve.GossipsubPrunePeers,f=>f!==e&&this.score.score(f)>=0).forEach(f=>{let o=wc.createFromB58String(f);s.push({peerID:o.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(o)})}),{topicID:r,peers:s,backoff:n}}};_c.multicodec=ve.GossipsubIDv11;qg.exports=_c});return Kw();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pGossipsub}));
